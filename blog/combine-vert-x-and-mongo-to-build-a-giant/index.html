<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Combine vert.x and mongo to build a giant | 博客 | Eclipse Vert.x</title><meta name="next-head-count" content="13"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-378e68e29c265886.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-950829b7c220163d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7b206233943f98f9.js" defer=""></script><script src="/_next/static/chunks/615-7e003fd583a96500.js" defer=""></script><script src="/_next/static/chunks/592-e6341c27ab5a8f7e.js" defer=""></script><script src="/_next/static/chunks/4-de615ee773d3f25e.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-6d987dd4460a2881.js" defer=""></script><script src="/_next/static/_MdD-KOBPRg_18nUO-ssn/_buildManifest.js" defer=""></script><script src="/_next/static/_MdD-KOBPRg_18nUO-ssn/_ssgManifest.js" defer=""></script><script src="/_next/static/_MdD-KOBPRg_18nUO-ssn/_middlewareManifest.js" defer=""></script><style id="__jsx-400ec7965926e858">.dropdown-item.jsx-400ec7965926e858 {white-space:nowrap;
line-height:2;
width:100%;
padding:0 1.5rem;
cursor:pointer}
.dropdown-item.jsx-400ec7965926e858:hover {background-color:#e9ecef}
.dropdown-item.active.jsx-400ec7965926e858 {font-weight:400;
padding-left:.75rem}
.dropdown-item.has-active-siblings.jsx-400ec7965926e858:not(.active) {padding-left:calc(0.75rem + 16px + 0.5em)}
.dropdown-item.jsx-400ec7965926e858 .dropdown-check-icon.jsx-400ec7965926e858 {width:16px;
margin-right:.5em;
margin-top:1px}</style><style id="__jsx-6650573c8f14945d">.dropdown.jsx-6650573c8f14945d {position:relative;
display:inline-block}
.dropdown.jsx-6650573c8f14945d .dropdown-title.jsx-6650573c8f14945d {margin-right:0;
cursor:pointer;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d {position:absolute;
background-color:#f8f9fa;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
border-radius:.8rem;
list-style-type:none;
padding:.6666666667rem 0;
margin:.25rem 0 0 0;
z-index:100;
display:none;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a {color:#4d4d4d;
-webkit-text-decoration:none;
text-decoration:none;
font-weight:300}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.align-right.jsx-6650573c8f14945d {right:0}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.visible.jsx-6650573c8f14945d {display:block}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a.jsx-6650573c8f14945d:hover {color:inherit}
.dropdown.jsx-6650573c8f14945d svg {margin-bottom:2px}</style><style id="__jsx-f705e145f931f504">.navbar {position:absolute;
top:2.75rem;
width:100%}
.navbar a {color:#3c3c3b}
.navbar a.navbar-menu-item, .navbar .dropdown-title {text-transform:uppercase}
.navbar a.navbar-menu-item:hover, .navbar .dropdown-title:hover {-webkit-text-decoration:none;
text-decoration:none;
color:#898987;
-webkit-transition:color .15s ease-in-out;
transition:color .15s ease-in-out}
.navbar .navbar-content {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
position:relative}
.navbar .navbar-content .navbar-logo {-webkit-flex:1;
-ms-flex:1;
flex:1}
.navbar .navbar-content .navbar-logo img {width:8.3rem}
.navbar .navbar-content .navbar-collapse-button {display:none;
cursor:pointer}
@media (max-width:1000px) {.navbar .navbar-content .navbar-collapse-button {display:inline-block}}
.navbar .navbar-content .navbar-collapse-button span {display:block;
width:33px;
height:4px;
margin-bottom:5px;
position:relative;
background:#3c3c3b;
border-radius:3px;
z-index:1;
transform-origin:4px 0;
-webkit-transition:-webkit-transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease;
transition:transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease}
.navbar .navbar-content .navbar-collapse-button span:first-child {transform-origin:0% 0%}
.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2) {transform-origin:0% 100%}
.navbar .navbar-content .navbar-right {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline;
margin-bottom:10px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-right {max-height:0;
-webkit-transition:max-height 200ms ease-in-out;
transition:max-height 200ms ease-in-out;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:absolute;
top:2.75rem;
left:.8rem;
right:.8rem;
background-color:#f8f9fa;
overflow-x:auto;
overflow-y:hidden}}
.navbar .navbar-content .navbar-menu .navbar-menu-item {font-weight:400;
margin-right:2.5rem}
.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down {margin-right:1.8rem}
@media (max-width:1250px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {margin-right:1.5rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {display:block;
margin-bottom:1rem;
font-size:1.2rem}}
.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon {margin-left:.25em}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
padding:1rem}}
.navbar .navbar-content .navbar-social {margin-left:1.6rem;
font-size:.875rem}
.navbar .navbar-content .navbar-social svg {height:16px;
margin-bottom:2px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social svg {height:1rem}}
@media (max-width:1250px) {.navbar .navbar-content .navbar-social {margin-left:1rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social {margin-left:auto;
padding:0 1rem 1rem 0;
font-size:1rem}}
@media (max-width:768px) {.navbar {top:1rem}}
.page .navbar {top:0;
padding-top:1.5rem;
padding-bottom:1rem;
position:fixed;
background-color:#fff;
z-index:2}</style><style id="__jsx-2ac0bd13852cf810">.blog-navbar {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
margin-bottom:2rem}
.blog-navbar h2 {display:inline;
margin:0;
-webkit-flex:1;
-ms-flex:1;
flex:1}
.blog-navbar ul {padding:0;
list-style-type:none;
margin:0;
display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
text-transform:uppercase;
-webkit-box-pack:end;
-ms-flex-pack:end;
-webkit-justify-content:flex-end;
justify-content:flex-end}
.blog-navbar ul li {font-size:.875rem;
font-weight:400}
.blog-navbar ul li:not(:first-child) {margin-left:2rem}
@media (max-width:640px) {.blog-navbar {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.blog-navbar ul {margin-top:1rem}}
.blog-navbar .feed-icons {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-left:1.85rem}
.blog-navbar .feed-icons svg {height:1.05rem;
margin-bottom:3px}
@media (max-width:640px) {.blog-navbar .feed-icons {margin-top:.5rem}}</style><style id="__jsx-1a10d7790f826df">.alert.jsx-1a10d7790f826df {border-top-right-radius:.8rem;
border-bottom-right-radius:.8rem;
background-color:#f8f9fa;
padding:1rem;
margin:1.5rem 0;
border-left:9px solid transparent}
.alert.info.jsx-1a10d7790f826df {border-color:#6cb9f0}
.alert.warning.jsx-1a10d7790f826df {border-color:#f0a46c}
.alert.error.jsx-1a10d7790f826df {border-color:#f0646c}
.alert.jsx-1a10d7790f826df .alert-title.jsx-1a10d7790f826df {font-weight:400}
.alert.jsx-1a10d7790f826df p.jsx-1a10d7790f826df:first-of-type {margin-top:0}
.alert.jsx-1a10d7790f826df p.jsx-1a10d7790f826df:last-of-type {margin-bottom:0}</style><style id="__jsx-73ea682053e23281">.read-more-link.jsx-73ea682053e23281 {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.read-more-link.jsx-73ea682053e23281::after {content:"";
width:0;
height:0;
display:inline-block;
border-top:.39rem solid transparent;
border-bottom:.39rem solid transparent;
border-left:.45rem solid #782b90;
margin-left:.5rem;
margin-top:2px;
-webkit-transition:all 100ms ease;
transition:all 100ms ease}
.read-more-link.jsx-73ea682053e23281:hover::after {border-left-color:#571f69;
margin-left:.6666666667rem}</style><style id="__jsx-cc12eb2116299e94">.blog-entry {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
border-top:1px solid #dee2e6;
padding-top:2rem}
.blog-entry .blog-entry-meta {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-entry h3 {font-size:1.5rem;
line-height:1.4;
margin-top:.5rem;
margin-bottom:1rem}
.blog-entry h3 a:hover {-webkit-text-decoration:none;
text-decoration:none}
.blog-entry .blog-entry-date {font-size:.875rem;
text-transform:uppercase;
white-space:nowrap;
margin-right:.6666666667rem}
.blog-entry .blog-entry-category {font-size:.875rem;
text-transform:uppercase;
font-weight:400;
color:#3c3c3b}
.blog-entry .blog-entry-authors ul {list-style-type:none;
padding:0;
display:inline}
.blog-entry .blog-entry-authors ul li {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-entry .blog-entry-authors ul li:not(:last-child) {margin-right:1rem}
.blog-entry .blog-entry-authors ul li:not(:last-child).avatars-only {margin-right:.25rem}
.blog-entry .blog-entry-authors ul li img {width:24px;
height:24px;
border-radius:12px;
margin-right:.3333333333rem}
.blog-entry .blog-entry-summary {-webkit-flex:1;
-ms-flex:1;
flex:1;
text-align:justify;
hyphens:auto}</style><style id="__jsx-a04fe959d555a951">.blog-post .blog-post-main {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
width:100%;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between}
.blog-post .blog-post-main .blog-post-content {width:70%;
border-top:1px solid #dee2e6}
.blog-post .blog-post-main .blog-post-content >h1 {line-height:1.4;
margin-bottom:2rem}
.blog-post .blog-post-main .blog-post-content >h2, .blog-post .blog-post-main .blog-post-content >h3, .blog-post .blog-post-main .blog-post-content >h4 {line-height:1.4;
margin-top:3rem}
.blog-post .blog-post-main .blog-post-content ul {padding-left:1.1rem}
.blog-post .blog-post-main .blog-post-content ul ul {padding-left:1.3rem;
margin-top:.5rem;
margin-bottom:1rem}
.blog-post .blog-post-main .blog-post-content li {margin-bottom:.5rem}
.blog-post .blog-post-main .blog-post-content img {display:block;
max-width:100%;
margin-left:auto;
margin-right:auto}
.blog-post .blog-post-main .blog-post-content .youtube-embed {padding-bottom:56.25%;
position:relative;
display:block}
.blog-post .blog-post-main .blog-post-content .youtube-embed iframe {position:absolute;
left:0;
top:0;
bottom:0;
right:0;
width:100%;
height:100%}
.blog-post .blog-post-main .blog-post-content blockquote {margin:0 0 1rem;
border-left:5px solid #dee2e6;
font-style:italic}
.blog-post .blog-post-main .blog-post-content blockquote p {padding:.25rem 1rem}
.blog-post .blog-post-main .blog-post-content .gist .gist-data {max-height:500px}
.blog-post .blog-post-main .blog-post-sidebar {width:calc(30% - 2rem);
border-top:1px solid #dee2e6}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author {margin-top:1rem;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author:first-child {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-avatar {width:60px;
height:60px;
border-radius:30px;
margin-right:.8rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-name {font-size:1.2rem;
line-height:1.2;
margin-bottom:.25rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author .blog-post-author-name a {font-weight:400}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-pinned {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-date {margin-top:1rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-category {text-transform:uppercase;
font-weight:400}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-reading-time {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-reading-time .feather {margin-bottom:2px;
margin-right:2px}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons {margin-top:2rem}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a {color:#3c3c3b}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a svg {-webkit-transition:-webkit-transform .15s ease-in-out;
transition:transform .15s ease-in-out}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a:hover svg {-webkit-transform:scale(1.1);
-moz-transform:scale(1.1);
-ms-transform:scale(1.1);
transform:scale(1.1)}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-sidebar-share-icons a:not(:last-child) {margin-right:.6666666667rem}
@media (max-width:1000px) {.blog-post .blog-post-main {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.blog-post .blog-post-main .blog-post-content {width:100%}
.blog-post .blog-post-main .blog-post-sidebar {width:100%;
text-align:center}
.blog-post .blog-post-main .blog-post-sidebar .blog-post-author {-webkit-justify-content:center;
justify-content:center;
margin-bottom:2rem}}
.blog-post .blog-post-next-prev {display:grid;
grid-template-columns:1fr 1fr 1fr;
grid-gap:4rem;
border-top:1px solid #dee2e6;
margin-top:6rem;
padding-top:2rem}
.blog-post .blog-post-next-prev h5 {text-align:center}
.blog-post .blog-post-next-prev .blog-post-next-prev-entry:last-child {grid-column-start:3}
@media (max-width:1000px) {.blog-post .blog-post-next-prev {margin-top:3rem;
grid-template-columns:1fr;
grid-gap:2rem}
.blog-post .blog-post-next-prev .blog-post-next-prev-entry:last-child {grid-column-start:1}}
.blog-post .blog-post-related {padding-top:2rem}
.blog-post .blog-post-related h5 {text-align:center}
.blog-post .blog-post-related .blog-post-related-posts {display:grid;
grid-template-columns:1fr 1fr 1fr;
grid-gap:4rem}
@media (max-width:1000px) {.blog-post .blog-post-related .blog-post-related-posts {grid-template-columns:1fr}}</style><style id="__jsx-aeedcf66895f49d7">footer {font-size:.875rem;
padding-top:3rem;
padding-bottom:4rem;
background-color:#f8f9fa;
border-top:1px solid #dee2e6;
margin-top:1rem;
color:#6f6970}
footer h5 {font-size:1rem;
margin-top:0;
margin-bottom:1rem;
color:#3c3c3b;
text-transform:uppercase}
footer ul {padding:0;
list-style:none;
line-height:2}
footer a {color:#6f6970}
footer .footer-logo img, footer .footer-copyright-eclipse-logo img {-webkit-filter:grayscale(100);
filter:grayscale(100);
opacity:.5;
-webkit-transition:all .15s ease-in-out;
transition:all .15s ease-in-out}
footer .footer-logo img:hover, footer .footer-copyright-eclipse-logo img:hover {-webkit-filter:grayscale(0);
filter:grayscale(0);
opacity:1}
footer .footer-nav-section {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
margin-bottom:6rem}
footer .footer-nav-section .footer-logo {margin-top:.4rem}
footer .footer-nav-section .footer-logo img {width:8.3rem}
footer .footer-nav-section .footer-nav-list {width:20%}
footer .footer-copyright {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
footer .footer-copyright a {white-space:nowrap}
footer .footer-copyright .footer-copyright-eclipse-logo {width:17%;
margin-bottom:.5rem}
@media (max-width:1250px) {footer .footer-copyright .footer-copyright-break {display:none}
footer .footer-copyright .footer-copyright-eclipse-logo {width:30%}}
@media (max-width:1000px) {footer .footer-nav-section .footer-nav-list {width:25%}
footer .footer-copyright .footer-copyright-break {display:inline-block}
footer .footer-copyright .footer-copyright-eclipse-logo {width:40%}}
@media (max-width:768px) {footer .footer-nav-section {max-width:100%;
margin-left:auto;
margin-right:auto}}
@media (max-width:640px) {footer .footer-nav-section {max-width:80%;
margin-bottom:3rem;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
footer .footer-nav-section h5 {cursor:pointer}
footer .footer-nav-section h5::after {display:inline-block;
content:"";
border-top:.4em solid;
border-right:.4em solid transparent;
border-bottom:0;
border-left:.4em solid transparent;
position:absolute;
top:.75rem;
right:0}
footer .footer-nav-section .footer-nav-list {width:100%;
position:relative}
footer .footer-nav-section .footer-nav-list ul {overflow-y:hidden;
max-height:0;
-webkit-transition:all 200ms ease-in-out;
transition:all 200ms ease-in-out}
footer .footer-nav-section .footer-nav-list ul.visible {margin-bottom:2rem}
footer .footer-nav-section .footer-logo {margin:0 auto 3rem auto;
width:auto}
footer .footer-copyright {max-width:80%;
text-align:center;
margin-left:auto;
margin-right:auto;
-webkit-flex-direction:column-reverse;
-ms-flex-direction:column-reverse;
flex-direction:column-reverse}
footer .footer-copyright .footer-copyright-eclipse-logo {width:7.6rem;
margin-bottom:1rem}}</style><style id="__jsx-b068a573b7111330">.page-content.jsx-b068a573b7111330 {margin-top:6em;
margin-bottom:8rem}</style><style id="__jsx-7824b3ad3820c879">html {line-height:1.15;
-webkit-text-size-adjust:100%}
body {margin:0}
main {display:block}
h1 {font-size:2em;
margin:.67em 0}
hr {box-sizing:content-box;
height:0;
overflow:visible}
pre {font-family:monospace, monospace;
font-size:1em}
a {background-color:transparent}
abbr[title] {border-bottom:none;
text-decoration:underline;
text-decoration:underline dotted}
b, strong {font-weight:bolder}
code, kbd, samp {font-family:monospace, monospace;
font-size:1em}
small {font-size:80%}
sub, sup {font-size:75%;
line-height:0;
position:relative;
vertical-align:baseline}
sub {bottom:-0.25em}
sup {top:-0.5em}
img {border-style:none}
button, input, optgroup, select, textarea {font-family:inherit;
font-size:100%;
line-height:1.15;
margin:0}
button, input {overflow:visible}
button, select {text-transform:none}
button, [type=button], [type=reset], [type=submit] {-webkit-appearance:button}
button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner {border-style:none;
padding:0}
button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring {outline:1px dotted ButtonText}
fieldset {padding:.35em .75em .625em}
legend {box-sizing:border-box;
color:inherit;
display:table;
max-width:100%;
padding:0;
white-space:normal}
progress {vertical-align:baseline}
textarea {overflow:auto}
[type=checkbox], [type=radio] {box-sizing:border-box;
padding:0}
[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button {height:auto}
[type=search] {-webkit-appearance:textfield;
outline-offset:-2px}
[type=search]::-webkit-search-decoration {-webkit-appearance:none}
::-webkit-file-upload-button {-webkit-appearance:button;
font:inherit}
details {display:block}
summary {display:list-item}
template {display:none}
[hidden] {display:none}
.hljs, pre {display:block;
overflow-x:auto;
padding:.5em;
background:#3a2840;
color:#fff}
.hljs.language-shell :not(.bash) +.bash, .hljs.language-better-shell :not(.bash) +.bash, pre.language-shell :not(.bash) +.bash, pre.language-better-shell :not(.bash) +.bash {color:#d2a8e0}
pre {border-radius:.8rem;
padding:1rem;
font-size:.875rem;
margin:1.5rem 0}
.hljs-keyword, .hljs-selector-tag, .hljs-tag {color:#d2a8e0}
.hljs-template-tag {color:red}
.hljs-number {color:#6cb9f0}
.hljs-variable, .hljs-template-variable, .hljs-attribute, .hljs-literal {color:#c9e5f9}
.hljs-subst {color:red}
.hljs-title, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-section, .hljs-type {color:#f0a46c}
.hljs-symbol, .hljs-bullet, .hljs-link {color:#d2a8e0}
.hljs-deletion, .hljs-string, .hljs-built_in, .hljs-builtin-name {color:#6cb9f0}
.hljs-addition, .hljs-comment, .hljs-quote, .hljs-meta {color:#adb5bd}
.hljs-emphasis {font-style:italic}
.hljs-strong {font-weight:bold}
#nprogress {pointer-events:none}
#nprogress .bar {background:#29d;
position:fixed;
z-index:1031;
top:0;
left:0;
width:100%;
height:2px}
#nprogress .peg {display:block;
position:absolute;
right:0px;
width:100px;
height:100%;
box-shadow:0 0 10px #29d, 0 0 5px #29d;
opacity:1;
-webkit-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
-webkit-transform:rotate(3deg) translate(0px, -4px);
-moz-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
transform:rotate(3deg) translate(0px, -4px)}
#nprogress .spinner {display:block;
position:fixed;
z-index:1031;
top:15px;
right:15px}
#nprogress .spinner-icon {width:18px;
height:18px;
box-sizing:border-box;
border:solid 2px transparent;
border-top-color:#29d;
border-left-color:#29d;
border-radius:50%;
-webkit-animation:nprogress-spinner 400ms linear infinite;
-webkit-animation:nprogress-spinner 400ms linear infinite;
animation:nprogress-spinner 400ms linear infinite}
.nprogress-custom-parent {overflow:hidden;
position:relative}
.nprogress-custom-parent #nprogress .spinner, .nprogress-custom-parent #nprogress .bar {position:absolute}
@keyframes nprogress-spinner {0% {-webkit-transform:rotate(0deg)}100% {-webkit-transform:rotate(360deg)}}
@keyframes nprogress-spinner {0% {transform:rotate(0deg)}100% {transform:rotate(360deg)}}
#nprogress .bar {background:#782b90}
#nprogress .peg {box-shadow:0 0 10px #782b90, 0 0 5px #782b90}
#nprogress .spinner-icon {border-top-color:#782b90;
border-left-color:#782b90}
html {box-sizing:border-box}
*, *::before, *::after {box-sizing:inherit}
:root {font-size:18px}
@media (max-width:1000px) {:root {font-size:17.1px}}
@media (max-width:768px) {:root {font-size:16.2px}}
@media (max-width:640px) {:root {font-size:15.3px}}
body, input {font-family:Roboto, sans-serif;
font-weight:300;
line-height:1.7;
color:#3c3c3b}
input {outline:none}
h1, h2, h3, h4, h5, h6 {font-weight:400}
h1 {font-size:2.5rem}
h2 {font-size:2rem}
h3 {font-size:1.75rem}
h4 {font-size:1.5rem}
h5 {font-size:1.25rem}
h6 {font-size:1.1rem}
.container {width:100%;
padding-right:.8rem;
padding-left:.8rem;
margin-right:auto;
margin-left:auto}
@media (min-width:640px) {.container {max-width:620px}}
@media (min-width:768px) {.container {max-width:738px}}
@media (min-width:1000px) {.container {max-width:950px}}
@media (min-width:1250px) {.container {max-width:1180px}}
@media (min-width:1250px) {.container-narrow {max-width:950px}}
.img-fluid {max-width:100%}
a {-webkit-text-decoration:none;
text-decoration:none;
color:#782b90}
a:hover {text-decoration:underline;
color:#571f69}
img {vertical-align:middle}
svg {overflow:hidden;
vertical-align:middle}
code, pre {font-family:"Roboto Mono", SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
p code {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
max-width:100%;
overflow:auto}
.heading-anchor {opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.heading-anchor::after {content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.heading-anchor:hover {opacity:1}
h2:hover .heading-anchor, h3:hover .heading-anchor, h4:hover .heading-anchor, h5:hover .heading-anchor, h6:hover .heading-anchor {opacity:1}
h1 .heading-anchor {display:none}
h4 .heading-anchor::after, h5 .heading-anchor::after, h6 .heading-anchor::after {padding-right:.6rem}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2021-12-22T02:06:52.319Z" data-build-commit-id="95a2674a59d01b4ff065a084b62c83018d2345ae" data-build-run-id="1609494152"><div id="__next" data-reactroot=""><main class="jsx-b068a573b7111330 page"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">简介</li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">文档</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">答疑</li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">博客</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">社区</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/translation/">翻译团队</a></div><div class="jsx-f705e145f931f504 navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" title="Stack Overflow" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>stackoverflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" title="YouTube" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>youtube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a><a href="https://discord.gg/KzEMwP2" title="Discord" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="jsx-b068a573b7111330 page-content"><div class="jsx-b068a573b7111330 container"><div class="jsx-a04fe959d555a951 blog-post"><div class="jsx-2ac0bd13852cf810 blog-navbar"><h2 class="jsx-2ac0bd13852cf810">Blog</h2><ul class="jsx-2ac0bd13852cf810"><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/">All posts</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/releases/">releases</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/guides/">guides</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/security/">security</a></li><li class="jsx-2ac0bd13852cf810"><a class="jsx-2ac0bd13852cf810" href="/blog/category/news/">news</a></li></ul><div class="jsx-2ac0bd13852cf810 feed-icons"><a href="/feed/atom.xml" class="jsx-2ac0bd13852cf810"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div><div class="blog-post-main"><div class="blog-post-content"><h1>Combine vert.x and mongo to build a giant</h1><p>This blog post is part of the <em>in­tro­duc­tion to vert.x</em> se­ries. Last time, we have seen how we can use the <code>vertx-jdbc-client</code> to con­nect to a data­base using a JDBC dri­ver. In this post, we are going to re­place this JDBC client by the <code>vertx-mongo-client</code>, and thus con­nect to a Mongo data­base.</p><p>You don’t un­der­stand the title, check the <a href="https://www.mongodb.org">mon­goDB</a> web­site.</p><p>But be­fore going fur­ther, let’s recap.</p><h2 id="previously-in--introduction-to-vertx"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#previously-in--introduction-to-vertx"></a>Previously in  ‘introduction to vert.x’</h2><ol><li>The <a href="/blog/my-first-vert-x-3-application/">first post</a> has de­scribed how to build a vert.x ap­pli­ca­tion with Maven and ex­e­cute unit tests.</li><li>The <a href="/blog/vert-x-application-configuration/">sec­ond post</a> has de­scribed how this ap­pli­ca­tion can be­come con­fig­urable.</li><li>The <a href="/blog/some-rest-with-vert-x/">third post</a> has in­tro­duced <a href="/docs/vertx-web/java/">vertx-​web</a>, and a small col­lec­tion man­age­ment ap­pli­ca­tion has been de­vel­oped. This ap­pli­ca­tion of­fers a REST API used by a HTML/JavaScript fron­tend.</li><li>The <a href="/blog/unit-and-integration-tests/">fourth post</a> has pre­sented how you can run in­te­gra­tion tests to en­sure the be­hav­ior of your ap­pli­ca­tion.</li><li>The <a href="/blog/using-the-asynchronous-sql-client/">last post</a> has pre­sented how you can in­ter­act with a JDBC data­base using the vertx-​jdbc-client.</li></ol><p>This post shows an­other client that lets you use Mon­goDB in a vert.x ap­pli­ca­tion. This client pro­vides an vert.x API to ac­cess asyn­chro­nously to the Mongo data­base. We won’t com­pare whether or not JDBC is su­pe­rior to Mongo, they have both pros and cons, and you should use the one that meet your re­quire­ments. Vert.x lets you choose, that’s the point.</p><p>The vertx-​mongo-client doc­u­men­ta­tion is avail­able <a href="/docs/vertx-mongo-client/java/">here</a>.</p><p>The code de­vel­oped in this blog post is avail­able in the branch <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-6">post-6</a>. Our start­ing point is the code from the <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-5">post-5 branch</a>.</p><h2 id="asynchronous-data-access"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#asynchronous-data-access"></a>Asynchronous data access</h2><p>One of the vert.x char­ac­ter­is­tics is being asyn­chro­nous. With an asyn­chro­nous API, you don’t wait for a re­sult, but you are no­ti­fied when this re­sult is ready. Thanks to vert.x, this no­ti­fi­ca­tion hap­pens in the same thread (un­der­stand event loop) as the ini­tial re­quest:</p><p><img src="/images/blog/intro-series/async-data.png" alt="Asynchronous data access"/></p><p>Your code (on the left) is going to in­voke the mongo client and pass a call­back that will be in­voked when the re­sult is avail­able. The in­vo­ca­tion to the mongo client is non block­ing and re­turns im­me­di­ately. The client is deal­ing with the mongo data­base and when the re­sult has been com­puted / re­trieved, it in­vokes the call­back in the same event loop as the re­quest.</p><p>This model is par­tic­u­larly pow­er­ful as it avoids the syn­chro­niza­tion pit­falls. In­deed, your code is only called by a sin­gle thread, no need to syn­chro­nize any­thing.</p><h2 id="as-with-every-maven-project"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#as-with-every-maven-project"></a>As with every Maven project…</h2><p>… we need to up­date the <code>pom.xml</code> file first.</p><p>In the <code>pom.xml</code> file, re­place the <code>vertx-jdbc-client</code> by the <code>vertx-mongo-client</code>:</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-mongo-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><p>Un­like JDBC where we were in­stan­ti­at­ing a data­base on the fly, here we need to ex­plic­itly starts a Mon­goDB server. In order to launch a Mongo server in our test, we are going to add an­other de­pen­dency:</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>de.flapdoodle.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>de.flapdoodle.embed.mongo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.50.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><p>This de­pen­dency will be used in our unit tests, as it lets us start a mongo server pro­gram­mat­i­cally. For our in­te­gra­tion tests, we are going to use a Maven plug­in start­ing and stop­ping the mongo server be­fore and after our in­te­gra­tion tests. Add this plug­in to the <code>&lt;plugins/&gt;</code> sec­tion of your <code>pom.xml</code> file.</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.joelittlejohn.embedmongo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>embedmongo-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>start<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>start<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>37017<span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>stop<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>stop<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
</code></pre><p>No­tice the port we use here (37017), we will use this port later.</p><h2 id="enough-xml-for-today"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#enough-xml-for-today"></a>Enough XML for today</h2><p>Now that we have up­dated our <code>pom.xml</code> file, it’s time to change our ver­ti­cle. The first thing to do is to re­place the jdbc client by the mongo client:</p><pre><code class="hljs language-java">mongo = MongoClient.createShared(vertx, config());
</code></pre><p>This client is con­fig­ured with the con­fig­u­ra­tion given to the ver­ti­cle (more on this below).</p><p>Once done, we need to change how we start the ap­pli­ca­tion. With the mongo client, no need to ac­quire a con­nec­tion, it han­dles this in­ter­nally. So our startup se­quence is a bit more sim­ple:</p><pre><code class="hljs language-java">createSomeData(
    (nothing) -&gt; startWebApp(
        (http) -&gt; completeStartup(http, fut)
    ), fut);
</code></pre><p>As in the pre­vi­ous post, we need to in­sert some pre­de­fined data if the data­base is empty:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createSomeData</span><span class="hljs-params">(Handler&lt;AsyncResult&lt;Void&gt;&gt; next, Future&lt;Void&gt; fut)</span> </span>{
  Whisky bowmore = <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Bowmore 15 Years Laimrig&quot;</span>, <span class="hljs-string">&quot;Scotland, Islay&quot;</span>);
  Whisky talisker = <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Talisker 57° North&quot;</span>, <span class="hljs-string">&quot;Scotland, Island&quot;</span>);
  System.out.println(bowmore.toJson());
  <span class="hljs-comment">// Do we have data in the collection ?</span>
  mongo.count(COLLECTION, <span class="hljs-keyword">new</span> JsonObject(), count -&gt; {
    <span class="hljs-keyword">if</span> (count.succeeded()) {
      <span class="hljs-keyword">if</span> (count.result() == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// no whiskies, insert data</span>
        mongo.insert(COLLECTION, bowmore.toJson(), ar -&gt; {
          <span class="hljs-keyword">if</span> (ar.failed()) {
            fut.fail(ar.cause());
          } <span class="hljs-keyword">else</span> {
            mongo.insert(COLLECTION, talisker.toJson(), ar2 -&gt; {
              <span class="hljs-keyword">if</span> (ar2.failed()) {
                fut.failed();
              } <span class="hljs-keyword">else</span> {
                next.handle(Future.&lt;Void&gt;succeededFuture());
              }
            });
          }
        });
      } <span class="hljs-keyword">else</span> {
        next.handle(Future.&lt;Void&gt;succeededFuture());
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// report the error</span>
      fut.fail(count.cause());
    }
  });
}
</code></pre><p>To de­tect whether or not the data­base al­ready con­tains some data, we re­trieve the num­ber of <em>doc­u­ments</em> from the <code>whiskies</code> col­lec­tion. This is done with : <code>mongo.count(COLLECTION, new JsonObject(), count -&gt; {})</code>. The sec­ond pa­ra­me­ter is the query. In our case, we want to count all doc­u­ments. This is done using <code>new JsonObject()</code> that would cre­ate a query ac­cept­ing all doc­u­ments from the col­lec­tion (it’s equiv­a­lent to a <code>SELECT * FROM ...</code>).</p><p>Also no­tice the <code>insert</code> calls. Doc­u­ments are passed as JSON ob­ject, so to in­sert an ob­ject, just se­ri­al­ize it to JSON and use <code>mongo.insert(COLLECTION, json, completion handler)</code>.</p><h2 id="mongo-ize-the-rest-handlers"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#mongo-ize-the-rest-handlers"></a>Mongo-ize the REST handlers</h2><p>Now that the ap­pli­ca­tion boot se­quence has been mi­grated to mongo, it’s time to up­date the code han­dling the REST re­quests.</p><p>Let’s start by the <code>getAll</code> method that re­turns all stored prod­ucts. To im­ple­ment this, we use the <code>find</code> method. As we saw for the <code>count</code> method, we pass an empty json ob­ject to de­scribe a query ac­cept­ing all doc­u­ments:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getAll</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  mongo.find(COLLECTION, <span class="hljs-keyword">new</span> JsonObject(), results -&gt; {
    List&lt;JsonObject&gt; objects = results.result();
    List&lt;Whisky&gt; whiskies = objects.stream().map(Whisky::<span class="hljs-keyword">new</span>).collect(Collectors.toList());
    routingContext.response()
        .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
        .end(Json.encodePrettily(whiskies));
  });
}
</code></pre><p>The query re­sults are passed as a list of JSON ob­jects. From this list we can cre­ate our prod­uct in­stances, and fill the HTTP re­sponse with this set.</p><p>To delete a spe­cific doc­u­ment we need to se­lect the doc­u­ment using its <code>id</code>:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteOne</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  String id = routingContext.request().getParam(<span class="hljs-string">&quot;id&quot;</span>);
  <span class="hljs-keyword">if</span> (id == <span class="hljs-keyword">null</span>) {
    routingContext.response().setStatusCode(<span class="hljs-number">400</span>).end();
  } <span class="hljs-keyword">else</span> {
    mongo.removeOne(COLLECTION, <span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">&quot;_id&quot;</span>, id),
        ar -&gt; routingContext.response().setStatusCode(<span class="hljs-number">204</span>).end());
  }
}
</code></pre><p>The <code>new JsonObject().put(&quot;_id&quot;, id)</code> de­scribes a query se­lect­ing a sin­gle doc­u­ment (se­lected by its unique <code>id</code>, so it’s the equiv­a­lent to <code>SELECT * WHERE id=...</code>). No­tice the <code>_id</code> which is a mongo trick to se­lect a doc­u­ment by id.</p><p>Up­dat­ing a doc­u­ment is a less triv­ial:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateOne</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  <span class="hljs-keyword">final</span> String id = routingContext.request().getParam(<span class="hljs-string">&quot;id&quot;</span>);
  JsonObject json = routingContext.getBodyAsJson();
  <span class="hljs-keyword">if</span> (id == <span class="hljs-keyword">null</span> || json == <span class="hljs-keyword">null</span>) {
    routingContext.response().setStatusCode(<span class="hljs-number">400</span>).end();
  } <span class="hljs-keyword">else</span> {
    mongo.update(COLLECTION,
        <span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">&quot;_id&quot;</span>, id), <span class="hljs-comment">// Select a unique document</span>
        <span class="hljs-comment">// The update syntax: {$set, the json object containing the fields to update}</span>
        <span class="hljs-keyword">new</span> JsonObject()
            .put(<span class="hljs-string">&quot;$set&quot;</span>, json),
        v -&gt; {
          <span class="hljs-keyword">if</span> (v.failed()) {
            routingContext.response().setStatusCode(<span class="hljs-number">404</span>).end();
          } <span class="hljs-keyword">else</span> {
            routingContext.response()
                .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
                .end(Json.encodePrettily(
                  <span class="hljs-keyword">new</span> Whisky(id, json.getString(<span class="hljs-string">&quot;name&quot;</span>),
                    json.getString(<span class="hljs-string">&quot;origin&quot;</span>))));
          }
        });
  }
}
</code></pre><p>As we can see, the <code>update</code> method takes two JSON ob­jects as pa­ra­me­ter:</p><ol><li>The first one de­notes the query (here we se­lect a sin­gle doc­u­ment using its id).</li><li>The sec­ond ob­ject ex­presses the change to apply to the se­lected doc­u­ment. It uses a mongo syn­tax. In our case, we up­date the doc­u­ment using the <code>$set</code> op­er­a­tor.</li></ol><div class="jsx-1a10d7790f826df alert info"><p>In this code we up­date the doc­u­ment and re­place only a set of fields. You can also re­place the whole doc­u­ment using <code>mongo.replace(...)</code>.</p></div><p>I def­i­nitely rec­om­mend to have a look to the Mon­goDB doc­u­men­ta­tion, es­pe­cially:</p><ul><li><a href="https://docs.mongodb.org/manual/tutorial/query-documents/" title="MongoDB Query Documentation">Query syn­tax doc­u­men­ta­tion</a></li><li><a href="https://docs.mongodb.org/manual/tutorial/modify-documents/" title="MongoDB Update Documentation">Up­date syn­tax doc­u­men­ta­tion</a></li></ul><h2 id="time-for-configuration"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#time-for-configuration"></a>Time for configuration</h2><p>Well, the code is mi­grated, but we still need to up­date the con­fig­u­ra­tion. With JDBC we passed the JDBC url and the dri­ver class in the con­fig­u­ra­tion. With mongo, we need to con­fig­ure the <code>connection_string</code> - the <code>mongo://</code> url on which the ap­pli­ca­tion is con­nected, and <code>db_name</code> - a name for the data source.</p><p>Let’s start by the unit test. Edit the <code>MyFirstVerticleTest</code> file and add the fol­low­ing code:</p><pre><code class="hljs language-java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MongodProcess MONGO;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> MONGO_PORT = <span class="hljs-number">12345</span>;
<span class="hljs-meta">@BeforeClass</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initialize</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{
  MongodStarter starter = MongodStarter.getDefaultInstance();
  IMongodConfig mongodConfig = <span class="hljs-keyword">new</span> MongodConfigBuilder()
      .version(Version.Main.PRODUCTION)
      .net(<span class="hljs-keyword">new</span> Net(MONGO_PORT, Network.localhostIsIPv6()))
      .build();
  MongodExecutable mongodExecutable =
      starter.prepare(mongodConfig);
  MONGO = mongodExecutable.start();
}

<span class="hljs-meta">@AfterClass</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shutdown</span><span class="hljs-params">()</span> </span>{  MONGO.stop(); }
</code></pre><p>Be­fore our tests, we start (pro­gram­mat­i­cally) a mongo data­base on the port 12345. When all our tests have been ex­e­cuted, we shut­down the data­base.</p><p>So now that the mongo server is man­aged, we need to to give the right con­fig­u­ra­tion to our ver­ti­cle. Up­date the <code>DeploymentOption</code> in­stance with:</p><pre><code class="hljs language-java">DeploymentOptions options = <span class="hljs-keyword">new</span> DeploymentOptions()
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">&quot;http.port&quot;</span>, port)
        .put(<span class="hljs-string">&quot;db_name&quot;</span>, <span class="hljs-string">&quot;whiskies-test&quot;</span>)
        .put(<span class="hljs-string">&quot;connection_string&quot;</span>,
            <span class="hljs-string">&quot;mongodb://localhost:&quot;</span> + MONGO_PORT)
);
</code></pre><p>That’s all for the unit tests.</p><p>For the integration-​test, we are using an ex­ter­nal­ized json file. Edit the <code>src/test/resources/my-it-config.json</code> with the fol­low­ing con­tent:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span>: ${http.port},
  <span class="hljs-attr">&quot;db_name&quot;</span>: <span class="hljs-string">&quot;whiskies-it&quot;</span>,
  <span class="hljs-attr">&quot;connection_string&quot;</span>: <span class="hljs-string">&quot;mongodb://localhost:37017&quot;</span>
}
</code></pre><p>No­tice the port we are using for the mongo server. This port was con­fig­ured in the <code>pom.xml</code> file.</p><p>Last but not least, we still have a con­fig­u­ra­tion file to edit: the con­fig­u­ra­tion you use to launch the ap­pli­ca­tion in <code>production</code>:</p><pre><code class="hljs language-json">{
  <span class="hljs-attr">&quot;http.port&quot;</span>: <span class="hljs-number">8082</span>,
  <span class="hljs-attr">&quot;db_name&quot;</span>: <span class="hljs-string">&quot;whiskies&quot;</span>,
  <span class="hljs-attr">&quot;connection_string&quot;</span>: <span class="hljs-string">&quot;mongodb://localhost:27017&quot;</span>
}
</code></pre><p>Here you would need to edit the <code>localhost:27017</code> with the right url for your mongo server.</p><div class="jsx-1a10d7790f826df alert info"><div class="jsx-1a10d7790f826df alert-title">Some changes in the integration tests</div><p>Be­cause mongo doc­u­ment id are String and not in­te­ger, we have to slightly change doc­u­ment se­lec­tion in the in­te­gra­tion test.</p></div><h2 id="time-for-a-run"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#time-for-a-run"></a>Time for a run</h2><p>It’s time to pack­age and run the ap­pli­ca­tion and check that every­thing works as ex­pected. Let’s pack­age the ap­pli­ca­tion using:</p><pre><code class="hljs language-text">mvn clean verify
</code></pre><p>And then to launch it, start your mongo server and launch:</p><pre><code class="hljs language-text">java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \
  -conf src/main/conf/my-application-conf.json
</code></pre><p>If you are, like me, using docker / docker-​machine for al­most every­thing, edit the con­fig­u­ra­tion file to refer to the right host (lo­cal­host for docker, the docker-​machine ip if you use docker-​machine) and then launch:</p><pre><code class="hljs language-bash">docker run -d -p 27017:27017 mongo
java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \
  -conf src/main/conf/my-application-conf.json
<span class="hljs-comment"># or</span>
java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \
  -conf src/main/conf/my-application-conf-docker-machine.json
</code></pre><p><img src="/images/blog/intro-series/whisky-mongo.png" alt="The application live and running"/></p><h2 id="thats-all-folks"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#thats-all-folks"></a>That’s all folks!</h2><p>We are reach­ing the end of this post. We saw how you can use the vert-​mongo-client to ac­cess asyn­chro­nously data stored in­side a mongo data­base as well as in­sert­ing/up­dat­ing this data. Now you have the choice be­tween JDBC or Mongo. In ad­di­tion, vert.x pro­vides a client for Redis.</p><p>Next time, we will see how the ver­ti­cle class can be split in two ver­ti­cles in order to bet­ter or­ga­nize your code. The in­ter­ac­tion be­tween the two ver­ti­cles will uses <em>ser­vices</em>.</p><p>Stay tuned &amp; Happy cod­ing!</p></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/cescoffier.png?size=160" alt="Clement Escoffier&#x27;s profile image"/><div class="blog-post-author-name">by <a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->30 November 2015</div>in <a class="blog-post-sidebar-category" href="/blog/category/guides/">guides</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->9 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Combine%20vert.x%20and%20mongo%20to%20build%20a%20giant&amp;url=https%3A%2F%2Fvertx.io%2Fblog%2Fcombine-vert-x-and-mongo-to-build-a-giant&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvertx.io%2Fblog%2Fcombine-vert-x-and-mongo-to-build-a-giant" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>linkedin</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fvertx.io%2Fblog%2Fcombine-vert-x-and-mongo-to-build-a-giant" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">15 December 2015</span>​<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/vert-x-3-2-0-is-released/">Vert.x 3.2.0 is released!</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">We are pleased to announce the release of Vert.x 3.2.0!</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/vert-x-3-2-0-is-released/"> 阅读更多</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">25 November 2015</span>​<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/vert-x-es6-back-to-the-future/">Vert.x ES6 back to the future</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/pmlopes.png?size=50" alt="Paulo Lopes&#x27;s profile image"/><a href="https://github.com/pmlopes" target="_blank" rel="noopener noreferrer">Paulo Lopes</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/vert-x-es6-back-to-the-future/"> 阅读更多</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">3 August 2015</span>​<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/unit-and-integration-tests/">Unit and Integration Tests</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/unit-and-integration-tests/"> 阅读更多</a></span></div><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">19 October 2015</span>​<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/using-the-asynchronous-sql-client/">Using the asynchronous SQL client</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application.</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/using-the-asynchronous-sql-client/"> 阅读更多</a></span></div><div class="jsx-cc12eb2116299e94 blog-entry"><div class="jsx-cc12eb2116299e94 blog-entry-meta"><div class="jsx-cc12eb2116299e94 blog-entry-meta-left"><span class="jsx-cc12eb2116299e94 blog-entry-date">14 July 2015</span>​<a class="jsx-cc12eb2116299e94 blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="jsx-cc12eb2116299e94 blog-entry-meta-right"></div></div><h3 class="jsx-cc12eb2116299e94"><a class="jsx-cc12eb2116299e94" href="/blog/my-first-vert-x-3-application/">My first Vert.x 3 Application</a></h3><span class="jsx-cc12eb2116299e94 blog-entry-authors"><ul class="jsx-cc12eb2116299e94"><li class=""><img src="https://github.com/cescoffier.png?size=50" alt="Clement Escoffier&#x27;s profile image"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="jsx-cc12eb2116299e94 blog-entry-summary">Let&#x27;s say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”</p><span class="jsx-73ea682053e23281 read-more-link"><a href="/blog/my-first-vert-x-3-application/"> 阅读更多</a></span></div></div></div></div></div></div><footer class="jsx-aeedcf66895f49d7"><div class="jsx-aeedcf66895f49d7 container"><div class="jsx-aeedcf66895f49d7 footer-nav-section"><div class="jsx-aeedcf66895f49d7 footer-nav-list footer-logo"><a class="jsx-aeedcf66895f49d7" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-aeedcf66895f49d7"/></a></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse Vert.x</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7 navbar-menu-item" href="/docs/">文档</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/download/">下载</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/blog/">博客</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/community/">社区</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/translation/">翻译团队</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-aeedcf66895f49d7">GitHub</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/vertx-china/vertx-web-site" class="jsx-aeedcf66895f49d7">翻译GitHub</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">资源</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/faq/">答疑</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/channels/">联系渠道</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://how-to.vertx.io/" class="jsx-aeedcf66895f49d7">操作指南</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://start.vertx.io/" class="jsx-aeedcf66895f49d7">应用生成器</a></li><li class="jsx-aeedcf66895f49d7"><a href="/.well-known/security.txt" class="jsx-aeedcf66895f49d7">security.txt</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/" class="jsx-aeedcf66895f49d7">Eclipse 基金会</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-aeedcf66895f49d7">隐私政策</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-aeedcf66895f49d7">使用条款</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-aeedcf66895f49d7">版权代理</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/" class="jsx-aeedcf66895f49d7">法律资源</a></li></ul></div></div><div class="jsx-aeedcf66895f49d7 footer-copyright"><div class="jsx-aeedcf66895f49d7 footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x™<br class="jsx-aeedcf66895f49d7"/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Apache License 2.0</a>协议下获得了双重许可。<br class="jsx-aeedcf66895f49d7 footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Michel Krämer</a> 设计。</div><div class="jsx-aeedcf66895f49d7 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-aeedcf66895f49d7"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Combine vert.x and mongo to build a giant","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This blog post is part of the introduction to Vert.x series. We are now going to replace this JDBC client by the vertx-mongo-client, and thus connect to a Mongo database."},"date":"2015-11-30","slug":"combine-vert-x-and-mongo-to-build-a-giant","readingTime":{"text":"9 min read","minutes":8.995,"time":539700,"words":1799},"content":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var l=(a,n,s)=\u003en in a?m(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=\u003e{for(var s in n||(n={}))o.call(n,s)\u0026\u0026l(a,s,n[s]);if(p)for(var s of p(n))r.call(n,s)\u0026\u0026l(a,s,n[s]);return a},i=(a,n)=\u003ed(a,h(n));var c=(a,n)=\u003e{var s={};for(var t in a)o.call(a,t)\u0026\u0026n.indexOf(t)\u003c0\u0026\u0026(s[t]=a[t]);if(a!=null\u0026\u0026p)for(var t of p(a))n.indexOf(t)\u003c0\u0026\u0026r.call(a,t)\u0026\u0026(s[t]=a[t]);return s};const makeShortcode=a=\u003efunction(s){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},s))},Link=makeShortcode(\"Link\"),Alert=makeShortcode(\"Alert\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var t=s,{components:a}=t,n=c(t,[\"components\"]);return mdx(MDXLayout,i(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"This blog post is part of the \",mdx(\"em\",{parentName:\"p\"},\"in\\xADtro\\xADduc\\xADtion to vert.x\"),\" se\\xADries. Last time, we have seen how we can use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-jdbc-client\"),\" to con\\xADnect to a data\\xADbase using a JDBC dri\\xADver. In this post, we are going to re\\xADplace this JDBC client by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-mongo-client\"),\", and thus con\\xADnect to a Mongo data\\xADbase.\"),mdx(\"p\",null,\"You don\\u2019t un\\xADder\\xADstand the title, check the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.mongodb.org\"}),\"mon\\xADgoDB\"),\" web\\xADsite.\"),mdx(\"p\",null,\"But be\\xADfore going fur\\xADther, let\\u2019s recap.\"),mdx(\"h2\",e({},{id:\"previously-in--introduction-to-vertx\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#previously-in--introduction-to-vertx\"})),\"Previously in  \\u2018introduction to vert.x\\u2019\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/my-first-vert-x-3-application/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"first post\")),\" has de\\xADscribed how to build a vert.x ap\\xADpli\\xADca\\xADtion with Maven and ex\\xADe\\xADcute unit tests.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/vert-x-application-configuration/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"sec\\xADond post\")),\" has de\\xADscribed how this ap\\xADpli\\xADca\\xADtion can be\\xADcome con\\xADfig\\xADurable.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/some-rest-with-vert-x/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"third post\")),\" has in\\xADtro\\xADduced \",mdx(Link,{href:\"/docs/vertx-web/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"vertx-\\u200Bweb\")),\", and a small col\\xADlec\\xADtion man\\xADage\\xADment ap\\xADpli\\xADca\\xADtion has been de\\xADvel\\xADoped. This ap\\xADpli\\xADca\\xADtion of\\xADfers a REST API used by a HTML/JavaScript fron\\xADtend.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/unit-and-integration-tests/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"fourth post\")),\" has pre\\xADsented how you can run in\\xADte\\xADgra\\xADtion tests to en\\xADsure the be\\xADhav\\xADior of your ap\\xADpli\\xADca\\xADtion.\"),mdx(\"li\",{parentName:\"ol\"},\"The \",mdx(Link,{href:\"/blog/using-the-asynchronous-sql-client/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"last post\")),\" has pre\\xADsented how you can in\\xADter\\xADact with a JDBC data\\xADbase using the vertx-\\u200Bjdbc-client.\")),mdx(\"p\",null,\"This post shows an\\xADother client that lets you use Mon\\xADgoDB in a vert.x ap\\xADpli\\xADca\\xADtion. This client pro\\xADvides an vert.x API to ac\\xADcess asyn\\xADchro\\xADnously to the Mongo data\\xADbase. We won\\u2019t com\\xADpare whether or not JDBC is su\\xADpe\\xADrior to Mongo, they have both pros and cons, and you should use the one that meet your re\\xADquire\\xADments. Vert.x lets you choose, that\\u2019s the point.\"),mdx(\"p\",null,\"The vertx-\\u200Bmongo-client doc\\xADu\\xADmen\\xADta\\xADtion is avail\\xADable \",mdx(Link,{href:\"/docs/vertx-mongo-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"here\")),\".\"),mdx(\"p\",null,\"The code de\\xADvel\\xADoped in this blog post is avail\\xADable in the branch \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/tree/post-6\"}),\"post-6\"),\". Our start\\xADing point is the code from the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/tree/post-5\"}),\"post-5 branch\"),\".\"),mdx(\"h2\",e({},{id:\"asynchronous-data-access\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#asynchronous-data-access\"})),\"Asynchronous data access\"),mdx(\"p\",null,\"One of the vert.x char\\xADac\\xADter\\xADis\\xADtics is being asyn\\xADchro\\xADnous. With an asyn\\xADchro\\xADnous API, you don\\u2019t wait for a re\\xADsult, but you are no\\xADti\\xADfied when this re\\xADsult is ready. Thanks to vert.x, this no\\xADti\\xADfi\\xADca\\xADtion hap\\xADpens in the same thread (un\\xADder\\xADstand event loop) as the ini\\xADtial re\\xADquest:\"),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/images/blog/intro-series/async-data.png\",alt:\"Asynchronous data access\"}))),mdx(\"p\",null,\"Your code (on the left) is going to in\\xADvoke the mongo client and pass a call\\xADback that will be in\\xADvoked when the re\\xADsult is avail\\xADable. The in\\xADvo\\xADca\\xADtion to the mongo client is non block\\xADing and re\\xADturns im\\xADme\\xADdi\\xADately. The client is deal\\xADing with the mongo data\\xADbase and when the re\\xADsult has been com\\xADputed / re\\xADtrieved, it in\\xADvokes the call\\xADback in the same event loop as the re\\xADquest.\"),mdx(\"p\",null,\"This model is par\\xADtic\\xADu\\xADlarly pow\\xADer\\xADful as it avoids the syn\\xADchro\\xADniza\\xADtion pit\\xADfalls. In\\xADdeed, your code is only called by a sin\\xADgle thread, no need to syn\\xADchro\\xADnize any\\xADthing.\"),mdx(\"h2\",e({},{id:\"as-with-every-maven-project\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#as-with-every-maven-project\"})),\"As with every Maven project\\u2026\"),mdx(\"p\",null,\"\\u2026 we need to up\\xADdate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file first.\"),mdx(\"p\",null,\"In the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file, re\\xADplace the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-jdbc-client\"),\" by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-mongo-client\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),\"io.vertx\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),\"vertx-mongo-client\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),\"3.1.0\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n`)),mdx(\"p\",null,\"Un\\xADlike JDBC where we were in\\xADstan\\xADti\\xADat\\xADing a data\\xADbase on the fly, here we need to ex\\xADplic\\xADitly starts a Mon\\xADgoDB server. In order to launch a Mongo server in our test, we are going to add an\\xADother de\\xADpen\\xADdency:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),\"de.flapdoodle.embed\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),\"de.flapdoodle.embed.mongo\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),\"1.50.0\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\"\u003e\"),\"test\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\"\u003e\"),`\n`)),mdx(\"p\",null,\"This de\\xADpen\\xADdency will be used in our unit tests, as it lets us start a mongo server pro\\xADgram\\xADmat\\xADi\\xADcally. For our in\\xADte\\xADgra\\xADtion tests, we are going to use a Maven plug\\xADin start\\xADing and stop\\xADping the mongo server be\\xADfore and after our in\\xADte\\xADgra\\xADtion tests. Add this plug\\xADin to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"\u003cplugins/\u003e\"),\" sec\\xADtion of your \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),\"com.github.joelittlejohn.embedmongo\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),\"embedmongo-maven-plugin\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),\"0.2.0\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\"\u003e\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\"\u003e\"),\"start\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\"\u003e\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\"\u003e\"),\"start\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\"\u003e\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"port\"),\"\u003e\"),\"37017\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"port\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\"\u003e\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\"\u003e\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\"\u003e\"),\"stop\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\"\u003e\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\"\u003e\"),\"stop\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\"\u003e\"),`\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\"\u003e\"),`\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\"\u003e\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\"\u003e\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-tag\"}),\"\u003c/\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\"\u003e\"),`\n`)),mdx(\"p\",null,\"No\\xADtice the port we use here (37017), we will use this port later.\"),mdx(\"h2\",e({},{id:\"enough-xml-for-today\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#enough-xml-for-today\"})),\"Enough XML for today\"),mdx(\"p\",null,\"Now that we have up\\xADdated our \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file, it\\u2019s time to change our ver\\xADti\\xADcle. The first thing to do is to re\\xADplace the jdbc client by the mongo client:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`mongo = MongoClient.createShared(vertx, config());\n`)),mdx(\"p\",null,\"This client is con\\xADfig\\xADured with the con\\xADfig\\xADu\\xADra\\xADtion given to the ver\\xADti\\xADcle (more on this below).\"),mdx(\"p\",null,\"Once done, we need to change how we start the ap\\xADpli\\xADca\\xADtion. With the mongo client, no need to ac\\xADquire a con\\xADnec\\xADtion, it han\\xADdles this in\\xADter\\xADnally. So our startup se\\xADquence is a bit more sim\\xADple:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`createSomeData(\n    (nothing) -\u003e startWebApp(\n        (http) -\u003e completeStartup(http, fut)\n    ), fut);\n`)),mdx(\"p\",null,\"As in the pre\\xADvi\\xADous post, we need to in\\xADsert some pre\\xADde\\xADfined data if the data\\xADbase is empty:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"createSomeData\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(Handler\u003cAsyncResult\u003cVoid\u003e\u003e next, Future\u003cVoid\u003e fut)\"),\" \"),`{\n  Whisky bowmore = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Bowmore 15 Years Laimrig\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Scotland, Islay\"'),`);\n  Whisky talisker = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Talisker 57\\xB0 North\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Scotland, Island\"'),`);\n  System.out.println(bowmore.toJson());\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Do we have data in the collection ?\"),`\n  mongo.count(COLLECTION, `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonObject(), count -\u003e {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (count.succeeded()) {\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (count.result() == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`) {\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// no whiskies, insert data\"),`\n        mongo.insert(COLLECTION, bowmore.toJson(), ar -\u003e {\n          `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar.failed()) {\n            fut.fail(ar.cause());\n          } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n            mongo.insert(COLLECTION, talisker.toJson(), ar2 -\u003e {\n              `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (ar2.failed()) {\n                fut.failed();\n              } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n                next.handle(Future.\u003cVoid\u003esucceededFuture());\n              }\n            });\n          }\n        });\n      } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n        next.handle(Future.\u003cVoid\u003esucceededFuture());\n      }\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// report the error\"),`\n      fut.fail(count.cause());\n    }\n  });\n}\n`)),mdx(\"p\",null,\"To de\\xADtect whether or not the data\\xADbase al\\xADready con\\xADtains some data, we re\\xADtrieve the num\\xADber of \",mdx(\"em\",{parentName:\"p\"},\"doc\\xADu\\xADments\"),\" from the \",mdx(\"inlineCode\",{parentName:\"p\"},\"whiskies\"),\" col\\xADlec\\xADtion. This is done with : \",mdx(\"inlineCode\",{parentName:\"p\"},\"mongo.count(COLLECTION, new JsonObject(), count -\u003e {})\"),\". The sec\\xADond pa\\xADra\\xADme\\xADter is the query. In our case, we want to count all doc\\xADu\\xADments. This is done using \",mdx(\"inlineCode\",{parentName:\"p\"},\"new JsonObject()\"),\" that would cre\\xADate a query ac\\xADcept\\xADing all doc\\xADu\\xADments from the col\\xADlec\\xADtion (it\\u2019s equiv\\xADa\\xADlent to a \",mdx(\"inlineCode\",{parentName:\"p\"},\"SELECT * FROM ...\"),\").\"),mdx(\"p\",null,\"Also no\\xADtice the \",mdx(\"inlineCode\",{parentName:\"p\"},\"insert\"),\" calls. Doc\\xADu\\xADments are passed as JSON ob\\xADject, so to in\\xADsert an ob\\xADject, just se\\xADri\\xADal\\xADize it to JSON and use \",mdx(\"inlineCode\",{parentName:\"p\"},\"mongo.insert(COLLECTION, json, completion handler)\"),\".\"),mdx(\"h2\",e({},{id:\"mongo-ize-the-rest-handlers\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#mongo-ize-the-rest-handlers\"})),\"Mongo-ize the REST handlers\"),mdx(\"p\",null,\"Now that the ap\\xADpli\\xADca\\xADtion boot se\\xADquence has been mi\\xADgrated to mongo, it\\u2019s time to up\\xADdate the code han\\xADdling the REST re\\xADquests.\"),mdx(\"p\",null,\"Let\\u2019s start by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"getAll\"),\" method that re\\xADturns all stored prod\\xADucts. To im\\xADple\\xADment this, we use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"find\"),\" method. As we saw for the \",mdx(\"inlineCode\",{parentName:\"p\"},\"count\"),\" method, we pass an empty json ob\\xADject to de\\xADscribe a query ac\\xADcept\\xADing all doc\\xADu\\xADments:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"getAll\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(RoutingContext routingContext)\"),\" \"),`{\n  mongo.find(COLLECTION, `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonObject(), results -\u003e {\n    List\u003cJsonObject\u003e objects = results.result();\n    List\u003cWhisky\u003e whiskies = objects.stream().map(Whisky::`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),`).collect(Collectors.toList());\n    routingContext.response()\n        .putHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json; charset=utf-8\"'),`)\n        .end(Json.encodePrettily(whiskies));\n  });\n}\n`)),mdx(\"p\",null,\"The query re\\xADsults are passed as a list of JSON ob\\xADjects. From this list we can cre\\xADate our prod\\xADuct in\\xADstances, and fill the HTTP re\\xADsponse with this set.\"),mdx(\"p\",null,\"To delete a spe\\xADcific doc\\xADu\\xADment we need to se\\xADlect the doc\\xADu\\xADment using its \",mdx(\"inlineCode\",{parentName:\"p\"},\"id\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"deleteOne\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(RoutingContext routingContext)\"),\" \"),`{\n  String id = routingContext.request().getParam(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"id\"'),`);\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (id == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"null\"),`) {\n    routingContext.response().setStatusCode(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"400\"),`).end();\n  } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n    mongo.removeOne(COLLECTION, `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" JsonObject().put(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"_id\"'),`, id),\n        ar -\u003e routingContext.response().setStatusCode(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"204\"),`).end());\n  }\n}\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},'new JsonObject().put(\"_id\", id)'),\" de\\xADscribes a query se\\xADlect\\xADing a sin\\xADgle doc\\xADu\\xADment (se\\xADlected by its unique \",mdx(\"inlineCode\",{parentName:\"p\"},\"id\"),\", so it\\u2019s the equiv\\xADa\\xADlent to \",mdx(\"inlineCode\",{parentName:\"p\"},\"SELECT * WHERE id=...\"),\"). No\\xADtice the \",mdx(\"inlineCode\",{parentName:\"p\"},\"_id\"),\" which is a mongo trick to se\\xADlect a doc\\xADu\\xADment by id.\"),mdx(\"p\",null,\"Up\\xADdat\\xADing a doc\\xADu\\xADment is a less triv\\xADial:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"updateOne\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(RoutingContext routingContext)\"),\" \"),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),\" String id = routingContext.request().getParam(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"id\"'),`);\n  JsonObject json = routingContext.getBodyAsJson();\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (id == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"null\"),\" || json == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"null\"),`) {\n    routingContext.response().setStatusCode(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"400\"),`).end();\n  } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n    mongo.update(COLLECTION,\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" JsonObject().put(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"_id\"'),\", id), \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Select a unique document\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// The update syntax: {$set, the json object containing the fields to update}\"),`\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonObject()\n            .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$set\"'),`, json),\n        v -\u003e {\n          `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),` (v.failed()) {\n            routingContext.response().setStatusCode(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"404\"),`).end();\n          } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n            routingContext.response()\n                .putHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json; charset=utf-8\"'),`)\n                .end(Json.encodePrettily(\n                  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(id, json.getString(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"name\"'),`),\n                    json.getString(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"origin\"'),`))));\n          }\n        });\n  }\n}\n`)),mdx(\"p\",null,\"As we can see, the \",mdx(\"inlineCode\",{parentName:\"p\"},\"update\"),\" method takes two JSON ob\\xADjects as pa\\xADra\\xADme\\xADter:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"The first one de\\xADnotes the query (here we se\\xADlect a sin\\xADgle doc\\xADu\\xADment using its id).\"),mdx(\"li\",{parentName:\"ol\"},\"The sec\\xADond ob\\xADject ex\\xADpresses the change to apply to the se\\xADlected doc\\xADu\\xADment. It uses a mongo syn\\xADtax. In our case, we up\\xADdate the doc\\xADu\\xADment using the \",mdx(\"inlineCode\",{parentName:\"li\"},\"$set\"),\" op\\xADer\\xADa\\xADtor.\")),mdx(Alert,{info:!0,mdxType:\"Alert\"},mdx(\"p\",null,\"In this code we up\\xADdate the doc\\xADu\\xADment and re\\xADplace only a set of fields. You can also re\\xADplace the whole doc\\xADu\\xADment using \",mdx(\"inlineCode\",{parentName:\"p\"},\"mongo.replace(...)\"),\".\")),mdx(\"p\",null,\"I def\\xADi\\xADnitely rec\\xADom\\xADmend to have a look to the Mon\\xADgoDB doc\\xADu\\xADmen\\xADta\\xADtion, es\\xADpe\\xADcially:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.mongodb.org/manual/tutorial/query-documents/\",title:\"MongoDB Query Documentation\"}),\"Query syn\\xADtax doc\\xADu\\xADmen\\xADta\\xADtion\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.mongodb.org/manual/tutorial/modify-documents/\",title:\"MongoDB Update Documentation\"}),\"Up\\xADdate syn\\xADtax doc\\xADu\\xADmen\\xADta\\xADtion\"))),mdx(\"h2\",e({},{id:\"time-for-configuration\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#time-for-configuration\"})),\"Time for configuration\"),mdx(\"p\",null,\"Well, the code is mi\\xADgrated, but we still need to up\\xADdate the con\\xADfig\\xADu\\xADra\\xADtion. With JDBC we passed the JDBC url and the dri\\xADver class in the con\\xADfig\\xADu\\xADra\\xADtion. With mongo, we need to con\\xADfig\\xADure the \",mdx(\"inlineCode\",{parentName:\"p\"},\"connection_string\"),\" - the \",mdx(\"inlineCode\",{parentName:\"p\"},\"mongo://\"),\" url on which the ap\\xADpli\\xADca\\xADtion is con\\xADnected, and \",mdx(\"inlineCode\",{parentName:\"p\"},\"db_name\"),\" - a name for the data source.\"),mdx(\"p\",null,\"Let\\u2019s start by the unit test. Edit the \",mdx(\"inlineCode\",{parentName:\"p\"},\"MyFirstVerticleTest\"),\" file and add the fol\\xADlow\\xADing code:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"static\"),` MongodProcess MONGO;\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"private\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"static\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"int\"),\" MONGO_PORT = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"12345\"),`;\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"@BeforeClass\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"static\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"initialize\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"throws\"),\" IOException \"),`{\n  MongodStarter starter = MongodStarter.getDefaultInstance();\n  IMongodConfig mongodConfig = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` MongodConfigBuilder()\n      .version(Version.Main.PRODUCTION)\n      .net(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` Net(MONGO_PORT, Network.localhostIsIPv6()))\n      .build();\n  MongodExecutable mongodExecutable =\n      starter.prepare(mongodConfig);\n  MONGO = mongodExecutable.start();\n}\n\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"@AfterClass\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"static\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"shutdown\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{  MONGO.stop(); }\n`)),mdx(\"p\",null,\"Be\\xADfore our tests, we start (pro\\xADgram\\xADmat\\xADi\\xADcally) a mongo data\\xADbase on the port 12345. When all our tests have been ex\\xADe\\xADcuted, we shut\\xADdown the data\\xADbase.\"),mdx(\"p\",null,\"So now that the mongo server is man\\xADaged, we need to to give the right con\\xADfig\\xADu\\xADra\\xADtion to our ver\\xADti\\xADcle. Up\\xADdate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"DeploymentOption\"),\" in\\xADstance with:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),\"DeploymentOptions options = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` DeploymentOptions()\n    .setConfig(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` JsonObject()\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"http.port\"'),`, port)\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"db_name\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"whiskies-test\"'),`)\n        .put(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"connection_string\"'),`,\n            `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"mongodb://localhost:\"'),` + MONGO_PORT)\n);\n`)),mdx(\"p\",null,\"That\\u2019s all for the unit tests.\"),mdx(\"p\",null,\"For the integration-\\u200Btest, we are using an ex\\xADter\\xADnal\\xADized json file. Edit the \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/test/resources/my-it-config.json\"),\" with the fol\\xADlow\\xADing con\\xADtent:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-json\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"http.port\"'),\": ${http.port},\\n  \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"db_name\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"whiskies-it\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"connection_string\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"mongodb://localhost:37017\"'),`\n}\n`)),mdx(\"p\",null,\"No\\xADtice the port we are using for the mongo server. This port was con\\xADfig\\xADured in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file.\"),mdx(\"p\",null,\"Last but not least, we still have a con\\xADfig\\xADu\\xADra\\xADtion file to edit: the con\\xADfig\\xADu\\xADra\\xADtion you use to launch the ap\\xADpli\\xADca\\xADtion in \",mdx(\"inlineCode\",{parentName:\"p\"},\"production\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-json\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"http.port\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8082\"),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"db_name\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"whiskies\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"connection_string\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"mongodb://localhost:27017\"'),`\n}\n`)),mdx(\"p\",null,\"Here you would need to edit the \",mdx(\"inlineCode\",{parentName:\"p\"},\"localhost:27017\"),\" with the right url for your mongo server.\"),mdx(Alert,{info:!0,title:\"Some changes in the integration tests\",mdxType:\"Alert\"},mdx(\"p\",null,\"Be\\xADcause mongo doc\\xADu\\xADment id are String and not in\\xADte\\xADger, we have to slightly change doc\\xADu\\xADment se\\xADlec\\xADtion in the in\\xADte\\xADgra\\xADtion test.\")),mdx(\"h2\",e({},{id:\"time-for-a-run\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#time-for-a-run\"})),\"Time for a run\"),mdx(\"p\",null,\"It\\u2019s time to pack\\xADage and run the ap\\xADpli\\xADca\\xADtion and check that every\\xADthing works as ex\\xADpected. Let\\u2019s pack\\xADage the ap\\xADpli\\xADca\\xADtion using:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-text\"}),`mvn clean verify\n`)),mdx(\"p\",null,\"And then to launch it, start your mongo server and launch:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-text\"}),`java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\n  -conf src/main/conf/my-application-conf.json\n`)),mdx(\"p\",null,\"If you are, like me, using docker / docker-\\u200Bmachine for al\\xADmost every\\xADthing, edit the con\\xADfig\\xADu\\xADra\\xADtion file to refer to the right host (lo\\xADcal\\xADhost for docker, the docker-\\u200Bmachine ip if you use docker-\\u200Bmachine) and then launch:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-bash\"}),`docker run -d -p 27017:27017 mongo\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\n  -conf src/main/conf/my-application-conf.json\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"# or\"),`\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar \\\\\n  -conf src/main/conf/my-application-conf-docker-machine.json\n`)),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/images/blog/intro-series/whisky-mongo.png\",alt:\"The application live and running\"}))),mdx(\"h2\",e({},{id:\"thats-all-folks\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#thats-all-folks\"})),\"That\\u2019s all folks!\"),mdx(\"p\",null,\"We are reach\\xADing the end of this post. We saw how you can use the vert-\\u200Bmongo-client to ac\\xADcess asyn\\xADchro\\xADnously data stored in\\xADside a mongo data\\xADbase as well as in\\xADsert\\xADing/up\\xADdat\\xADing this data. Now you have the choice be\\xADtween JDBC or Mongo. In ad\\xADdi\\xADtion, vert.x pro\\xADvides a client for Redis.\"),mdx(\"p\",null,\"Next time, we will see how the ver\\xADti\\xADcle class can be split in two ver\\xADti\\xADcles in order to bet\\xADter or\\xADga\\xADnize your code. The in\\xADter\\xADac\\xADtion be\\xADtween the two ver\\xADti\\xADcles will uses \",mdx(\"em\",{parentName:\"p\"},\"ser\\xADvices\"),\".\"),mdx(\"p\",null,\"Stay tuned \u0026 Happy cod\\xADing!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Vert.x 3.2.0 is released!","category":"releases","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"We are pleased to announce the release of Vert.x 3.2.0!"},"date":"2015-12-15","slug":"vert-x-3-2-0-is-released"},"nextPost":{"meta":{"title":"Vert.x ES6 back to the future","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"On October 21th, 2015 we all rejoiced with the return from the past of Marty McFly with his flying car and so on, however in the Vert.x world we were quite sad about our rather old JavaScript support."},"date":"2015-11-25","slug":"vert-x-es6-back-to-the-future"},"relatedPosts":[{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"},{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"}]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["combine-vert-x-and-mongo-to-build-a-giant"]},"buildId":"_MdD-KOBPRg_18nUO-ssn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>