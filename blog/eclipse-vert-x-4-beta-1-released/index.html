<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Eclipse Vert.x 4 beta 1 released! | 博客 | Eclipse Vert.x</title><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/styles.f20dca63.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.f20dca63.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.3b9874ba65db13e7d868.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-c36bc482402d8ffe42a5.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/introduction-to-vertx-and-reactive/"><li class="dropdown-item">简介</li></a><a href="/get-started/"><li class="dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">App generator <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/docs/">文档</a><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/faq/"><li class="dropdown-item">答疑</li></a><a href="/channels/"><li class="dropdown-item">Channels</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">How-To’s <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer"><li class="dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/blog/">博客</a><a class="navbar-menu-item" href="/community/">社区</a><a class="navbar-menu-item" href="/translation/">翻译团队</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x User Group" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" class="navbar-social-link" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog-post"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul><div class="feed-icons"><a href="/feed/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div><div class="blog-post-main"><div class="blog-post-content"><h1>Eclipse Vert.x 4 beta 1 released!</h1><span><p>We are ex­tremely pleased to an­nounce the first 4.0 beta re­lease of Eclipse Vert.x .</p><p>Vert.x 4 is the evo­lu­tion of the Vert.x 3.x se­ries that will bring key fea­tures to Vert.x.</p><h2 id="sql-client-metrics"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#sql-client-metrics"></a>SQL client metrics</h2><p>Vert.x 4 sup­ports met­rics for clients which are crit­i­cal for mon­i­tor­ing ap­pli­ca­tion per­for­mance.</p><p>While the ca­pa­bil­i­ties are generic and can apply to any client, each client needs a spe­cific in­te­gra­tion.
Ob­vi­ously the SQL client was the per­fect can­di­date in mind for this new fea­ture.</p><p>Mi­crom­e­ter met­rics will re­port these met­rics as</p><ul><li>vertx_sql_queue_pend­ing: num­ber of re­quests sched­uled but not yet ex­e­cuted</li><li>vertx_sql_queue_time: time spent in queue be­fore pro­cess­ing</li><li>vertx_sql_pro­cess­ing_pend­ing: num­ber of re­quest being processed</li><li>vertx_sql_pro­cess­ing_time: re­quests la­ten­cies</li></ul><h2 id="a-better-api-for-jdbc-client"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#a-better-api-for-jdbc-client"></a>A better API for JDBC Client</h2><p>Our JDBC client will not go away in Vert.x 4, we do rec­kn­og­nize that JDBC is im­por­tant be­cause it sup­ports
the most im­por­tant num­ber of data­bases in the ecosys­tem.</p><p>When we de­signed the SQL client API we strived a lot to come with the sim­plest and most pow­er­ful API
for asyn­cho­nous SQL client.</p><p>This re­lease brings an im­ple­men­ta­tion of the SQL client API for JDBC.</p><p>The 3.x API se­ries will con­tinue to be sup­ported for the life­time of Vert.x 4.</p><h2 id="event-loop-affinity"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#event-loop-affinity"></a>Event loop affinity</h2><p>Using Vert.x from a non Vert.x thread is a very com­mon use case we have been sup­port­ing since Vert.x 3.</p><p>When you use a Vert.x re­source (like a client) from a non Vert.x thread, Vert.x 3 ob­tains a new event-​loop
every­time it hap­pens.</p><p>In Vert.x 4 we de­cided to pin the first event loop to the non Vert.x thread. The goal is to pre­vent
some data races and also makes rea­son­ning about this eas­ier.</p><pre><code class="hljs language-ini">Vertx <span class="hljs-attr">vertx</span> = Vertx.vertx()<span class="hljs-comment">;</span>

for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">;i &lt; 4;i++) {</span>
  String <span class="hljs-attr">msg</span> = <span class="hljs-string">&quot;Message &quot;</span> + i<span class="hljs-comment">;</span>
  vertx.runOnContext(v -&gt; {
    System.out.println(i)<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
}
</code></pre><p>Run­ning this with Vert.x 3 will print the 4 lines but they are likely to not be re­ordered, this code could
also be run­ning in par­al­lel (that is two dif­fer­ent threads run­ning at the same time on a dif­fer­ent CPU core).</p><p>Run­ning this with Vert.x 4 will print the 4 lines in the cor­rect order and al­ways with the same thread. This
elim­i­nates some po­ten­tial data races and also al­lows to rea­son about what will hap­pen at run­time.</p><h2 id="vertx-json-schema-supports-draft2019-09"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#vertx-json-schema-supports-draft2019-09"></a>Vert.x Json Schema supports Draft2019-09</h2><p>The new <a href="https://github.com/eclipse-vertx/vertx-json-schema">vertx-​json-schema</a> mod­ule now sup­ports the lat­est Json Schema <a href="http://json-schema.org/specification.html">Draft2019-09 spec</a>. You can fi­nally play with the new <code>$recursiveRef</code> to build ex­ten­si­ble re­cur­sive schemas and with <code>unevaluatedProperties</code>/<code>unevaluatedItems</code> to de­fine strict schemas. Look at the mod­ule <a href="/docs/vertx-json-schema/java/">doc­u­men­ta­tion</a> to start using it.</p><h2 id="clustering-configuration-simplified"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#clustering-configuration-simplified"></a>Clustering configuration simplified</h2><p>In Vert.x 3, clus­ter host was set to <code>localhost</code> by de­fault in <code>EventBusOptions</code>.
Con­se­quently, a lot of new users were con­fused about why event bus con­sumers and pro­duc­ers were not able to com­mu­ni­cate even if the un­der­ly­ing clus­ter man­ager was con­fig­ured cor­rectly.</p><p>Also, when using the CLI tool or the <code>Launcher</code> class, Vert.x tried to find a host among avail­able net­work in­ter­faces if none was pro­vided with the <code>-cluster-host</code> ar­gu­ment.
Some­times, the host cho­sen by the clus­ter man­ager and Vert.x were not the same.</p><p>Start­ing with Vert.x 4 beta 1, the clus­ter host de­fault has been re­moved and, if users don’t pro­vide any, Vert.x will ask the clus­ter man­ager which one it picked be­fore try­ing to find one it­self.
This ap­plies whether Vert.x is em­bed­ded in any Java pro­gram or started with the CLI tool or with the <code>Launcher</code> class.</p><p>So far, only <code>vertx-hazelcast</code> and <code>vertx-infinispan</code> clus­ter man­agers can pro­vide Vert.x with a clus­ter host.
When other clus­ter man­agers are used, Vert.x will choose one it­self.</p><h2 id="cluster-manager-upgrades"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#cluster-manager-upgrades"></a>Cluster manager upgrades</h2><p><code>vertx-hazelcast</code> has been up­graded to Hazel­cast 4.0.2 and <code>vertx-infinispan</code> to In­fin­is­pan 11.0.1.Final.</p><h2 id="finally"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#finally"></a>Finally</h2><p>This is the Beta1 re­lase of Vert.x 4, you can of course ex­pect more betas as we get feed­back from the com­mu­nity and fix is­sues that we failed to catch be­fore.</p><p>You can also read the mile­stone an­nounces to know more about the over­ral changes:</p><ul><li><a href="/blog/eclipse-vert-x-4-milestone-5-released/">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-5-​released</a></li><li><a href="/blog/eclipse-vert-x-4-milestone-4-released/">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-4-​released</a></li><li><a href="/blog/eclipse-vert-x-4-milestone-3-released/">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-3-​released</a></li><li><a href="/blog/eclipse-vert-x-4-milestone-2-released/">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-2-​released</a></li><li><a href="/blog/eclipse-vert-x-4-milestone-1-released/">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-1-​released</a></li></ul><p>The <a href="https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes">dep­re­ca­tions and break­ing changes</a>
can be found on the wiki.</p><p>For this re­lease there are no Docker im­ages.</p><p>The re­lease ar­ti­facts have been de­ployed to <a href="https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1">Maven Cen­tral</a> and you can get the dis­tri­b­u­tion on <a href="https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/">Maven Cen­tral</a>.</p><p>You can boot­strap a Vert.x 4.0.0.Beta1 project using <a href="https://start.vertx.io">https://start.vertx.io</a>.</p><p>The doc­u­men­ta­tion has been de­ployed on this pre­view web-​site <a href="https://vertx-web-site.github.io/docs/">https://vertx-​web-site.github.io/docs/</a></p><p>That’s it! Happy cod­ing and see you soon on our user or dev <a href="/community/">chan­nels</a>.</p></span></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/vietj.png?size=160"/><div class="blog-post-author-name">by <a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->28 July 2020</div>in <a class="blog-post-sidebar-category" href="/blog/category/releases/">releases</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->4 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Eclipse%20Vert.x%204%20beta%201%20released!&amp;url=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Feclipse-vert-x-4-beta-1-released&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Feclipse-vert-x-4-beta-1-released" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Feclipse-vert-x-4-beta-1-released" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Facebook</title><path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">17 September 2020</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-3-9-3-released/">Eclipse Vert.x 3.9.3 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">Eclipse Vert.x version 3.9.3 has just been released. It fixes quite a few bugs that have been reported by the community.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-9-3-released/"> 阅读更多</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">21 July 2020</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-3-9-2-released/">Eclipse Vert.x 3.9.2 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">The new Eclipse Vert.x version 3.9.2 has just been released. It includes a few bug fixes, a new reactive DB2 client, and reactive MySQL Client domain socket support.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-3-9-2-released/"> 阅读更多</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">10 June 2020</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-4-milestone-5-released/">Eclipse Vert.x 4 milestone 5 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-4-milestone-5-released/"> 阅读更多</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">4 November 2020</span>​<a class="blog-entry-category" href="/blog/category/releases/">releases</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/eclipse-vert-x-4-cr1-released/">Eclipse Vert.x 4 CR1 released!</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/vietj.png?size=50"/><a href="https://github.com/vietj" target="_blank" rel="noopener noreferrer">Julien Viet</a></li></ul></span><p class="blog-entry-summary">The first release candidate of the upcoming Vert.x 4 has just been released. We consider it feature complete and invite the community to test it.</p><span class="read-more-link"><a href="/blog/eclipse-vert-x-4-cr1-released/"> 阅读更多</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">19 October 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/using-the-asynchronous-sql-client/">Using the asynchronous SQL client</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application.</p><span class="read-more-link"><a href="/blog/using-the-asynchronous-sql-client/"> 阅读更多</a></span></div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">文档</a></li><li><a href="/download/">下载</a></li><li><a href="/blog/">博客</a></li><li><a href="/community/">社区</a></li><li><a href="/translation/">翻译团队</a></li><li><a href="https://github.com/eclipse-vertx/vert.x">GitHub</a></li><li><a href="https://github.com/vertx-china/vertx-web-site">翻译GitHub</a></li></ul></div><div class="footer-nav-list"><h5>资源</h5><ul class=""><li><a href="/faq/">答疑</a></li><li><a href="/channels/">Channels</a></li><li><a href="https://how-to.vertx.io/">How-To’s</a></li><li><a href="https://start.vertx.io/">App Generator</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Eclipse Vert.x 4 beta 1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the first 4.0 beta release of Eclipse Vert.x. Highlights of this release are the improved JDBC Client API, event loop affinity, and much more."},"date":"2020-07-28","slug":"eclipse-vert-x-4-beta-1-released","readingTime":{"text":"4 min read","minutes":3.73,"time":223800,"words":746},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We are ex\\xADtremely pleased to an\\xADnounce the first 4.0 beta re\\xADlease of Eclipse Vert.x .\"), mdx(\"p\", null, \"Vert.x 4 is the evo\\xADlu\\xADtion of the Vert.x 3.x se\\xADries that will bring key fea\\xADtures to Vert.x.\"), mdx(\"h2\", {\n    \"id\": \"sql-client-metrics\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#sql-client-metrics\"\n  })), \"SQL client metrics\"), mdx(\"p\", null, \"Vert.x 4 sup\\xADports met\\xADrics for clients which are crit\\xADi\\xADcal for mon\\xADi\\xADtor\\xADing ap\\xADpli\\xADca\\xADtion per\\xADfor\\xADmance.\"), mdx(\"p\", null, \"While the ca\\xADpa\\xADbil\\xADi\\xADties are generic and can apply to any client, each client needs a spe\\xADcific in\\xADte\\xADgra\\xADtion.\\nOb\\xADvi\\xADously the SQL client was the per\\xADfect can\\xADdi\\xADdate in mind for this new fea\\xADture.\"), mdx(\"p\", null, \"Mi\\xADcrom\\xADe\\xADter met\\xADrics will re\\xADport these met\\xADrics as\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_queue_pend\\xADing: num\\xADber of re\\xADquests sched\\xADuled but not yet ex\\xADe\\xADcuted\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_queue_time: time spent in queue be\\xADfore pro\\xADcess\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_pro\\xADcess\\xADing_pend\\xADing: num\\xADber of re\\xADquest being processed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_pro\\xADcess\\xADing_time: re\\xADquests la\\xADten\\xADcies\")), mdx(\"h2\", {\n    \"id\": \"a-better-api-for-jdbc-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#a-better-api-for-jdbc-client\"\n  })), \"A better API for JDBC Client\"), mdx(\"p\", null, \"Our JDBC client will not go away in Vert.x 4, we do rec\\xADkn\\xADog\\xADnize that JDBC is im\\xADpor\\xADtant be\\xADcause it sup\\xADports\\nthe most im\\xADpor\\xADtant num\\xADber of data\\xADbases in the ecosys\\xADtem.\"), mdx(\"p\", null, \"When we de\\xADsigned the SQL client API we strived a lot to come with the sim\\xADplest and most pow\\xADer\\xADful API\\nfor asyn\\xADcho\\xADnous SQL client.\"), mdx(\"p\", null, \"This re\\xADlease brings an im\\xADple\\xADmen\\xADta\\xADtion of the SQL client API for JDBC.\"), mdx(\"p\", null, \"The 3.x API se\\xADries will con\\xADtinue to be sup\\xADported for the life\\xADtime of Vert.x 4.\"), mdx(\"h2\", {\n    \"id\": \"event-loop-affinity\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#event-loop-affinity\"\n  })), \"Event loop affinity\"), mdx(\"p\", null, \"Using Vert.x from a non Vert.x thread is a very com\\xADmon use case we have been sup\\xADport\\xADing since Vert.x 3.\"), mdx(\"p\", null, \"When you use a Vert.x re\\xADsource (like a client) from a non Vert.x thread, Vert.x 3 ob\\xADtains a new event-\\u200Bloop\\nevery\\xADtime it hap\\xADpens.\"), mdx(\"p\", null, \"In Vert.x 4 we de\\xADcided to pin the first event loop to the non Vert.x thread. The goal is to pre\\xADvent\\nsome data races and also makes rea\\xADson\\xADning about this eas\\xADier.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-ini\"\n  }), \"Vertx \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"vertx\"), \" = Vertx.vertx()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\\nfor (int \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"i\"), \" = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";i \u003c 4;i++) {\"), \"\\n  String \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"msg\"), \" = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Message \\\"\"), \" + i\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n  vertx.runOnContext(v -\u003e {\\n    System.out.println(i)\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n}\\n\")), mdx(\"p\", null, \"Run\\xADning this with Vert.x 3 will print the 4 lines but they are likely to not be re\\xADordered, this code could\\nalso be run\\xADning in par\\xADal\\xADlel (that is two dif\\xADfer\\xADent threads run\\xADning at the same time on a dif\\xADfer\\xADent CPU core).\"), mdx(\"p\", null, \"Run\\xADning this with Vert.x 4 will print the 4 lines in the cor\\xADrect order and al\\xADways with the same thread. This\\nelim\\xADi\\xADnates some po\\xADten\\xADtial data races and also al\\xADlows to rea\\xADson about what will hap\\xADpen at run\\xADtime.\"), mdx(\"h2\", {\n    \"id\": \"vertx-json-schema-supports-draft2019-09\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-json-schema-supports-draft2019-09\"\n  })), \"Vert.x Json Schema supports Draft2019-09\"), mdx(\"p\", null, \"The new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/eclipse-vertx/vertx-json-schema\"\n  }), \"vertx-\\u200Bjson-schema\"), \" mod\\xADule now sup\\xADports the lat\\xADest Json Schema \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://json-schema.org/specification.html\"\n  }), \"Draft2019-09 spec\"), \". You can fi\\xADnally play with the new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$recursiveRef\"), \" to build ex\\xADten\\xADsi\\xADble re\\xADcur\\xADsive schemas and with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unevaluatedProperties\"), \"/\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unevaluatedItems\"), \" to de\\xADfine strict schemas. Look at the mod\\xADule \", mdx(Link, {\n    href: \"/docs/vertx-json-schema/java/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"doc\\xADu\\xADmen\\xADta\\xADtion\")), \" to start using it.\"), mdx(\"h2\", {\n    \"id\": \"clustering-configuration-simplified\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#clustering-configuration-simplified\"\n  })), \"Clustering configuration simplified\"), mdx(\"p\", null, \"In Vert.x 3, clus\\xADter host was set to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost\"), \" by de\\xADfault in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventBusOptions\"), \".\\nCon\\xADse\\xADquently, a lot of new users were con\\xADfused about why event bus con\\xADsumers and pro\\xADduc\\xADers were not able to com\\xADmu\\xADni\\xADcate even if the un\\xADder\\xADly\\xADing clus\\xADter man\\xADager was con\\xADfig\\xADured cor\\xADrectly.\"), mdx(\"p\", null, \"Also, when using the CLI tool or the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \" class, Vert.x tried to find a host among avail\\xADable net\\xADwork in\\xADter\\xADfaces if none was pro\\xADvided with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-cluster-host\"), \" ar\\xADgu\\xADment.\\nSome\\xADtimes, the host cho\\xADsen by the clus\\xADter man\\xADager and Vert.x were not the same.\"), mdx(\"p\", null, \"Start\\xADing with Vert.x 4 beta 1, the clus\\xADter host de\\xADfault has been re\\xADmoved and, if users don\\u2019t pro\\xADvide any, Vert.x will ask the clus\\xADter man\\xADager which one it picked be\\xADfore try\\xADing to find one it\\xADself.\\nThis ap\\xADplies whether Vert.x is em\\xADbed\\xADded in any Java pro\\xADgram or started with the CLI tool or with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \" class.\"), mdx(\"p\", null, \"So far, only \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-hazelcast\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-infinispan\"), \" clus\\xADter man\\xADagers can pro\\xADvide Vert.x with a clus\\xADter host.\\nWhen other clus\\xADter man\\xADagers are used, Vert.x will choose one it\\xADself.\"), mdx(\"h2\", {\n    \"id\": \"cluster-manager-upgrades\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#cluster-manager-upgrades\"\n  })), \"Cluster manager upgrades\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-hazelcast\"), \" has been up\\xADgraded to Hazel\\xADcast 4.0.2 and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-infinispan\"), \" to In\\xADfin\\xADis\\xADpan 11.0.1.Final.\"), mdx(\"h2\", {\n    \"id\": \"finally\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finally\"\n  })), \"Finally\"), mdx(\"p\", null, \"This is the Beta1 re\\xADlase of Vert.x 4, you can of course ex\\xADpect more betas as we get feed\\xADback from the com\\xADmu\\xADnity and fix is\\xADsues that we failed to catch be\\xADfore.\"), mdx(\"p\", null, \"You can also read the mile\\xADstone an\\xADnounces to know more about the over\\xADral changes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-5-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-5-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-4-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-4-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-3-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-3-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-2-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-2-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-1-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-1-\\u200Breleased\")))), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\"\n  }), \"dep\\xADre\\xADca\\xADtions and break\\xADing changes\"), \"\\ncan be found on the wiki.\"), mdx(\"p\", null, \"For this re\\xADlease there are no Docker im\\xADages.\"), mdx(\"p\", null, \"The re\\xADlease ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\"\n  }), \"Maven Cen\\xADtral\"), \".\"), mdx(\"p\", null, \"You can boot\\xADstrap a Vert.x 4.0.0.Beta1 project using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://start.vertx.io\"\n  }), \"https://start.vertx.io\"), \".\"), mdx(\"p\", null, \"The doc\\xADu\\xADmen\\xADta\\xADtion has been de\\xADployed on this pre\\xADview web-\\u200Bsite \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx-web-site.github.io/docs/\"\n  }), \"https://vertx-\\u200Bweb-site.github.io/docs/\")), mdx(\"p\", null, \"That\\u2019s it! Happy cod\\xADing and see you soon on our user or dev \", mdx(Link, {\n    href: \"/community\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"chan\\xADnels\")), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eWe are ex­tremely pleased to an­nounce the first 4.0 beta re­lease of Eclipse Vert.x .\u003c/p\u003e\u003cp\u003eVert.x 4 is the evo­lu­tion of the Vert.x 3.x se­ries that will bring key fea­tures to Vert.x.\u003c/p\u003e\u003ch2 id=\"sql-client-metrics\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#sql-client-metrics\"\u003e\u003c/a\u003eSQL client metrics\u003c/h2\u003e\u003cp\u003eVert.x 4 sup­ports met­rics for clients which are crit­i­cal for mon­i­tor­ing ap­pli­ca­tion per­for­mance.\u003c/p\u003e\u003cp\u003eWhile the ca­pa­bil­i­ties are generic and can apply to any client, each client needs a spe­cific in­te­gra­tion.\nOb­vi­ously the SQL client was the per­fect can­di­date in mind for this new fea­ture.\u003c/p\u003e\u003cp\u003eMi­crom­e­ter met­rics will re­port these met­rics as\u003c/p\u003e\u003cul\u003e\u003cli\u003evertx_sql_queue_pend­ing: num­ber of re­quests sched­uled but not yet ex­e­cuted\u003c/li\u003e\u003cli\u003evertx_sql_queue_time: time spent in queue be­fore pro­cess­ing\u003c/li\u003e\u003cli\u003evertx_sql_pro­cess­ing_pend­ing: num­ber of re­quest being processed\u003c/li\u003e\u003cli\u003evertx_sql_pro­cess­ing_time: re­quests la­ten­cies\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"a-better-api-for-jdbc-client\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#a-better-api-for-jdbc-client\"\u003e\u003c/a\u003eA better API for JDBC Client\u003c/h2\u003e\u003cp\u003eOur JDBC client will not go away in Vert.x 4, we do rec­kn­og­nize that JDBC is im­por­tant be­cause it sup­ports\nthe most im­por­tant num­ber of data­bases in the ecosys­tem.\u003c/p\u003e\u003cp\u003eWhen we de­signed the SQL client API we strived a lot to come with the sim­plest and most pow­er­ful API\nfor asyn­cho­nous SQL client.\u003c/p\u003e\u003cp\u003eThis re­lease brings an im­ple­men­ta­tion of the SQL client API for JDBC.\u003c/p\u003e\u003cp\u003eThe 3.x API se­ries will con­tinue to be sup­ported for the life­time of Vert.x 4.\u003c/p\u003e\u003ch2 id=\"event-loop-affinity\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#event-loop-affinity\"\u003e\u003c/a\u003eEvent loop affinity\u003c/h2\u003e\u003cp\u003eUsing Vert.x from a non Vert.x thread is a very com­mon use case we have been sup­port­ing since Vert.x 3.\u003c/p\u003e\u003cp\u003eWhen you use a Vert.x re­source (like a client) from a non Vert.x thread, Vert.x 3 ob­tains a new event-​loop\nevery­time it hap­pens.\u003c/p\u003e\u003cp\u003eIn Vert.x 4 we de­cided to pin the first event loop to the non Vert.x thread. The goal is to pre­vent\nsome data races and also makes rea­son­ning about this eas­ier.\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-ini\"\u003eVertx \u003cspan class=\"hljs-attr\"\u003evertx\u003c/span\u003e = Vertx.vertx()\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n\nfor (int \u003cspan class=\"hljs-attr\"\u003ei\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-comment\"\u003e;i \u0026lt; 4;i++) {\u003c/span\u003e\n  String \u003cspan class=\"hljs-attr\"\u003emsg\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Message \u0026quot;\u003c/span\u003e + i\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n  vertx.runOnContext(v -\u0026gt; {\n    System.out.println(i)\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n  })\u003cspan class=\"hljs-comment\"\u003e;\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eRun­ning this with Vert.x 3 will print the 4 lines but they are likely to not be re­ordered, this code could\nalso be run­ning in par­al­lel (that is two dif­fer­ent threads run­ning at the same time on a dif­fer­ent CPU core).\u003c/p\u003e\u003cp\u003eRun­ning this with Vert.x 4 will print the 4 lines in the cor­rect order and al­ways with the same thread. This\nelim­i­nates some po­ten­tial data races and also al­lows to rea­son about what will hap­pen at run­time.\u003c/p\u003e\u003ch2 id=\"vertx-json-schema-supports-draft2019-09\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-json-schema-supports-draft2019-09\"\u003e\u003c/a\u003eVert.x Json Schema supports Draft2019-09\u003c/h2\u003e\u003cp\u003eThe new \u003ca href=\"https://github.com/eclipse-vertx/vertx-json-schema\"\u003evertx-​json-schema\u003c/a\u003e mod­ule now sup­ports the lat­est Json Schema \u003ca href=\"http://json-schema.org/specification.html\"\u003eDraft2019-09 spec\u003c/a\u003e. You can fi­nally play with the new \u003ccode\u003e$recursiveRef\u003c/code\u003e to build ex­ten­si­ble re­cur­sive schemas and with \u003ccode\u003eunevaluatedProperties\u003c/code\u003e/\u003ccode\u003eunevaluatedItems\u003c/code\u003e to de­fine strict schemas. Look at the mod­ule \u003ca href=\"/docs/vertx-json-schema/java/\"\u003edoc­u­men­ta­tion\u003c/a\u003e to start using it.\u003c/p\u003e\u003ch2 id=\"clustering-configuration-simplified\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#clustering-configuration-simplified\"\u003e\u003c/a\u003eClustering configuration simplified\u003c/h2\u003e\u003cp\u003eIn Vert.x 3, clus­ter host was set to \u003ccode\u003elocalhost\u003c/code\u003e by de­fault in \u003ccode\u003eEventBusOptions\u003c/code\u003e.\nCon­se­quently, a lot of new users were con­fused about why event bus con­sumers and pro­duc­ers were not able to com­mu­ni­cate even if the un­der­ly­ing clus­ter man­ager was con­fig­ured cor­rectly.\u003c/p\u003e\u003cp\u003eAlso, when using the CLI tool or the \u003ccode\u003eLauncher\u003c/code\u003e class, Vert.x tried to find a host among avail­able net­work in­ter­faces if none was pro­vided with the \u003ccode\u003e-cluster-host\u003c/code\u003e ar­gu­ment.\nSome­times, the host cho­sen by the clus­ter man­ager and Vert.x were not the same.\u003c/p\u003e\u003cp\u003eStart­ing with Vert.x 4 beta 1, the clus­ter host de­fault has been re­moved and, if users don’t pro­vide any, Vert.x will ask the clus­ter man­ager which one it picked be­fore try­ing to find one it­self.\nThis ap­plies whether Vert.x is em­bed­ded in any Java pro­gram or started with the CLI tool or with the \u003ccode\u003eLauncher\u003c/code\u003e class.\u003c/p\u003e\u003cp\u003eSo far, only \u003ccode\u003evertx-hazelcast\u003c/code\u003e and \u003ccode\u003evertx-infinispan\u003c/code\u003e clus­ter man­agers can pro­vide Vert.x with a clus­ter host.\nWhen other clus­ter man­agers are used, Vert.x will choose one it­self.\u003c/p\u003e\u003ch2 id=\"cluster-manager-upgrades\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#cluster-manager-upgrades\"\u003e\u003c/a\u003eCluster manager upgrades\u003c/h2\u003e\u003cp\u003e\u003ccode\u003evertx-hazelcast\u003c/code\u003e has been up­graded to Hazel­cast 4.0.2 and \u003ccode\u003evertx-infinispan\u003c/code\u003e to In­fin­is­pan 11.0.1.Final.\u003c/p\u003e\u003ch2 id=\"finally\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finally\"\u003e\u003c/a\u003eFinally\u003c/h2\u003e\u003cp\u003eThis is the Beta1 re­lase of Vert.x 4, you can of course ex­pect more betas as we get feed­back from the com­mu­nity and fix is­sues that we failed to catch be­fore.\u003c/p\u003e\u003cp\u003eYou can also read the mile­stone an­nounces to know more about the over­ral changes:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"/blog/eclipse-vert-x-4-milestone-5-released/\"\u003ehttps://vertx.io/blog/eclipse-​vert-x-4-​milestone-5-​released\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"/blog/eclipse-vert-x-4-milestone-4-released/\"\u003ehttps://vertx.io/blog/eclipse-​vert-x-4-​milestone-4-​released\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"/blog/eclipse-vert-x-4-milestone-3-released/\"\u003ehttps://vertx.io/blog/eclipse-​vert-x-4-​milestone-3-​released\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"/blog/eclipse-vert-x-4-milestone-2-released/\"\u003ehttps://vertx.io/blog/eclipse-​vert-x-4-​milestone-2-​released\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"/blog/eclipse-vert-x-4-milestone-1-released/\"\u003ehttps://vertx.io/blog/eclipse-​vert-x-4-​milestone-1-​released\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe \u003ca href=\"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\"\u003edep­re­ca­tions and break­ing changes\u003c/a\u003e\ncan be found on the wiki.\u003c/p\u003e\u003cp\u003eFor this re­lease there are no Docker im­ages.\u003c/p\u003e\u003cp\u003eThe re­lease ar­ti­facts have been de­ployed to \u003ca href=\"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\"\u003eMaven Cen­tral\u003c/a\u003e and you can get the dis­tri­b­u­tion on \u003ca href=\"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\"\u003eMaven Cen­tral\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eYou can boot­strap a Vert.x 4.0.0.Beta1 project using \u003ca href=\"https://start.vertx.io\"\u003ehttps://start.vertx.io\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eThe doc­u­men­ta­tion has been de­ployed on this pre­view web-​site \u003ca href=\"https://vertx-web-site.github.io/docs/\"\u003ehttps://vertx-​web-site.github.io/docs/\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThat’s it! Happy cod­ing and see you soon on our user or dev \u003ca href=\"/community/\"\u003echan­nels\u003c/a\u003e.\u003c/p\u003e","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.9.3 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"Eclipse Vert.x version 3.9.3 has just been released. It fixes quite a few bugs that have been reported by the community."},"date":"2020-09-17","slug":"eclipse-vert-x-3-9-3-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 3.9.2 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new Eclipse Vert.x version 3.9.2 has just been released. It includes a few bug fixes, a new reactive DB2 client, and reactive MySQL Client domain socket support."},"date":"2020-07-21","slug":"eclipse-vert-x-3-9-2-released"},"relatedPosts":[{"meta":{"title":"Eclipse Vert.x 4 milestone 5 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4."},"date":"2020-06-10","slug":"eclipse-vert-x-4-milestone-5-released"},{"meta":{"title":"Eclipse Vert.x 4 CR1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first release candidate of the upcoming Vert.x 4 has just been released. We consider it feature complete and invite the community to test it."},"date":"2020-11-04","slug":"eclipse-vert-x-4-cr1-released"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"}]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["eclipse-vert-x-4-beta-1-released"]},"buildId":"69730_59T7-iv2zkbpoKa","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-9a5c89434732593ca2fd.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.3b9874ba65db13e7d868.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-c36bc482402d8ffe42a5.js" async=""></script><script src="/_next/static/69730_59T7-iv2zkbpoKa/_buildManifest.js" async=""></script><script src="/_next/static/69730_59T7-iv2zkbpoKa/_ssgManifest.js" async=""></script></body></html>