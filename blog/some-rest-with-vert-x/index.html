<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Some Rest with Vert.x | 博客 | Eclipse Vert.x</title><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/styles.f20dca63.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.f20dca63.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.3b9874ba65db13e7d868.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-c36bc482402d8ffe42a5.js" as="script"/></head><body><div id="__next"><main class="page"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/introduction-to-vertx-and-reactive/"><li class="dropdown-item">简介</li></a><a href="/get-started/"><li class="dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">App generator <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/docs/">文档</a><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/faq/"><li class="dropdown-item">答疑</li></a><a href="/channels/"><li class="dropdown-item">Channels</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">How-To’s <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer"><li class="dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/blog/">博客</a><a class="navbar-menu-item" href="/community/">社区</a><a class="navbar-menu-item" href="/translation/">翻译团队</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x User Group" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x User Group</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" class="navbar-social-link" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="page-content"><div class="container"><div class="blog-post"><div class="blog-navbar"><h2>Blog</h2><ul><li><a href="/blog/">All posts</a></li><li><a href="/blog/category/releases/">releases</a></li><li><a href="/blog/category/guides/">guides</a></li><li><a href="/blog/category/news/">news</a></li></ul><div class="feed-icons"><a href="/feed/atom.xml"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></div></div><div class="blog-post-main"><div class="blog-post-content"><h1>Some Rest with Vert.x</h1><span><p>This post is part of the <em>In­tro­duc­tion to Vert.x</em> se­ries. So, let’s have a quick look about the con­tent of the pre­vi­ous posts. In <a href="/blog/my-first-vert-x-3-application/">the first post</a>, we de­vel­oped a very sim­ple Vert.x 3 ap­pli­ca­tion, and saw how this ap­pli­ca­tion can be tested, pack­aged and ex­e­cuted. In <a href="/blog/vert-x-application-configuration/">the last post</a>, we saw how this ap­pli­ca­tion be­came con­fig­urable and how we can use a ran­dom port in test.</p><p>Well, noth­ing fancy… Let’s go a bit fur­ther this time and de­velop a <em>CRUD-​ish</em> ap­pli­ca­tion. So an ap­pli­ca­tion ex­pos­ing an HTML page in­ter­act­ing with the back­end using a REST API. The level of <em>REST­full­ness</em> of the API is not the topic of this post, I let you de­cide as it’s a very slip­pery topic.</p><p>So, in other words we are going to see:</p><ul><li>Vert.x Web - a frame­work that let you cre­ate Web ap­pli­ca­tions eas­ily using Vert.x</li><li>How to ex­pose sta­tic re­sources</li><li>How to de­velop a REST API</li></ul><p>The code de­vel­oped in this post is avail­able on the <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-3">post-3</a> branch of this <a href="https://github.com/cescoffier/my-vertx-first-app">Github</a> project. We are going to start from the  <a href="https://github.com/cescoffier/my-vertx-first-app/tree/post-2">post-2</a> code­base.</p><p>So, let’s start.</p><h2 id="vertx-web"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#vertx-web"></a>Vert.x Web</h2><p>As you may have no­tices in the pre­vi­ous posts, deal­ing with com­plex HTTP ap­pli­ca­tion using only Vert.x Core would be kind of cum­ber­some. That’s the main rea­son be­hind <a href="/docs/vertx-web/java/">Vert.x Web</a>. It makes the de­vel­op­ment of Vert.x base web ap­pli­ca­tions re­ally easy, with­out chang­ing the phi­los­o­phy.</p><p>To use Vert.x Web, you need to up­date the <code>pom.xml</code> file to add the fol­low­ing de­pen­dency:</p><pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><p>That’s the only thing you need to use Vert.x Web. Sweet, no ?</p><p>Let’s now use it. Re­mem­ber, in the pre­vi­ous post, when we re­quested http://lo­cal­host:8080, we reply a nice <em>Hello World</em> mes­sage. Let’s do the same with Vert.x Web.  Open the <code>io.vertx.blog.first.MyFirstVerticle</code> class and change the <code>start</code> method to be:</p><pre><code class="hljs language-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Future&lt;Void&gt; fut)</span> </span>{
 <span class="hljs-comment">// Create a router object.</span>
 Router router = Router.router(vertx);

 <span class="hljs-comment">// Bind &quot;/&quot; to our hello message - so we are still compatible.</span>
 router.route(<span class="hljs-string">&quot;/&quot;</span>).handler(routingContext -&gt; {
   HttpServerResponse response = routingContext.response();
   response
       .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;text/html&quot;</span>)
       .end(<span class="hljs-string">&quot;&lt;h1&gt;Hello from my first Vert.x 3 application&lt;/h1&gt;&quot;</span>);
 });

 <span class="hljs-comment">// Create the HTTP server and pass the &quot;accept&quot; method to the request handler.</span>
 vertx
     .createHttpServer()
     .requestHandler(router::accept)
     .listen(
         <span class="hljs-comment">// Retrieve the port from the configuration,</span>
         <span class="hljs-comment">// default to 8080.</span>
         config().getInteger(<span class="hljs-string">&quot;http.port&quot;</span>, <span class="hljs-number">8080</span>),
         result -&gt; {
           <span class="hljs-keyword">if</span> (result.succeeded()) {
             fut.complete();
           } <span class="hljs-keyword">else</span> {
             fut.fail(result.cause());
           }
         }
     );
}
</code></pre><p>You may be sur­prise by the length of this snip­pet (in com­par­i­son to the pre­vi­ous code). But as we are going to see, it will make our app on steroids, just be pa­tient.</p><p>As you can see, we start by cre­at­ing a <code>Router</code> ob­ject. The router is the cor­ner­stone of Vert.x Web. This ob­ject is re­spon­si­ble for dis­patch­ing the HTTP re­quests to the right <em>han­dler</em>. Two other con­cepts are very im­por­tant in Vert.x Web:</p><ul><li>Routes - which let you de­fine how re­quest are dis­patched</li><li>Han­dlers - which are the ac­tual ac­tion pro­cess­ing the re­quests and writ­ing the re­sult. Han­dlers can be chained.</li></ul><p>If you un­der­stand these 3 con­cepts, you have un­der­stood every­thing in Vert.x Web.</p><p>Let’s focus on this code first:</p><pre><code class="hljs language-java">router.route(<span class="hljs-string">&quot;/&quot;</span>).handler(routingContext -&gt; {
  HttpServerResponse response = routingContext.response();
  response
      .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;text/html&quot;</span>)
      .end(<span class="hljs-string">&quot;&lt;h1&gt;Hello from my first Vert.x 3 application&lt;/h1&gt;&quot;</span>);
});
</code></pre><p>It <em>routes</em> re­quests ar­riv­ing on ”/” to the given <em>han­dler</em>. Han­dlers re­ceive a <code>RoutingContext</code> ob­ject. This han­dler is quite sim­i­lar to the code we had be­fore, and it’s quite nor­mal as it ma­nip­u­lates the same type of ob­ject: <code>HttpServerResponse</code>.</p><p>Let’s now have a look to the rest of the code:</p><pre><code class="hljs language-java">vertx
    .createHttpServer()
    .requestHandler(router::accept)
    .listen(
        <span class="hljs-comment">// Retrieve the port from the configuration,</span>
        <span class="hljs-comment">// default to 8080.</span>
        config().getInteger(<span class="hljs-string">&quot;http.port&quot;</span>, <span class="hljs-number">8080</span>),
        result -&gt; {
          <span class="hljs-keyword">if</span> (result.succeeded()) {
            fut.complete();
          } <span class="hljs-keyword">else</span> {
            fut.fail(result.cause());
          }
        }
    );
}
</code></pre><p>It’s ba­si­cally the same code as be­fore, ex­cept that we change the re­quest han­dler. We pass <code>router::accept</code> to the han­dler. You may not be fa­mil­iar with this no­ta­tion. It’s a ref­er­ence to a method (here the method <code>accept</code> from the <code>router</code> ob­ject). In other worlds, it in­structs vert.x to call the <code>accept</code> method of the <code>router</code> when it re­ceives a re­quest.</p><p>Let’s try to see if this work:</p><pre><code class="hljs language-bash">mvn clean package
java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar
</code></pre><p>By open­ing <code>http://localhost:8080</code> in your browser you should see the <em>Hello</em> mes­sage. As we didn’t change the be­hav­ior of the ap­pli­ca­tion, our tests are still valid.</p><h2 id="exposing-static-resources"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#exposing-static-resources"></a>Exposing static resources</h2><p>Ok, so we have a first ap­pli­ca­tion using vert.x web. Let’s see some of the ben­e­fits. Let’s start with serv­ing sta­tic re­sources, such as an <code>index.html</code> page. Be­fore we go fur­ther, I should start with a dis­claimer: “the HTML page we are going to see here is ugly like hell : I’m not a UI guy”. I should also add that there are prob­a­bly plenty of bet­ter ways to im­ple­ment this and a myr­iad of frame­works I should try, but that’s not the point. I tried to keep things sim­ple and just re­ly­ing on JQuery and Twit­ter Boot­strap, so if you know a bit of JavaScript you can un­der­stand and edit the page.</p><p>Let’s cre­ate the HTML page that will be the entry point of our ap­pli­ca­tion. Cre­ate an <code>index.html</code> page in <code>src/main/resources/assets</code> with the con­tent from <a href="https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/resources/assets/index.html">here</a>. As it’s just a HTML page with a bit of JavaScript, we won’t de­tail the file here. If you have ques­tions, just post com­ments.</p><p>Ba­si­cally, the page is a sim­ple <em>CRUD</em> UI to man­age my col­lec­tion of <em>not-​yet-finished</em> bot­tles of Whisky. It was made in a generic way, so you can trans­pose it to your own col­lec­tion. The list of prod­uct is dis­played in the main table. You can cre­ate a new prod­uct, edit one or delete one. These ac­tions are re­ly­ing on a REST API (that we are going to im­ple­ment) through AJAX calls. That’s all.</p><p>Once this page is cre­ated, edit the <code>io.vertx.blog.first.MyFirstVerticle</code> class and change the <code>start</code> method to be:</p><pre><code class="hljs language-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Future&lt;Void&gt; fut)</span> </span>{
 Router router = Router.router(vertx);
 router.route(<span class="hljs-string">&quot;/&quot;</span>).handler(routingContext -&gt; {
   HttpServerResponse response = routingContext.response();
   response
       .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;text/html&quot;</span>)
       .end(<span class="hljs-string">&quot;&lt;h1&gt;Hello from my first Vert.x 3 application&lt;/h1&gt;&quot;</span>);
 });

 <span class="hljs-comment">// Serve static resources from the /assets directory</span>
 router.route(<span class="hljs-string">&quot;/assets/*&quot;</span>).handler(StaticHandler.create(<span class="hljs-string">&quot;assets&quot;</span>));

 vertx
     .createHttpServer()
     .requestHandler(router::accept)
     .listen(
         <span class="hljs-comment">// Retrieve the port from the configuration,</span>
         <span class="hljs-comment">// default to 8080.</span>
         config().getInteger(<span class="hljs-string">&quot;http.port&quot;</span>, <span class="hljs-number">8080</span>),
         result -&gt; {
           <span class="hljs-keyword">if</span> (result.succeeded()) {
             fut.complete();
           } <span class="hljs-keyword">else</span> {
             fut.fail(result.cause());
           }
         }
     );
}
</code></pre><p>The only dif­fer­ence with the pre­vi­ous code is the <code>router.route(&quot;/assets/*&quot;).handler(StaticHandler.create(&quot;assets&quot;));</code> line. So, what does this line mean? It’s ac­tu­ally quite sim­ple. It <em>routes</em> re­quests on “/as­sets/*” to re­sources stored in the “as­sets” di­rec­tory. So our <code>index.html</code> page is going to be served using <code>http://localhost:8080/assets/index.html</code>.</p><p>Be­fore test­ing this, let’s take a few sec­onds on the han­dler cre­ation. All pro­cess­ing ac­tions in Vert.x web are im­ple­mented as <em>han­dler</em>. To cre­ate a han­dler you al­ways call the <code>create</code> method.</p><p>So, I’m sure you are im­pa­tient to see our beau­ti­ful HTML page. Let’s build and run the ap­pli­ca­tion:</p><pre><code class="hljs language-bash">mvn clean package
java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar
</code></pre><p>Now, open your browser to <code>http://localhost:8080/assets/index.html</code>. Here it is… Ugly right? I told you.</p><p>As you may no­tice too… the table is empty, this is be­cause we didn’t im­ple­ment the REST API yet. Let’s do that now.</p><h2 id="rest-api-with-vertx-web"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#rest-api-with-vertx-web"></a>REST API with Vert.x Web</h2><p>Vert.x Web makes the im­ple­men­ta­tion of REST API re­ally easy, as it ba­si­cally <em>routes</em> your URL to the right han­dler. The API is very sim­ple, and will be struc­tured as fol­lows:</p><ul><li><code>GET /api/whiskies</code> =&gt; get all bot­tles (<code>getAll</code>)</li><li><code>GET /api/whiskies/:id</code> =&gt; get the bot­tle with the cor­re­spond­ing id (<code>getOne</code>)</li><li><code>POST /api/whiskies</code> =&gt; add a new bot­tle (<code>addOne</code>)</li><li><code>PUT /api/whiskies/:id</code> =&gt; up­date a bot­tle (<code>updateOne</code>)</li><li><code>DELETE /api/whiskies/id</code> =&gt; delete a bot­tle (<code>deleteOne</code>)</li></ul><h3 id="we-need-some-data"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#we-need-some-data"></a>We need some data…</h3><p>But be­fore going fur­ther, let’s cre­ate our <em>data</em> ob­ject. Cre­ate the <code>src/main/java/io/vertx/blog/first/Whisky.java</code> with the fol­low­ing con­tent:</p><pre><code class="hljs language-java"><span class="hljs-keyword">package</span> io.vertx.blog.first;

<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Whisky</span> </span>{

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> AtomicInteger COUNTER = <span class="hljs-keyword">new</span> AtomicInteger();

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> id;

  <span class="hljs-keyword">private</span> String name;

  <span class="hljs-keyword">private</span> String origin;

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Whisky</span><span class="hljs-params">(String name, String origin)</span> </span>{
    <span class="hljs-keyword">this</span>.id = COUNTER.getAndIncrement();
    <span class="hljs-keyword">this</span>.name = name;
    <span class="hljs-keyword">this</span>.origin = origin;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Whisky</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.id = COUNTER.getAndIncrement();
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> name;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getOrigin</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> origin;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> id;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{
    <span class="hljs-keyword">this</span>.name = name;
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setOrigin</span><span class="hljs-params">(String origin)</span> </span>{
    <span class="hljs-keyword">this</span>.origin = origin;
  }
}
</code></pre><p>It’s a very sim­ple <em>bean</em> class (so with get­ters and set­ters). We choose this for­mat be­cause Vert.x is re­ly­ing on <a href="http://wiki.fasterxml.com/JacksonHome">Jack­son</a> to han­dle the JSON for­mat. Jack­son au­to­mates the se­ri­al­iza­tion and de­se­ri­al­iza­tion of <em>bean</em> classes, mak­ing our code much sim­pler.</p><p>Now, let’s cre­ate a cou­ple of bot­tles. In the <code>MyFirstVerticle</code> class, add the fol­low­ing code:</p><pre><code class="hljs language-java"><span class="hljs-comment">// Store our product</span>
<span class="hljs-keyword">private</span> Map&lt;Integer, Whisky&gt; products = <span class="hljs-keyword">new</span> LinkedHashMap&lt;&gt;();
<span class="hljs-comment">// Create some product</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createSomeData</span><span class="hljs-params">()</span> </span>{
  Whisky bowmore = <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Bowmore 15 Years Laimrig&quot;</span>, <span class="hljs-string">&quot;Scotland, Islay&quot;</span>);
  products.put(bowmore.getId(), bowmore);
  Whisky talisker = <span class="hljs-keyword">new</span> Whisky(<span class="hljs-string">&quot;Talisker 57° North&quot;</span>, <span class="hljs-string">&quot;Scotland, Island&quot;</span>);
  products.put(talisker.getId(), talisker);
}
</code></pre><p>Then, in the <code>start</code> method, call the <code>createSomeData</code> method:</p><pre><code class="hljs language-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Future&lt;Void&gt; fut)</span> </span>{

  createSomeData();

  <span class="hljs-comment">// Create a router object.</span>
  Router router = Router.router(vertx);

  <span class="hljs-comment">// Rest of the method</span>
}
</code></pre><p>As you have no­ticed, we don’t re­ally have a <em>back­end</em> here, it’s just a (in-​memory) map. Adding a back­end will be cov­ered by an­other post.</p><h3 id="get-our-products"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#get-our-products"></a>Get our products</h3><p>Enough dec­o­ra­tion, let’s im­ple­ment the REST API. We are going to start with <code>GET /api/whiskies</code>. It re­turns the list of bot­tles in a JSON Array.</p><p>In the <code>start</code> method, add this line just below the sta­tic han­dler line:</p><pre><code class="hljs language-java">router.get(<span class="hljs-string">&quot;/api/whiskies&quot;</span>).handler(<span class="hljs-keyword">this</span>::getAll);
</code></pre><p>This line in­structs the <code>router</code> to han­dle the <code>GET</code> re­quests on “/api/whiskies” by call­ing the <code>getAll</code> method. We could have in­lined the han­dler code, but for clar­ity rea­sons let’s cre­ate an­other  method:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getAll</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  routingContext.response()
      .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
      .end(Json.encodePrettily(products.values()));
}
</code></pre><p>As every <em>han­dler</em> our method re­ceives a <code>RoutingContext</code>. It pop­u­lates the <code>response</code> by set­ting the <code>content-type</code> and the ac­tual con­tent. Be­cause our con­tent may con­tain <em>weird</em> char­ac­ters, we force the charset to UTF-8. To cre­ate the ac­tual con­tent, no need to com­pute the JSON string our­self. Vert.x lets us use the <code>Json</code> API. So <code>Json.encodePrettily(products.values())</code> com­putes the JSON string rep­re­sent­ing the set of bot­tles.</p><p>We could have used <code>Json.encodePrettily(products)</code>, but to make the JavaScript code sim­pler, we just re­turn the set of bot­tles and not an ob­ject con­tain­ing <code>ID =&gt; Bottle</code> en­tries.</p><p>With this in place, we should be able to re­trieve the set of bot­tle from our HTML page. Let’s try it:</p><pre><code class="hljs language-bash">mvn clean package
java -jar target/my-first-app-1.0-SNAPSHOT-fat.jar
</code></pre><p>Then open the HTML page in your browser (<code>http://localhost:8080/assets/index.html</code>), and should should see:</p><p><img src="/images/blog/intro-series/post-3-My_Whisky_Collection.png"/></p><p>I’m sure you are cu­ri­ous, and want to ac­tu­ally see what is re­turned by our REST API. Let’s open a browser to <code>http://localhost:8080/api/whiskies</code>. You should get:</p><pre><code class="hljs language-json">[ {
  <span class="hljs-attr">&quot;id&quot;</span> : <span class="hljs-number">0</span>,
  <span class="hljs-attr">&quot;name&quot;</span> : <span class="hljs-string">&quot;Bowmore 15 Years Laimrig&quot;</span>,
  <span class="hljs-attr">&quot;origin&quot;</span> : <span class="hljs-string">&quot;Scotland, Islay&quot;</span>
}, {
  <span class="hljs-attr">&quot;id&quot;</span> : <span class="hljs-number">1</span>,
  <span class="hljs-attr">&quot;name&quot;</span> : <span class="hljs-string">&quot;Talisker 57° North&quot;</span>,
  <span class="hljs-attr">&quot;origin&quot;</span> : <span class="hljs-string">&quot;Scotland, Island&quot;</span>
} ]
</code></pre><h2 id="create-a-product"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#create-a-product"></a>Create a product</h2><p>Now we can re­trieve the set of bot­tles, let’s cre­ate a new one. Un­like the pre­vi­ous REST API end­point, this one need to read the re­quest’s body. For per­for­mance rea­son, it should be ex­plic­itly en­abled. Don’t be scared… it’s just a han­dler.</p><p>In the <code>start</code> method, add these lines just below the line end­ing by <code>getAll</code>:</p><pre><code class="hljs language-java">router.route(<span class="hljs-string">&quot;/api/whiskies*&quot;</span>).handler(BodyHandler.create());
router.post(<span class="hljs-string">&quot;/api/whiskies&quot;</span>).handler(<span class="hljs-keyword">this</span>::addOne);
</code></pre><p>The first line en­ables the read­ing of the re­quest body for all routes under “/api/whiskies”. We could have en­abled it glob­ally with <code>router.route().handler(BodyHandler.create())</code>.</p><p>The sec­ond line maps <code>POST</code> re­quests on <code>/api/whiskies</code> to the <code>addOne</code> method. Let’s cre­ate this method:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addOne</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  <span class="hljs-keyword">final</span> Whisky whisky = Json.decodeValue(routingContext.getBodyAsString(),
      Whisky.class);
  products.put(whisky.getId(), whisky);
  routingContext.response()
      .setStatusCode(<span class="hljs-number">201</span>)
      .putHeader(<span class="hljs-string">&quot;content-type&quot;</span>, <span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span>)
      .end(Json.encodePrettily(whisky));
}
</code></pre><p>The method starts by re­triev­ing the <code>Whisky</code> ob­ject from the re­quest body. It just reads the body into a String and passes it to the <code>Json.decodeValue</code> method. Once cre­ated it adds it to the <em>back­end</em> map and re­turns the cre­ated bot­tle as JSON.</p><p>Let’s try this. Re­build and restart the ap­pli­ca­tion with:</p><pre><code class="hljs language-mipsasm">mvn clean package
<span class="hljs-keyword">java </span>-<span class="hljs-keyword">jar </span>target/my-first-app<span class="hljs-number">-1</span>.<span class="hljs-number">0</span>-SNAPSHOT-fat.<span class="hljs-keyword">jar
</span></code></pre><p>Then, re­fresh the HTML page and click on the <code>Add a new bottle</code> but­ton. Enter the data such as: “Jame­son” as name and “Ire­land” as ori­gin (purists would have no­ticed that this is ac­tu­ally a Whiskey and not a Whisky). The bot­tle should be added to the table.</p><div class="alert info"><div class="alert-title">Status 201?</div><p>As you can see, we have set the re­sponse sta­tus to <code>201</code>. It means <code>CREATED</code>, and is the gen­er­ally used in REST API that cre­ate an en­tity. By de­fault vert.x web is set­ting the sta­tus to <code>200</code> mean­ing <code>OK</code>.</p></div><h3 id="finishing-a-bottle"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#finishing-a-bottle"></a>Finishing a bottle</h3><p>Well, bot­tles do not last for­ever, so we should be able to delete a bot­tle. In the <code>start</code> method, add this line:</p><pre><code class="hljs language-java">router.delete(<span class="hljs-string">&quot;/api/whiskies/:id&quot;</span>).handler(<span class="hljs-keyword">this</span>::deleteOne);
</code></pre><p>In the URL, we de­fine a <em>path pa­ra­me­ter</em> <code>:id</code>. So, when han­dling a match­ing re­quest, Vert.x ex­tracts the path seg­ment cor­re­spond­ing to the pa­ra­me­ter and let us ac­cess it in the han­dler method. For in­stance, <code>/api/whiskies/0</code> maps <code>id</code> to <code>0</code>.</p><p>Let’s see how the pa­ra­me­ter can be used in the han­dler method. Cre­ate the <code>deleteOne</code> method as fol­lows:</p><pre><code class="hljs language-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteOne</span><span class="hljs-params">(RoutingContext routingContext)</span> </span>{
  String id = routingContext.request().getParam(<span class="hljs-string">&quot;id&quot;</span>);
  <span class="hljs-keyword">if</span> (id == <span class="hljs-keyword">null</span>) {
    routingContext.response().setStatusCode(<span class="hljs-number">400</span>).end();
  } <span class="hljs-keyword">else</span> {
    Integer idAsInteger = Integer.valueOf(id);
    products.remove(idAsInteger);
  }
  routingContext.response().setStatusCode(<span class="hljs-number">204</span>).end();
}
</code></pre><p>The <em>path pa­ra­me­ter</em> is re­trieved using <code>routingContext.request().getParam(&quot;id&quot;)</code>.  It checks whether it’s <code>null</code> (not set), and in this case re­turns a <code>Bad Request</code> re­sponse (sta­tus code 400). Oth­er­wise, it re­moves it from the <em>back­end</em> map.</p><div class="alert info"><div class="alert-title">Status 204?</div><p>As you can see, we have set the re­sponse sta­tus to <code>204 - NO CONTENT</code>. Re­sponse to the HTTP Verb <code>delete</code> have gen­er­ally no con­tent.</p></div><h3 id="the-other-methods"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#the-other-methods"></a>The other methods</h3><p>We won’t de­tail <code>getOne</code> and <code>updateOne</code> as the im­ple­men­ta­tions are straight­for­ward and very sim­i­lar. Their im­ple­men­ta­tions are avail­able on <a href="https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/java/io/vertx/blog/first/MyFirstVerticle.java">GitHub</a>.</p><h3 id="cheers"><a aria-hidden="true" tabindex="-1" class="heading-anchor" href="#cheers"></a>Cheers!</h3><p>It’s time to con­clude this post. We have seen how Vert.x Web lets you im­ple­ment a REST API eas­ily and how it can serve sta­tic re­sources. A bit more fancy than be­fore, but still pretty easy.</p><p><a href="/blog/unit-and-integration-tests/">In the next post</a>, we are going to im­prove our tests to cover the REST API.</p><p>Say Tuned <!-- -->&amp;<!-- --> Happy Cod­ing !</p></span></div><div class="blog-post-sidebar"><div class="blog-post-author"><img class="blog-post-author-avatar" src="https://github.com/cescoffier.png?size=160"/><div class="blog-post-author-name">by <a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></div></div><div class="blog-post-sidebar-date">Posted on <!-- -->27 July 2015</div>in <a class="blog-post-sidebar-category" href="/blog/category/guides/">guides</a><div class="blog-post-sidebar-reading-time"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <!-- -->12 min read</div><div class="blog-post-sidebar-share-icons"><a href="https://twitter.com/intent/tweet?text=Some%20Rest%20with%20Vert.x&amp;url=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Fsome-rest-with-vert-x&amp;via=vertx_project" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Fsome-rest-with-vert-x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fvertx-china.github.io%2Fblog%2Fsome-rest-with-vert-x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><title>Facebook</title><path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"></path></svg></a></div></div></div><div class="blog-post-next-prev"><div class="blog-post-next-prev-entry"><h5>Next post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">3 August 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/unit-and-integration-tests/">Unit and Integration Tests</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API.</p><span class="read-more-link"><a href="/blog/unit-and-integration-tests/"> 阅读更多</a></span></div></div><div class="blog-post-next-prev-entry"><h5>Previous post</h5><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">20 July 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/vert-x-application-configuration/">Vert.x Application Configuration</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">In our previous post, we developed a very simple Vert.x 3 application, and saw how this application can be tested, packaged and executed. That was nice, wasn’t it?</p><span class="read-more-link"><a href="/blog/vert-x-application-configuration/"> 阅读更多</a></span></div></div></div><div class="blog-post-related"><h5>Related posts</h5><div class="blog-post-related-posts"><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">3 August 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/unit-and-integration-tests/">Unit and Integration Tests</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API.</p><span class="read-more-link"><a href="/blog/unit-and-integration-tests/"> 阅读更多</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">14 July 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/my-first-vert-x-3-application/">My first Vert.x 3 Application</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Let&#x27;s say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”</p><span class="read-more-link"><a href="/blog/my-first-vert-x-3-application/"> 阅读更多</a></span></div><div class="blog-entry"><div class="blog-entry-meta"><div class="blog-entry-meta-left"><span class="blog-entry-date">19 October 2015</span>​<a class="blog-entry-category" href="/blog/category/guides/">guides</a></div><div class="blog-entry-meta-right"></div></div><h3><a href="/blog/using-the-asynchronous-sql-client/">Using the asynchronous SQL client</a></h3><span class="blog-entry-authors"><ul><li class=""><img src="https://github.com/cescoffier.png?size=50"/><a href="https://github.com/cescoffier" target="_blank" rel="noopener noreferrer">Clement Escoffier</a></li></ul></span><p class="blog-entry-summary">Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application.</p><span class="read-more-link"><a href="/blog/using-the-asynchronous-sql-client/"> 阅读更多</a></span></div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">文档</a></li><li><a href="/download/">下载</a></li><li><a href="/blog/">博客</a></li><li><a href="/community/">社区</a></li><li><a href="/translation/">翻译团队</a></li><li><a href="https://github.com/eclipse-vertx/vert.x">GitHub</a></li><li><a href="https://github.com/vertx-china/vertx-web-site">翻译GitHub</a></li></ul></div><div class="footer-nav-list"><h5>资源</h5><ul class=""><li><a href="/faq/">答疑</a></li><li><a href="/channels/">Channels</a></li><li><a href="https://how-to.vertx.io/">How-To’s</a></li><li><a href="https://start.vertx.io/">App Generator</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse Foundation</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">Privacy Policy</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">Terms of Use</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">Copyright Agent</a></li><li><a href="https://www.eclipse.org/legal/">Legal Resources</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x is open source and dual-licensed under the <a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a> and the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>. <br class="footer-copyright-break"/>Website design by <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a>.</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x","readingTime":{"text":"12 min read","minutes":11.86,"time":711599.9999999999,"words":2372},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This post is part of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"In\\xADtro\\xADduc\\xADtion to Vert.x\"), \" se\\xADries. So, let\\u2019s have a quick look about the con\\xADtent of the pre\\xADvi\\xADous posts. In \", mdx(Link, {\n    href: \"/blog/my-first-vert-x-3-application\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"the first post\")), \", we de\\xADvel\\xADoped a very sim\\xADple Vert.x 3 ap\\xADpli\\xADca\\xADtion, and saw how this ap\\xADpli\\xADca\\xADtion can be tested, pack\\xADaged and ex\\xADe\\xADcuted. In \", mdx(Link, {\n    href: \"/blog/vert-x-application-configuration\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"the last post\")), \", we saw how this ap\\xADpli\\xADca\\xADtion be\\xADcame con\\xADfig\\xADurable and how we can use a ran\\xADdom port in test.\"), mdx(\"p\", null, \"Well, noth\\xADing fancy\\u2026 Let\\u2019s go a bit fur\\xADther this time and de\\xADvelop a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"CRUD-\\u200Bish\"), \" ap\\xADpli\\xADca\\xADtion. So an ap\\xADpli\\xADca\\xADtion ex\\xADpos\\xADing an HTML page in\\xADter\\xADact\\xADing with the back\\xADend using a REST API. The level of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"REST\\xADfull\\xADness\"), \" of the API is not the topic of this post, I let you de\\xADcide as it\\u2019s a very slip\\xADpery topic.\"), mdx(\"p\", null, \"So, in other words we are going to see:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vert.x Web - a frame\\xADwork that let you cre\\xADate Web ap\\xADpli\\xADca\\xADtions eas\\xADily using Vert.x\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to ex\\xADpose sta\\xADtic re\\xADsources\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"How to de\\xADvelop a REST API\")), mdx(\"p\", null, \"The code de\\xADvel\\xADoped in this post is avail\\xADable on the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/tree/post-3\"\n  }), \"post-3\"), \" branch of this \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app\"\n  }), \"Github\"), \" project. We are going to start from the  \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/tree/post-2\"\n  }), \"post-2\"), \" code\\xADbase.\"), mdx(\"p\", null, \"So, let\\u2019s start.\"), mdx(\"h2\", {\n    \"id\": \"vertx-web\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-web\"\n  })), \"Vert.x Web\"), mdx(\"p\", null, \"As you may have no\\xADtices in the pre\\xADvi\\xADous posts, deal\\xADing with com\\xADplex HTTP ap\\xADpli\\xADca\\xADtion using only Vert.x Core would be kind of cum\\xADber\\xADsome. That\\u2019s the main rea\\xADson be\\xADhind \", mdx(Link, {\n    href: \"/docs/vertx-web/java/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"Vert.x Web\")), \". It makes the de\\xADvel\\xADop\\xADment of Vert.x base web ap\\xADpli\\xADca\\xADtions re\\xADally easy, with\\xADout chang\\xADing the phi\\xADlos\\xADo\\xADphy.\"), mdx(\"p\", null, \"To use Vert.x Web, you need to up\\xADdate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" file to add the fol\\xADlow\\xADing de\\xADpen\\xADdency:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-xml\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"io.vertx\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"groupId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"vertx-web\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"artifactId\"), \"\u003e\"), \"\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"3.0.0\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"version\"), \"\u003e\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-tag\"\n  }), \"\u003c/\", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-name\"\n  }), \"dependency\"), \"\u003e\"), \"\\n\")), mdx(\"p\", null, \"That\\u2019s the only thing you need to use Vert.x Web. Sweet, no ?\"), mdx(\"p\", null, \"Let\\u2019s now use it. Re\\xADmem\\xADber, in the pre\\xADvi\\xADous post, when we re\\xADquested http://lo\\xADcal\\xADhost:8080, we reply a nice \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Hello World\"), \" mes\\xADsage. Let\\u2019s do the same with Vert.x Web.  Open the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.blog.first.MyFirstVerticle\"), \" class and change the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method to be:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Create a router object.\"), \"\\n Router router = Router.router(vertx);\\n\\n \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Bind \\\"/\\\" to our hello message - so we are still compatible.\"), \"\\n router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/\\\"\"), \").handler(routingContext -\u003e {\\n   HttpServerResponse response = routingContext.response();\\n   response\\n       .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/html\\\"\"), \")\\n       .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\u003ch1\u003eHello from my first Vert.x 3 application\u003c/h1\u003e\\\"\"), \");\\n });\\n\\n \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Create the HTTP server and pass the \\\"accept\\\" method to the request handler.\"), \"\\n vertx\\n     .createHttpServer()\\n     .requestHandler(router::accept)\\n     .listen(\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Retrieve the port from the configuration,\"), \"\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// default to 8080.\"), \"\\n         config().getInteger(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http.port\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \"),\\n         result -\u003e {\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (result.succeeded()) {\\n             fut.complete();\\n           } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n             fut.fail(result.cause());\\n           }\\n         }\\n     );\\n}\\n\")), mdx(\"p\", null, \"You may be sur\\xADprise by the length of this snip\\xADpet (in com\\xADpar\\xADi\\xADson to the pre\\xADvi\\xADous code). But as we are going to see, it will make our app on steroids, just be pa\\xADtient.\"), mdx(\"p\", null, \"As you can see, we start by cre\\xADat\\xADing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Router\"), \" ob\\xADject. The router is the cor\\xADner\\xADstone of Vert.x Web. This ob\\xADject is re\\xADspon\\xADsi\\xADble for dis\\xADpatch\\xADing the HTTP re\\xADquests to the right \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"han\\xADdler\"), \". Two other con\\xADcepts are very im\\xADpor\\xADtant in Vert.x Web:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Routes - which let you de\\xADfine how re\\xADquest are dis\\xADpatched\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Han\\xADdlers - which are the ac\\xADtual ac\\xADtion pro\\xADcess\\xADing the re\\xADquests and writ\\xADing the re\\xADsult. Han\\xADdlers can be chained.\")), mdx(\"p\", null, \"If you un\\xADder\\xADstand these 3 con\\xADcepts, you have un\\xADder\\xADstood every\\xADthing in Vert.x Web.\"), mdx(\"p\", null, \"Let\\u2019s focus on this code first:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/\\\"\"), \").handler(routingContext -\u003e {\\n  HttpServerResponse response = routingContext.response();\\n  response\\n      .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/html\\\"\"), \")\\n      .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\u003ch1\u003eHello from my first Vert.x 3 application\u003c/h1\u003e\\\"\"), \");\\n});\\n\")), mdx(\"p\", null, \"It \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"routes\"), \" re\\xADquests ar\\xADriv\\xADing on \\u201D/\\u201D to the given \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"han\\xADdler\"), \". Han\\xADdlers re\\xADceive a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RoutingContext\"), \" ob\\xADject. This han\\xADdler is quite sim\\xADi\\xADlar to the code we had be\\xADfore, and it\\u2019s quite nor\\xADmal as it ma\\xADnip\\xADu\\xADlates the same type of ob\\xADject: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HttpServerResponse\"), \".\"), mdx(\"p\", null, \"Let\\u2019s now have a look to the rest of the code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"vertx\\n    .createHttpServer()\\n    .requestHandler(router::accept)\\n    .listen(\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Retrieve the port from the configuration,\"), \"\\n        \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// default to 8080.\"), \"\\n        config().getInteger(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http.port\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \"),\\n        result -\u003e {\\n          \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (result.succeeded()) {\\n            fut.complete();\\n          } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n            fut.fail(result.cause());\\n          }\\n        }\\n    );\\n}\\n\")), mdx(\"p\", null, \"It\\u2019s ba\\xADsi\\xADcally the same code as be\\xADfore, ex\\xADcept that we change the re\\xADquest han\\xADdler. We pass \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router::accept\"), \" to the han\\xADdler. You may not be fa\\xADmil\\xADiar with this no\\xADta\\xADtion. It\\u2019s a ref\\xADer\\xADence to a method (here the method \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"accept\"), \" from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router\"), \" ob\\xADject). In other worlds, it in\\xADstructs vert.x to call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"accept\"), \" method of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router\"), \" when it re\\xADceives a re\\xADquest.\"), mdx(\"p\", null, \"Let\\u2019s try to see if this work:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\\n\")), mdx(\"p\", null, \"By open\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080\"), \" in your browser you should see the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Hello\"), \" mes\\xADsage. As we didn\\u2019t change the be\\xADhav\\xADior of the ap\\xADpli\\xADca\\xADtion, our tests are still valid.\"), mdx(\"h2\", {\n    \"id\": \"exposing-static-resources\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#exposing-static-resources\"\n  })), \"Exposing static resources\"), mdx(\"p\", null, \"Ok, so we have a first ap\\xADpli\\xADca\\xADtion using vert.x web. Let\\u2019s see some of the ben\\xADe\\xADfits. Let\\u2019s start with serv\\xADing sta\\xADtic re\\xADsources, such as an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" page. Be\\xADfore we go fur\\xADther, I should start with a dis\\xADclaimer: \\u201Cthe HTML page we are going to see here is ugly like hell : I\\u2019m not a UI guy\\u201D. I should also add that there are prob\\xADa\\xADbly plenty of bet\\xADter ways to im\\xADple\\xADment this and a myr\\xADiad of frame\\xADworks I should try, but that\\u2019s not the point. I tried to keep things sim\\xADple and just re\\xADly\\xADing on JQuery and Twit\\xADter Boot\\xADstrap, so if you know a bit of JavaScript you can un\\xADder\\xADstand and edit the page.\"), mdx(\"p\", null, \"Let\\u2019s cre\\xADate the HTML page that will be the entry point of our ap\\xADpli\\xADca\\xADtion. Cre\\xADate an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" page in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/resources/assets\"), \" with the con\\xADtent from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/resources/assets/index.html\"\n  }), \"here\"), \". As it\\u2019s just a HTML page with a bit of JavaScript, we won\\u2019t de\\xADtail the file here. If you have ques\\xADtions, just post com\\xADments.\"), mdx(\"p\", null, \"Ba\\xADsi\\xADcally, the page is a sim\\xADple \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"CRUD\"), \" UI to man\\xADage my col\\xADlec\\xADtion of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not-\\u200Byet-finished\"), \" bot\\xADtles of Whisky. It was made in a generic way, so you can trans\\xADpose it to your own col\\xADlec\\xADtion. The list of prod\\xADuct is dis\\xADplayed in the main table. You can cre\\xADate a new prod\\xADuct, edit one or delete one. These ac\\xADtions are re\\xADly\\xADing on a REST API (that we are going to im\\xADple\\xADment) through AJAX calls. That\\u2019s all.\"), mdx(\"p\", null, \"Once this page is cre\\xADated, edit the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"io.vertx.blog.first.MyFirstVerticle\"), \" class and change the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method to be:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n Router router = Router.router(vertx);\\n router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/\\\"\"), \").handler(routingContext -\u003e {\\n   HttpServerResponse response = routingContext.response();\\n   response\\n       .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"text/html\\\"\"), \")\\n       .end(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"\u003ch1\u003eHello from my first Vert.x 3 application\u003c/h1\u003e\\\"\"), \");\\n });\\n\\n \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Serve static resources from the /assets directory\"), \"\\n router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/assets/*\\\"\"), \").handler(StaticHandler.create(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"assets\\\"\"), \"));\\n\\n vertx\\n     .createHttpServer()\\n     .requestHandler(router::accept)\\n     .listen(\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Retrieve the port from the configuration,\"), \"\\n         \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// default to 8080.\"), \"\\n         config().getInteger(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"http.port\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"8080\"), \"),\\n         result -\u003e {\\n           \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (result.succeeded()) {\\n             fut.complete();\\n           } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n             fut.fail(result.cause());\\n           }\\n         }\\n     );\\n}\\n\")), mdx(\"p\", null, \"The only dif\\xADfer\\xADence with the pre\\xADvi\\xADous code is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router.route(\\\"/assets/*\\\").handler(StaticHandler.create(\\\"assets\\\"));\"), \" line. So, what does this line mean? It\\u2019s ac\\xADtu\\xADally quite sim\\xADple. It \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"routes\"), \" re\\xADquests on \\u201C/as\\xADsets/*\\u201D to re\\xADsources stored in the \\u201Cas\\xADsets\\u201D di\\xADrec\\xADtory. So our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"index.html\"), \" page is going to be served using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080/assets/index.html\"), \".\"), mdx(\"p\", null, \"Be\\xADfore test\\xADing this, let\\u2019s take a few sec\\xADonds on the han\\xADdler cre\\xADation. All pro\\xADcess\\xADing ac\\xADtions in Vert.x web are im\\xADple\\xADmented as \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"han\\xADdler\"), \". To cre\\xADate a han\\xADdler you al\\xADways call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"create\"), \" method.\"), mdx(\"p\", null, \"So, I\\u2019m sure you are im\\xADpa\\xADtient to see our beau\\xADti\\xADful HTML page. Let\\u2019s build and run the ap\\xADpli\\xADca\\xADtion:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\\n\")), mdx(\"p\", null, \"Now, open your browser to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080/assets/index.html\"), \". Here it is\\u2026 Ugly right? I told you.\"), mdx(\"p\", null, \"As you may no\\xADtice too\\u2026 the table is empty, this is be\\xADcause we didn\\u2019t im\\xADple\\xADment the REST API yet. Let\\u2019s do that now.\"), mdx(\"h2\", {\n    \"id\": \"rest-api-with-vertx-web\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#rest-api-with-vertx-web\"\n  })), \"REST API with Vert.x Web\"), mdx(\"p\", null, \"Vert.x Web makes the im\\xADple\\xADmen\\xADta\\xADtion of REST API re\\xADally easy, as it ba\\xADsi\\xADcally \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"routes\"), \" your URL to the right han\\xADdler. The API is very sim\\xADple, and will be struc\\xADtured as fol\\xADlows:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"GET /api/whiskies\"), \" =\u003e get all bot\\xADtles (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"getAll\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"GET /api/whiskies/:id\"), \" =\u003e get the bot\\xADtle with the cor\\xADre\\xADspond\\xADing id (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"getOne\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"POST /api/whiskies\"), \" =\u003e add a new bot\\xADtle (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"addOne\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"PUT /api/whiskies/:id\"), \" =\u003e up\\xADdate a bot\\xADtle (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"updateOne\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"DELETE /api/whiskies/id\"), \" =\u003e delete a bot\\xADtle (\", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"deleteOne\"), \")\")), mdx(\"h3\", {\n    \"id\": \"we-need-some-data\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#we-need-some-data\"\n  })), \"We need some data\\u2026\"), mdx(\"p\", null, \"But be\\xADfore going fur\\xADther, let\\u2019s cre\\xADate our \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"data\"), \" ob\\xADject. Cre\\xADate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"src/main/java/io/vertx/blog/first/Whisky.java\"), \" with the fol\\xADlow\\xADing con\\xADtent:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"package\"), \" io.vertx.blog.first;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"import\"), \" java.util.concurrent.atomic.AtomicInteger;\\n\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-class\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"class\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Whisky\"), \" \"), \"{\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"static\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" AtomicInteger COUNTER = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" AtomicInteger();\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" id;\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" String name;\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" String origin;\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Whisky\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String name, String origin)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".id = COUNTER.getAndIncrement();\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".name = name;\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".origin = origin;\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"Whisky\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".id = COUNTER.getAndIncrement();\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" String \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getName\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" name;\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" String \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getOrigin\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" origin;\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"int\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getId\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"return\"), \" id;\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"setName\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String name)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".name = name;\\n  }\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"setOrigin\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(String origin)\"), \" \"), \"{\\n    \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \".origin = origin;\\n  }\\n}\\n\")), mdx(\"p\", null, \"It\\u2019s a very sim\\xADple \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"bean\"), \" class (so with get\\xADters and set\\xADters). We choose this for\\xADmat be\\xADcause Vert.x is re\\xADly\\xADing on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://wiki.fasterxml.com/JacksonHome\"\n  }), \"Jack\\xADson\"), \" to han\\xADdle the JSON for\\xADmat. Jack\\xADson au\\xADto\\xADmates the se\\xADri\\xADal\\xADiza\\xADtion and de\\xADse\\xADri\\xADal\\xADiza\\xADtion of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"bean\"), \" classes, mak\\xADing our code much sim\\xADpler.\"), mdx(\"p\", null, \"Now, let\\u2019s cre\\xADate a cou\\xADple of bot\\xADtles. In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MyFirstVerticle\"), \" class, add the fol\\xADlow\\xADing code:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Store our product\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" Map\u003cInteger, Whisky\u003e products = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" LinkedHashMap\u003c\u003e();\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Create some product\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"createSomeData\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"()\"), \" \"), \"{\\n  Whisky bowmore = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Bowmore 15 Years Laimrig\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Islay\\\"\"), \");\\n  products.put(bowmore.getId(), bowmore);\\n  Whisky talisker = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"new\"), \" Whisky(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Talisker 57\\xB0 North\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Island\\\"\"), \");\\n  products.put(talisker.getId(), talisker);\\n}\\n\")), mdx(\"p\", null, \"Then, in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method, call the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"createSomeData\"), \" method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-meta\"\n  }), \"@Override\"), \"\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"public\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"start\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(Future\u003cVoid\u003e fut)\"), \" \"), \"{\\n\\n  createSomeData();\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Create a router object.\"), \"\\n  Router router = Router.router(vertx);\\n\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \"// Rest of the method\"), \"\\n}\\n\")), mdx(\"p\", null, \"As you have no\\xADticed, we don\\u2019t re\\xADally have a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"back\\xADend\"), \" here, it\\u2019s just a (in-\\u200Bmemory) map. Adding a back\\xADend will be cov\\xADered by an\\xADother post.\"), mdx(\"h3\", {\n    \"id\": \"get-our-products\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#get-our-products\"\n  })), \"Get our products\"), mdx(\"p\", null, \"Enough dec\\xADo\\xADra\\xADtion, let\\u2019s im\\xADple\\xADment the REST API. We are going to start with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET /api/whiskies\"), \". It re\\xADturns the list of bot\\xADtles in a JSON Array.\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method, add this line just below the sta\\xADtic han\\xADdler line:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"router.get(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/whiskies\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::getAll);\\n\")), mdx(\"p\", null, \"This line in\\xADstructs the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router\"), \" to han\\xADdle the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"GET\"), \" re\\xADquests on \\u201C/api/whiskies\\u201D by call\\xADing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getAll\"), \" method. We could have in\\xADlined the han\\xADdler code, but for clar\\xADity rea\\xADsons let\\u2019s cre\\xADate an\\xADother  method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"getAll\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  routingContext.response()\\n      .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n      .end(Json.encodePrettily(products.values()));\\n}\\n\")), mdx(\"p\", null, \"As every \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"han\\xADdler\"), \" our method re\\xADceives a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RoutingContext\"), \". It pop\\xADu\\xADlates the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"response\"), \" by set\\xADting the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"content-type\"), \" and the ac\\xADtual con\\xADtent. Be\\xADcause our con\\xADtent may con\\xADtain \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"weird\"), \" char\\xADac\\xADters, we force the charset to UTF-8. To cre\\xADate the ac\\xADtual con\\xADtent, no need to com\\xADpute the JSON string our\\xADself. Vert.x lets us use the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Json\"), \" API. So \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Json.encodePrettily(products.values())\"), \" com\\xADputes the JSON string rep\\xADre\\xADsent\\xADing the set of bot\\xADtles.\"), mdx(\"p\", null, \"We could have used \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Json.encodePrettily(products)\"), \", but to make the JavaScript code sim\\xADpler, we just re\\xADturn the set of bot\\xADtles and not an ob\\xADject con\\xADtain\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ID =\u003e Bottle\"), \" en\\xADtries.\"), mdx(\"p\", null, \"With this in place, we should be able to re\\xADtrieve the set of bot\\xADtle from our HTML page. Let\\u2019s try it:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\\n\")), mdx(\"p\", null, \"Then open the HTML page in your browser (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080/assets/index.html\"), \"), and should should see:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/images/blog/intro-series/post-3-My_Whisky_Collection.png\",\n    \"alt\": null\n  }))), mdx(\"p\", null, \"I\\u2019m sure you are cu\\xADri\\xADous, and want to ac\\xADtu\\xADally see what is re\\xADturned by our REST API. Let\\u2019s open a browser to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://localhost:8080/api/whiskies\"), \". You should get:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-json\"\n  }), \"[ {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"id\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Bowmore 15 Years Laimrig\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"origin\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Islay\\\"\"), \"\\n}, {\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"id\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"1\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"name\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Talisker 57\\xB0 North\\\"\"), \",\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"\\\"origin\\\"\"), \" : \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Scotland, Island\\\"\"), \"\\n} ]\\n\")), mdx(\"h2\", {\n    \"id\": \"create-a-product\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#create-a-product\"\n  })), \"Create a product\"), mdx(\"p\", null, \"Now we can re\\xADtrieve the set of bot\\xADtles, let\\u2019s cre\\xADate a new one. Un\\xADlike the pre\\xADvi\\xADous REST API end\\xADpoint, this one need to read the re\\xADquest\\u2019s body. For per\\xADfor\\xADmance rea\\xADson, it should be ex\\xADplic\\xADitly en\\xADabled. Don\\u2019t be scared\\u2026 it\\u2019s just a han\\xADdler.\"), mdx(\"p\", null, \"In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method, add these lines just below the line end\\xADing by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getAll\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"router.route(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/whiskies*\\\"\"), \").handler(BodyHandler.create());\\nrouter.post(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/whiskies\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::addOne);\\n\")), mdx(\"p\", null, \"The first line en\\xADables the read\\xADing of the re\\xADquest body for all routes under \\u201C/api/whiskies\\u201D. We could have en\\xADabled it glob\\xADally with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"router.route().handler(BodyHandler.create())\"), \".\"), mdx(\"p\", null, \"The sec\\xADond line maps \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"POST\"), \" re\\xADquests on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/api/whiskies\"), \" to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"addOne\"), \" method. Let\\u2019s cre\\xADate this method:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"addOne\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"final\"), \" Whisky whisky = Json.decodeValue(routingContext.getBodyAsString(),\\n      Whisky.class);\\n  products.put(whisky.getId(), whisky);\\n  routingContext.response()\\n      .setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"201\"), \")\\n      .putHeader(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"content-type\\\"\"), \", \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"application/json; charset=utf-8\\\"\"), \")\\n      .end(Json.encodePrettily(whisky));\\n}\\n\")), mdx(\"p\", null, \"The method starts by re\\xADtriev\\xADing the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Whisky\"), \" ob\\xADject from the re\\xADquest body. It just reads the body into a String and passes it to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Json.decodeValue\"), \" method. Once cre\\xADated it adds it to the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"back\\xADend\"), \" map and re\\xADturns the cre\\xADated bot\\xADtle as JSON.\"), mdx(\"p\", null, \"Let\\u2019s try this. Re\\xADbuild and restart the ap\\xADpli\\xADca\\xADtion with:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-mipsasm\"\n  }), \"mvn clean package\\n\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"java \"), \"-\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"jar \"), \"target/my-first-app\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"-1\"), \".\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), \"-SNAPSHOT-fat.\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"jar\\n\"))), mdx(\"p\", null, \"Then, re\\xADfresh the HTML page and click on the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Add a new bottle\"), \" but\\xADton. Enter the data such as: \\u201CJame\\xADson\\u201D as name and \\u201CIre\\xADland\\u201D as ori\\xADgin (purists would have no\\xADticed that this is ac\\xADtu\\xADally a Whiskey and not a Whisky). The bot\\xADtle should be added to the table.\"), mdx(Alert, {\n    info: true,\n    title: \"Status 201?\",\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"As you can see, we have set the re\\xADsponse sta\\xADtus to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"201\"), \". It means \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CREATED\"), \", and is the gen\\xADer\\xADally used in REST API that cre\\xADate an en\\xADtity. By de\\xADfault vert.x web is set\\xADting the sta\\xADtus to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"200\"), \" mean\\xADing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OK\"), \".\")), mdx(\"h3\", {\n    \"id\": \"finishing-a-bottle\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finishing-a-bottle\"\n  })), \"Finishing a bottle\"), mdx(\"p\", null, \"Well, bot\\xADtles do not last for\\xADever, so we should be able to delete a bot\\xADtle. In the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"start\"), \" method, add this line:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), \"router.delete(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"/api/whiskies/:id\\\"\"), \").handler(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"this\"), \"::deleteOne);\\n\")), mdx(\"p\", null, \"In the URL, we de\\xADfine a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"path pa\\xADra\\xADme\\xADter\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \":id\"), \". So, when han\\xADdling a match\\xADing re\\xADquest, Vert.x ex\\xADtracts the path seg\\xADment cor\\xADre\\xADspond\\xADing to the pa\\xADra\\xADme\\xADter and let us ac\\xADcess it in the han\\xADdler method. For in\\xADstance, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/api/whiskies/0\"), \" maps \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"id\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0\"), \".\"), mdx(\"p\", null, \"Let\\u2019s see how the pa\\xADra\\xADme\\xADter can be used in the han\\xADdler method. Cre\\xADate the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"deleteOne\"), \" method as fol\\xADlows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-java\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-function\"\n  }), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"private\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"void\"), \" \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-title\"\n  }), \"deleteOne\"), mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"hljs-params\"\n  }), \"(RoutingContext routingContext)\"), \" \"), \"{\\n  String id = routingContext.request().getParam(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"id\\\"\"), \");\\n  \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"if\"), \" (id == \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"null\"), \") {\\n    routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"400\"), \").end();\\n  } \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-keyword\"\n  }), \"else\"), \" {\\n    Integer idAsInteger = Integer.valueOf(id);\\n    products.remove(idAsInteger);\\n  }\\n  routingContext.response().setStatusCode(\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"204\"), \").end();\\n}\\n\")), mdx(\"p\", null, \"The \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"path pa\\xADra\\xADme\\xADter\"), \" is re\\xADtrieved using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"routingContext.request().getParam(\\\"id\\\")\"), \".  It checks whether it\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"null\"), \" (not set), and in this case re\\xADturns a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Bad Request\"), \" re\\xADsponse (sta\\xADtus code 400). Oth\\xADer\\xADwise, it re\\xADmoves it from the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"back\\xADend\"), \" map.\"), mdx(Alert, {\n    info: true,\n    title: \"Status 204?\",\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"As you can see, we have set the re\\xADsponse sta\\xADtus to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"204 - NO CONTENT\"), \". Re\\xADsponse to the HTTP Verb \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"delete\"), \" have gen\\xADer\\xADally no con\\xADtent.\")), mdx(\"h3\", {\n    \"id\": \"the-other-methods\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#the-other-methods\"\n  })), \"The other methods\"), mdx(\"p\", null, \"We won\\u2019t de\\xADtail \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"getOne\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"updateOne\"), \" as the im\\xADple\\xADmen\\xADta\\xADtions are straight\\xADfor\\xADward and very sim\\xADi\\xADlar. Their im\\xADple\\xADmen\\xADta\\xADtions are avail\\xADable on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/java/io/vertx/blog/first/MyFirstVerticle.java\"\n  }), \"GitHub\"), \".\"), mdx(\"h3\", {\n    \"id\": \"cheers\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#cheers\"\n  })), \"Cheers!\"), mdx(\"p\", null, \"It\\u2019s time to con\\xADclude this post. We have seen how Vert.x Web lets you im\\xADple\\xADment a REST API eas\\xADily and how it can serve sta\\xADtic re\\xADsources. A bit more fancy than be\\xADfore, but still pretty easy.\"), mdx(\"p\", null, mdx(Link, {\n    href: \"/blog/unit-and-integration-tests/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"In the next post\")), \", we are going to im\\xADprove our tests to cover the REST API.\"), mdx(\"p\", null, \"Say Tuned \", \"\u0026\", \" Happy Cod\\xADing !\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003eThis post is part of the \u003cem\u003eIn­tro­duc­tion to Vert.x\u003c/em\u003e se­ries. So, let’s have a quick look about the con­tent of the pre­vi­ous posts. In \u003ca href=\"/blog/my-first-vert-x-3-application/\"\u003ethe first post\u003c/a\u003e, we de­vel­oped a very sim­ple Vert.x 3 ap­pli­ca­tion, and saw how this ap­pli­ca­tion can be tested, pack­aged and ex­e­cuted. In \u003ca href=\"/blog/vert-x-application-configuration/\"\u003ethe last post\u003c/a\u003e, we saw how this ap­pli­ca­tion be­came con­fig­urable and how we can use a ran­dom port in test.\u003c/p\u003e\u003cp\u003eWell, noth­ing fancy… Let’s go a bit fur­ther this time and de­velop a \u003cem\u003eCRUD-​ish\u003c/em\u003e ap­pli­ca­tion. So an ap­pli­ca­tion ex­pos­ing an HTML page in­ter­act­ing with the back­end using a REST API. The level of \u003cem\u003eREST­full­ness\u003c/em\u003e of the API is not the topic of this post, I let you de­cide as it’s a very slip­pery topic.\u003c/p\u003e\u003cp\u003eSo, in other words we are going to see:\u003c/p\u003e\u003cul\u003e\u003cli\u003eVert.x Web - a frame­work that let you cre­ate Web ap­pli­ca­tions eas­ily using Vert.x\u003c/li\u003e\u003cli\u003eHow to ex­pose sta­tic re­sources\u003c/li\u003e\u003cli\u003eHow to de­velop a REST API\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eThe code de­vel­oped in this post is avail­able on the \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/tree/post-3\"\u003epost-3\u003c/a\u003e branch of this \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app\"\u003eGithub\u003c/a\u003e project. We are going to start from the  \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/tree/post-2\"\u003epost-2\u003c/a\u003e code­base.\u003c/p\u003e\u003cp\u003eSo, let’s start.\u003c/p\u003e\u003ch2 id=\"vertx-web\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-web\"\u003e\u003c/a\u003eVert.x Web\u003c/h2\u003e\u003cp\u003eAs you may have no­tices in the pre­vi­ous posts, deal­ing with com­plex HTTP ap­pli­ca­tion using only Vert.x Core would be kind of cum­ber­some. That’s the main rea­son be­hind \u003ca href=\"/docs/vertx-web/java/\"\u003eVert.x Web\u003c/a\u003e. It makes the de­vel­op­ment of Vert.x base web ap­pli­ca­tions re­ally easy, with­out chang­ing the phi­los­o­phy.\u003c/p\u003e\u003cp\u003eTo use Vert.x Web, you need to up­date the \u003ccode\u003epom.xml\u003c/code\u003e file to add the fol­low­ing de­pen­dency:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-web\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.0.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThat’s the only thing you need to use Vert.x Web. Sweet, no ?\u003c/p\u003e\u003cp\u003eLet’s now use it. Re­mem­ber, in the pre­vi­ous post, when we re­quested http://lo­cal­host:8080, we reply a nice \u003cem\u003eHello World\u003c/em\u003e mes­sage. Let’s do the same with Vert.x Web.  Open the \u003ccode\u003eio.vertx.blog.first.MyFirstVerticle\u003c/code\u003e class and change the \u003ccode\u003estart\u003c/code\u003e method to be:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n \u003cspan class=\"hljs-comment\"\u003e// Create a router object.\u003c/span\u003e\n Router router = Router.router(vertx);\n\n \u003cspan class=\"hljs-comment\"\u003e// Bind \u0026quot;/\u0026quot; to our hello message - so we are still compatible.\u003c/span\u003e\n router.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e).handler(routingContext -\u0026gt; {\n   HttpServerResponse response = routingContext.response();\n   response\n       .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/html\u0026quot;\u003c/span\u003e)\n       .end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;h1\u0026gt;Hello from my first Vert.x 3 application\u0026lt;/h1\u0026gt;\u0026quot;\u003c/span\u003e);\n });\n\n \u003cspan class=\"hljs-comment\"\u003e// Create the HTTP server and pass the \u0026quot;accept\u0026quot; method to the request handler.\u003c/span\u003e\n vertx\n     .createHttpServer()\n     .requestHandler(router::accept)\n     .listen(\n         \u003cspan class=\"hljs-comment\"\u003e// Retrieve the port from the configuration,\u003c/span\u003e\n         \u003cspan class=\"hljs-comment\"\u003e// default to 8080.\u003c/span\u003e\n         config().getInteger(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e),\n         result -\u0026gt; {\n           \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.succeeded()) {\n             fut.complete();\n           } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n             fut.fail(result.cause());\n           }\n         }\n     );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eYou may be sur­prise by the length of this snip­pet (in com­par­i­son to the pre­vi­ous code). But as we are going to see, it will make our app on steroids, just be pa­tient.\u003c/p\u003e\u003cp\u003eAs you can see, we start by cre­at­ing a \u003ccode\u003eRouter\u003c/code\u003e ob­ject. The router is the cor­ner­stone of Vert.x Web. This ob­ject is re­spon­si­ble for dis­patch­ing the HTTP re­quests to the right \u003cem\u003ehan­dler\u003c/em\u003e. Two other con­cepts are very im­por­tant in Vert.x Web:\u003c/p\u003e\u003cul\u003e\u003cli\u003eRoutes - which let you de­fine how re­quest are dis­patched\u003c/li\u003e\u003cli\u003eHan­dlers - which are the ac­tual ac­tion pro­cess­ing the re­quests and writ­ing the re­sult. Han­dlers can be chained.\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eIf you un­der­stand these 3 con­cepts, you have un­der­stood every­thing in Vert.x Web.\u003c/p\u003e\u003cp\u003eLet’s focus on this code first:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003erouter.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e).handler(routingContext -\u0026gt; {\n  HttpServerResponse response = routingContext.response();\n  response\n      .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/html\u0026quot;\u003c/span\u003e)\n      .end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;h1\u0026gt;Hello from my first Vert.x 3 application\u0026lt;/h1\u0026gt;\u0026quot;\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt \u003cem\u003eroutes\u003c/em\u003e re­quests ar­riv­ing on ”/” to the given \u003cem\u003ehan­dler\u003c/em\u003e. Han­dlers re­ceive a \u003ccode\u003eRoutingContext\u003c/code\u003e ob­ject. This han­dler is quite sim­i­lar to the code we had be­fore, and it’s quite nor­mal as it ma­nip­u­lates the same type of ob­ject: \u003ccode\u003eHttpServerResponse\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eLet’s now have a look to the rest of the code:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003evertx\n    .createHttpServer()\n    .requestHandler(router::accept)\n    .listen(\n        \u003cspan class=\"hljs-comment\"\u003e// Retrieve the port from the configuration,\u003c/span\u003e\n        \u003cspan class=\"hljs-comment\"\u003e// default to 8080.\u003c/span\u003e\n        config().getInteger(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e),\n        result -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.succeeded()) {\n            fut.complete();\n          } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            fut.fail(result.cause());\n          }\n        }\n    );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt’s ba­si­cally the same code as be­fore, ex­cept that we change the re­quest han­dler. We pass \u003ccode\u003erouter::accept\u003c/code\u003e to the han­dler. You may not be fa­mil­iar with this no­ta­tion. It’s a ref­er­ence to a method (here the method \u003ccode\u003eaccept\u003c/code\u003e from the \u003ccode\u003erouter\u003c/code\u003e ob­ject). In other worlds, it in­structs vert.x to call the \u003ccode\u003eaccept\u003c/code\u003e method of the \u003ccode\u003erouter\u003c/code\u003e when it re­ceives a re­quest.\u003c/p\u003e\u003cp\u003eLet’s try to see if this work:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn clean package\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eBy open­ing \u003ccode\u003ehttp://localhost:8080\u003c/code\u003e in your browser you should see the \u003cem\u003eHello\u003c/em\u003e mes­sage. As we didn’t change the be­hav­ior of the ap­pli­ca­tion, our tests are still valid.\u003c/p\u003e\u003ch2 id=\"exposing-static-resources\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#exposing-static-resources\"\u003e\u003c/a\u003eExposing static resources\u003c/h2\u003e\u003cp\u003eOk, so we have a first ap­pli­ca­tion using vert.x web. Let’s see some of the ben­e­fits. Let’s start with serv­ing sta­tic re­sources, such as an \u003ccode\u003eindex.html\u003c/code\u003e page. Be­fore we go fur­ther, I should start with a dis­claimer: “the HTML page we are going to see here is ugly like hell : I’m not a UI guy”. I should also add that there are prob­a­bly plenty of bet­ter ways to im­ple­ment this and a myr­iad of frame­works I should try, but that’s not the point. I tried to keep things sim­ple and just re­ly­ing on JQuery and Twit­ter Boot­strap, so if you know a bit of JavaScript you can un­der­stand and edit the page.\u003c/p\u003e\u003cp\u003eLet’s cre­ate the HTML page that will be the entry point of our ap­pli­ca­tion. Cre­ate an \u003ccode\u003eindex.html\u003c/code\u003e page in \u003ccode\u003esrc/main/resources/assets\u003c/code\u003e with the con­tent from \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/resources/assets/index.html\"\u003ehere\u003c/a\u003e. As it’s just a HTML page with a bit of JavaScript, we won’t de­tail the file here. If you have ques­tions, just post com­ments.\u003c/p\u003e\u003cp\u003eBa­si­cally, the page is a sim­ple \u003cem\u003eCRUD\u003c/em\u003e UI to man­age my col­lec­tion of \u003cem\u003enot-​yet-finished\u003c/em\u003e bot­tles of Whisky. It was made in a generic way, so you can trans­pose it to your own col­lec­tion. The list of prod­uct is dis­played in the main table. You can cre­ate a new prod­uct, edit one or delete one. These ac­tions are re­ly­ing on a REST API (that we are going to im­ple­ment) through AJAX calls. That’s all.\u003c/p\u003e\u003cp\u003eOnce this page is cre­ated, edit the \u003ccode\u003eio.vertx.blog.first.MyFirstVerticle\u003c/code\u003e class and change the \u003ccode\u003estart\u003c/code\u003e method to be:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n Router router = Router.router(vertx);\n router.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e).handler(routingContext -\u0026gt; {\n   HttpServerResponse response = routingContext.response();\n   response\n       .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;text/html\u0026quot;\u003c/span\u003e)\n       .end(\u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026lt;h1\u0026gt;Hello from my first Vert.x 3 application\u0026lt;/h1\u0026gt;\u0026quot;\u003c/span\u003e);\n });\n\n \u003cspan class=\"hljs-comment\"\u003e// Serve static resources from the /assets directory\u003c/span\u003e\n router.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/assets/*\u0026quot;\u003c/span\u003e).handler(StaticHandler.create(\u003cspan class=\"hljs-string\"\u003e\u0026quot;assets\u0026quot;\u003c/span\u003e));\n\n vertx\n     .createHttpServer()\n     .requestHandler(router::accept)\n     .listen(\n         \u003cspan class=\"hljs-comment\"\u003e// Retrieve the port from the configuration,\u003c/span\u003e\n         \u003cspan class=\"hljs-comment\"\u003e// default to 8080.\u003c/span\u003e\n         config().getInteger(\u003cspan class=\"hljs-string\"\u003e\u0026quot;http.port\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e),\n         result -\u0026gt; {\n           \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (result.succeeded()) {\n             fut.complete();\n           } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n             fut.fail(result.cause());\n           }\n         }\n     );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe only dif­fer­ence with the pre­vi­ous code is the \u003ccode\u003erouter.route(\u0026quot;/assets/*\u0026quot;).handler(StaticHandler.create(\u0026quot;assets\u0026quot;));\u003c/code\u003e line. So, what does this line mean? It’s ac­tu­ally quite sim­ple. It \u003cem\u003eroutes\u003c/em\u003e re­quests on “/as­sets/*” to re­sources stored in the “as­sets” di­rec­tory. So our \u003ccode\u003eindex.html\u003c/code\u003e page is going to be served using \u003ccode\u003ehttp://localhost:8080/assets/index.html\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eBe­fore test­ing this, let’s take a few sec­onds on the han­dler cre­ation. All pro­cess­ing ac­tions in Vert.x web are im­ple­mented as \u003cem\u003ehan­dler\u003c/em\u003e. To cre­ate a han­dler you al­ways call the \u003ccode\u003ecreate\u003c/code\u003e method.\u003c/p\u003e\u003cp\u003eSo, I’m sure you are im­pa­tient to see our beau­ti­ful HTML page. Let’s build and run the ap­pli­ca­tion:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn clean package\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow, open your browser to \u003ccode\u003ehttp://localhost:8080/assets/index.html\u003c/code\u003e. Here it is… Ugly right? I told you.\u003c/p\u003e\u003cp\u003eAs you may no­tice too… the table is empty, this is be­cause we didn’t im­ple­ment the REST API yet. Let’s do that now.\u003c/p\u003e\u003ch2 id=\"rest-api-with-vertx-web\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#rest-api-with-vertx-web\"\u003e\u003c/a\u003eREST API with Vert.x Web\u003c/h2\u003e\u003cp\u003eVert.x Web makes the im­ple­men­ta­tion of REST API re­ally easy, as it ba­si­cally \u003cem\u003eroutes\u003c/em\u003e your URL to the right han­dler. The API is very sim­ple, and will be struc­tured as fol­lows:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ccode\u003eGET /api/whiskies\u003c/code\u003e =\u0026gt; get all bot­tles (\u003ccode\u003egetAll\u003c/code\u003e)\u003c/li\u003e\u003cli\u003e\u003ccode\u003eGET /api/whiskies/:id\u003c/code\u003e =\u0026gt; get the bot­tle with the cor­re­spond­ing id (\u003ccode\u003egetOne\u003c/code\u003e)\u003c/li\u003e\u003cli\u003e\u003ccode\u003ePOST /api/whiskies\u003c/code\u003e =\u0026gt; add a new bot­tle (\u003ccode\u003eaddOne\u003c/code\u003e)\u003c/li\u003e\u003cli\u003e\u003ccode\u003ePUT /api/whiskies/:id\u003c/code\u003e =\u0026gt; up­date a bot­tle (\u003ccode\u003eupdateOne\u003c/code\u003e)\u003c/li\u003e\u003cli\u003e\u003ccode\u003eDELETE /api/whiskies/id\u003c/code\u003e =\u0026gt; delete a bot­tle (\u003ccode\u003edeleteOne\u003c/code\u003e)\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"we-need-some-data\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#we-need-some-data\"\u003e\u003c/a\u003eWe need some data…\u003c/h3\u003e\u003cp\u003eBut be­fore going fur­ther, let’s cre­ate our \u003cem\u003edata\u003c/em\u003e ob­ject. Cre­ate the \u003ccode\u003esrc/main/java/io/vertx/blog/first/Whisky.java\u003c/code\u003e with the fol­low­ing con­tent:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-keyword\"\u003epackage\u003c/span\u003e io.vertx.blog.first;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e java.util.concurrent.atomic.AtomicInteger;\n\n\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWhisky\u003c/span\u003e \u003c/span\u003e{\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e AtomicInteger COUNTER = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e AtomicInteger();\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e id;\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e String name;\n\n  \u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e String origin;\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWhisky\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String name, String origin)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.id = COUNTER.getAndIncrement();\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.name = name;\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.origin = origin;\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eWhisky\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.id = COUNTER.getAndIncrement();\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e String \u003cspan class=\"hljs-title\"\u003egetName\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e name;\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e String \u003cspan class=\"hljs-title\"\u003egetOrigin\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e origin;\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetId\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e id;\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003esetName\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String name)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.name = name;\n  }\n\n  \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003esetOrigin\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(String origin)\u003c/span\u003e \u003c/span\u003e{\n    \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.origin = origin;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt’s a very sim­ple \u003cem\u003ebean\u003c/em\u003e class (so with get­ters and set­ters). We choose this for­mat be­cause Vert.x is re­ly­ing on \u003ca href=\"http://wiki.fasterxml.com/JacksonHome\"\u003eJack­son\u003c/a\u003e to han­dle the JSON for­mat. Jack­son au­to­mates the se­ri­al­iza­tion and de­se­ri­al­iza­tion of \u003cem\u003ebean\u003c/em\u003e classes, mak­ing our code much sim­pler.\u003c/p\u003e\u003cp\u003eNow, let’s cre­ate a cou­ple of bot­tles. In the \u003ccode\u003eMyFirstVerticle\u003c/code\u003e class, add the fol­low­ing code:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-comment\"\u003e// Store our product\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e Map\u0026lt;Integer, Whisky\u0026gt; products = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e LinkedHashMap\u0026lt;\u0026gt;();\n\u003cspan class=\"hljs-comment\"\u003e// Create some product\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003ecreateSomeData\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e \u003c/span\u003e{\n  Whisky bowmore = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Bowmore 15 Years Laimrig\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Islay\u0026quot;\u003c/span\u003e);\n  products.put(bowmore.getId(), bowmore);\n  Whisky talisker = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e Whisky(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Talisker 57° North\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Island\u0026quot;\u003c/span\u003e);\n  products.put(talisker.getId(), talisker);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen, in the \u003ccode\u003estart\u003c/code\u003e method, call the \u003ccode\u003ecreateSomeData\u003c/code\u003e method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-meta\"\u003e@Override\u003c/span\u003e\n\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003estart\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(Future\u0026lt;Void\u0026gt; fut)\u003c/span\u003e \u003c/span\u003e{\n\n  createSomeData();\n\n  \u003cspan class=\"hljs-comment\"\u003e// Create a router object.\u003c/span\u003e\n  Router router = Router.router(vertx);\n\n  \u003cspan class=\"hljs-comment\"\u003e// Rest of the method\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs you have no­ticed, we don’t re­ally have a \u003cem\u003eback­end\u003c/em\u003e here, it’s just a (in-​memory) map. Adding a back­end will be cov­ered by an­other post.\u003c/p\u003e\u003ch3 id=\"get-our-products\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#get-our-products\"\u003e\u003c/a\u003eGet our products\u003c/h3\u003e\u003cp\u003eEnough dec­o­ra­tion, let’s im­ple­ment the REST API. We are going to start with \u003ccode\u003eGET /api/whiskies\u003c/code\u003e. It re­turns the list of bot­tles in a JSON Array.\u003c/p\u003e\u003cp\u003eIn the \u003ccode\u003estart\u003c/code\u003e method, add this line just below the sta­tic han­dler line:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003erouter.get(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/whiskies\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::getAll);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis line in­structs the \u003ccode\u003erouter\u003c/code\u003e to han­dle the \u003ccode\u003eGET\u003c/code\u003e re­quests on “/api/whiskies” by call­ing the \u003ccode\u003egetAll\u003c/code\u003e method. We could have in­lined the han­dler code, but for clar­ity rea­sons let’s cre­ate an­other  method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003egetAll\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  routingContext.response()\n      .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n      .end(Json.encodePrettily(products.values()));\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAs every \u003cem\u003ehan­dler\u003c/em\u003e our method re­ceives a \u003ccode\u003eRoutingContext\u003c/code\u003e. It pop­u­lates the \u003ccode\u003eresponse\u003c/code\u003e by set­ting the \u003ccode\u003econtent-type\u003c/code\u003e and the ac­tual con­tent. Be­cause our con­tent may con­tain \u003cem\u003eweird\u003c/em\u003e char­ac­ters, we force the charset to UTF-8. To cre­ate the ac­tual con­tent, no need to com­pute the JSON string our­self. Vert.x lets us use the \u003ccode\u003eJson\u003c/code\u003e API. So \u003ccode\u003eJson.encodePrettily(products.values())\u003c/code\u003e com­putes the JSON string rep­re­sent­ing the set of bot­tles.\u003c/p\u003e\u003cp\u003eWe could have used \u003ccode\u003eJson.encodePrettily(products)\u003c/code\u003e, but to make the JavaScript code sim­pler, we just re­turn the set of bot­tles and not an ob­ject con­tain­ing \u003ccode\u003eID =\u0026gt; Bottle\u003c/code\u003e en­tries.\u003c/p\u003e\u003cp\u003eWith this in place, we should be able to re­trieve the set of bot­tle from our HTML page. Let’s try it:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003emvn clean package\njava -jar target/my-first-app-1.0-SNAPSHOT-fat.jar\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen open the HTML page in your browser (\u003ccode\u003ehttp://localhost:8080/assets/index.html\u003c/code\u003e), and should should see:\u003c/p\u003e\u003cp\u003e\u003cimg src=\"/images/blog/intro-series/post-3-My_Whisky_Collection.png\"/\u003e\u003c/p\u003e\u003cp\u003eI’m sure you are cu­ri­ous, and want to ac­tu­ally see what is re­turned by our REST API. Let’s open a browser to \u003ccode\u003ehttp://localhost:8080/api/whiskies\u003c/code\u003e. You should get:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e[ {\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;Bowmore 15 Years Laimrig\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;origin\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Islay\u0026quot;\u003c/span\u003e\n}, {\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;Talisker 57° North\u0026quot;\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003e\u0026quot;origin\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\u0026quot;Scotland, Island\u0026quot;\u003c/span\u003e\n} ]\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"create-a-product\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#create-a-product\"\u003e\u003c/a\u003eCreate a product\u003c/h2\u003e\u003cp\u003eNow we can re­trieve the set of bot­tles, let’s cre­ate a new one. Un­like the pre­vi­ous REST API end­point, this one need to read the re­quest’s body. For per­for­mance rea­son, it should be ex­plic­itly en­abled. Don’t be scared… it’s just a han­dler.\u003c/p\u003e\u003cp\u003eIn the \u003ccode\u003estart\u003c/code\u003e method, add these lines just below the line end­ing by \u003ccode\u003egetAll\u003c/code\u003e:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003erouter.route(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/whiskies*\u0026quot;\u003c/span\u003e).handler(BodyHandler.create());\nrouter.post(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/whiskies\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::addOne);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe first line en­ables the read­ing of the re­quest body for all routes under “/api/whiskies”. We could have en­abled it glob­ally with \u003ccode\u003erouter.route().handler(BodyHandler.create())\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eThe sec­ond line maps \u003ccode\u003ePOST\u003c/code\u003e re­quests on \u003ccode\u003e/api/whiskies\u003c/code\u003e to the \u003ccode\u003eaddOne\u003c/code\u003e method. Let’s cre­ate this method:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eaddOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  \u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e Whisky whisky = Json.decodeValue(routingContext.getBodyAsString(),\n      Whisky.class);\n  products.put(whisky.getId(), whisky);\n  routingContext.response()\n      .setStatusCode(\u003cspan class=\"hljs-number\"\u003e201\u003c/span\u003e)\n      .putHeader(\u003cspan class=\"hljs-string\"\u003e\u0026quot;content-type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;application/json; charset=utf-8\u0026quot;\u003c/span\u003e)\n      .end(Json.encodePrettily(whisky));\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe method starts by re­triev­ing the \u003ccode\u003eWhisky\u003c/code\u003e ob­ject from the re­quest body. It just reads the body into a String and passes it to the \u003ccode\u003eJson.decodeValue\u003c/code\u003e method. Once cre­ated it adds it to the \u003cem\u003eback­end\u003c/em\u003e map and re­turns the cre­ated bot­tle as JSON.\u003c/p\u003e\u003cp\u003eLet’s try this. Re­build and restart the ap­pli­ca­tion with:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-mipsasm\"\u003emvn clean package\n\u003cspan class=\"hljs-keyword\"\u003ejava \u003c/span\u003e-\u003cspan class=\"hljs-keyword\"\u003ejar \u003c/span\u003etarget/my-first-app\u003cspan class=\"hljs-number\"\u003e-1\u003c/span\u003e.\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e-SNAPSHOT-fat.\u003cspan class=\"hljs-keyword\"\u003ejar\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThen, re­fresh the HTML page and click on the \u003ccode\u003eAdd a new bottle\u003c/code\u003e but­ton. Enter the data such as: “Jame­son” as name and “Ire­land” as ori­gin (purists would have no­ticed that this is ac­tu­ally a Whiskey and not a Whisky). The bot­tle should be added to the table.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cdiv class=\"alert-title\"\u003eStatus 201?\u003c/div\u003e\u003cp\u003eAs you can see, we have set the re­sponse sta­tus to \u003ccode\u003e201\u003c/code\u003e. It means \u003ccode\u003eCREATED\u003c/code\u003e, and is the gen­er­ally used in REST API that cre­ate an en­tity. By de­fault vert.x web is set­ting the sta­tus to \u003ccode\u003e200\u003c/code\u003e mean­ing \u003ccode\u003eOK\u003c/code\u003e.\u003c/p\u003e\u003c/div\u003e\u003ch3 id=\"finishing-a-bottle\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finishing-a-bottle\"\u003e\u003c/a\u003eFinishing a bottle\u003c/h3\u003e\u003cp\u003eWell, bot­tles do not last for­ever, so we should be able to delete a bot­tle. In the \u003ccode\u003estart\u003c/code\u003e method, add this line:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003erouter.delete(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/api/whiskies/:id\u0026quot;\u003c/span\u003e).handler(\u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e::deleteOne);\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn the URL, we de­fine a \u003cem\u003epath pa­ra­me­ter\u003c/em\u003e \u003ccode\u003e:id\u003c/code\u003e. So, when han­dling a match­ing re­quest, Vert.x ex­tracts the path seg­ment cor­re­spond­ing to the pa­ra­me­ter and let us ac­cess it in the han­dler method. For in­stance, \u003ccode\u003e/api/whiskies/0\u003c/code\u003e maps \u003ccode\u003eid\u003c/code\u003e to \u003ccode\u003e0\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eLet’s see how the pa­ra­me­ter can be used in the han­dler method. Cre­ate the \u003ccode\u003edeleteOne\u003c/code\u003e method as fol­lows:\u003c/p\u003e\u003cpre\u003e\u003ccode class=\"hljs language-java\"\u003e\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003evoid\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003edeleteOne\u003c/span\u003e\u003cspan class=\"hljs-params\"\u003e(RoutingContext routingContext)\u003c/span\u003e \u003c/span\u003e{\n  String id = routingContext.request().getParam(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (id == \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n    routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e400\u003c/span\u003e).end();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    Integer idAsInteger = Integer.valueOf(id);\n    products.remove(idAsInteger);\n  }\n  routingContext.response().setStatusCode(\u003cspan class=\"hljs-number\"\u003e204\u003c/span\u003e).end();\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe \u003cem\u003epath pa­ra­me­ter\u003c/em\u003e is re­trieved using \u003ccode\u003eroutingContext.request().getParam(\u0026quot;id\u0026quot;)\u003c/code\u003e.  It checks whether it’s \u003ccode\u003enull\u003c/code\u003e (not set), and in this case re­turns a \u003ccode\u003eBad Request\u003c/code\u003e re­sponse (sta­tus code 400). Oth­er­wise, it re­moves it from the \u003cem\u003eback­end\u003c/em\u003e map.\u003c/p\u003e\u003cdiv class=\"alert info\"\u003e\u003cdiv class=\"alert-title\"\u003eStatus 204?\u003c/div\u003e\u003cp\u003eAs you can see, we have set the re­sponse sta­tus to \u003ccode\u003e204 - NO CONTENT\u003c/code\u003e. Re­sponse to the HTTP Verb \u003ccode\u003edelete\u003c/code\u003e have gen­er­ally no con­tent.\u003c/p\u003e\u003c/div\u003e\u003ch3 id=\"the-other-methods\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#the-other-methods\"\u003e\u003c/a\u003eThe other methods\u003c/h3\u003e\u003cp\u003eWe won’t de­tail \u003ccode\u003egetOne\u003c/code\u003e and \u003ccode\u003eupdateOne\u003c/code\u003e as the im­ple­men­ta­tions are straight­for­ward and very sim­i­lar. Their im­ple­men­ta­tions are avail­able on \u003ca href=\"https://github.com/cescoffier/my-vertx-first-app/blob/post-3/src/main/java/io/vertx/blog/first/MyFirstVerticle.java\"\u003eGitHub\u003c/a\u003e.\u003c/p\u003e\u003ch3 id=\"cheers\"\u003e\u003ca aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#cheers\"\u003e\u003c/a\u003eCheers!\u003c/h3\u003e\u003cp\u003eIt’s time to con­clude this post. We have seen how Vert.x Web lets you im­ple­ment a REST API eas­ily and how it can serve sta­tic re­sources. A bit more fancy than be­fore, but still pretty easy.\u003c/p\u003e\u003cp\u003e\u003ca href=\"/blog/unit-and-integration-tests/\"\u003eIn the next post\u003c/a\u003e, we are going to im­prove our tests to cover the REST API.\u003c/p\u003e\u003cp\u003eSay Tuned \u003c!-- --\u003e\u0026amp;\u003c!-- --\u003e Happy Cod­ing !\u003c/p\u003e","scope":{}}},"prevPost":{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},"nextPost":{"meta":{"title":"Vert.x Application Configuration","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"In our previous post, we developed a very simple Vert.x 3 application, and saw how this application can be tested, packaged and executed. That was nice, wasn’t it?"},"date":"2015-07-20","slug":"vert-x-application-configuration"},"relatedPosts":[{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"}]},"__N_SSG":true},"page":"/blog/[[...slug]]","query":{"slug":["some-rest-with-vert-x"]},"buildId":"GZANNkcWQOb3i6uzsieMj","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-9a5c89434732593ca2fd.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.3b9874ba65db13e7d868.js" async=""></script><script src="/_next/static/chunks/pages/blog/%5B%5B...slug%5D%5D-c36bc482402d8ffe42a5.js" async=""></script><script src="/_next/static/GZANNkcWQOb3i6uzsieMj/_buildManifest.js" async=""></script><script src="/_next/static/GZANNkcWQOb3i6uzsieMj/_ssgManifest.js" async=""></script></body></html>