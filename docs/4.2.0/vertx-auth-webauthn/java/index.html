<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Webauthn 鉴权与授权 | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-auth" as="fetch" crossorigin="anonymous" class="jsx-1153611384"/><meta name="next-head-count" content="14"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-0e0f5c5c9fa5a29e0d78.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-791d360c4f713077c3d6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0727c67bedbbb4c22e4a.js" defer=""></script><script src="/_next/static/chunks/615-6d6ca750e2a9fa60adea.js" defer=""></script><script src="/_next/static/chunks/619-e0ac0bb7086baf39108f.js" defer=""></script><script src="/_next/static/chunks/934-2dc74a92af3e0e391096.js" defer=""></script><script src="/_next/static/chunks/31-bb0d9e1106ba3e8c65f3.js" defer=""></script><script src="/_next/static/chunks/907-66e2ac95d5144ecb02a6.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-4918292890b836d7a66a.js" defer=""></script><script src="/_next/static/-M-NrwC1m2c35-dAJ4ExC/_buildManifest.js" defer=""></script><script src="/_next/static/-M-NrwC1m2c35-dAJ4ExC/_ssgManifest.js" defer=""></script><style id="__jsx-1030027079">.dropdown-item.jsx-1030027079{white-space:nowrap;line-height:2;width:100%;padding:0 1.5rem;cursor:pointer;}.dropdown-item.jsx-1030027079:hover{background-color:#e9ecef;}.dropdown-item.active.jsx-1030027079{font-weight:400;padding-left:0.75rem;}.dropdown-item.has-active-siblings.jsx-1030027079:not(.active){padding-left:calc(0.75rem + 16px + 0.5em);}.dropdown-item.jsx-1030027079 .dropdown-check-icon.jsx-1030027079{width:16px;margin-right:0.5em;margin-top:1px;}</style><style id="__jsx-3534061111">.dropdown.jsx-3534061111{position:relative;display:inline-block;}.dropdown.jsx-3534061111 .dropdown-title.jsx-3534061111{margin-right:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111{position:absolute;background-color:#f8f9fa;box-shadow:0 2px 5px 0 rgba(0,0,0,0.1);border-radius:0.8rem;list-style-type:none;padding:0.6666666667rem 0;margin:0.25rem 0 0 0;z-index:100;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111 a{color:#4d4d4d;-webkit-text-decoration:none;text-decoration:none;font-weight:300;}.dropdown.jsx-3534061111 .dropdown-menu.align-right.jsx-3534061111{right:0;}.dropdown.jsx-3534061111 .dropdown-menu.visible.jsx-3534061111{display:block;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111 a.jsx-3534061111:hover{color:inherit;}.dropdown.jsx-3534061111 svg{margin-bottom:2px;}</style><style id="__jsx-3537117450">.navbar{position:absolute;top:2.75rem;width:100%;}.navbar a{color:#3c3c3b;}.navbar a.navbar-menu-item,.navbar .dropdown-title{text-transform:uppercase;}.navbar a.navbar-menu-item:hover,.navbar .dropdown-title:hover{-webkit-text-decoration:none;text-decoration:none;color:#898987;-webkit-transition:color 0.15s ease-in-out;transition:color 0.15s ease-in-out;}.navbar .navbar-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}.navbar .navbar-content .navbar-logo{-webkit-flex:1;-ms-flex:1;flex:1;}.navbar .navbar-content .navbar-logo img{width:8.3rem;}.navbar .navbar-content .navbar-collapse-button{display:none;cursor:pointer;}@media (max-width:1000px){.navbar .navbar-content .navbar-collapse-button{display:inline-block;}}.navbar .navbar-content .navbar-collapse-button span{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#3c3c3b;border-radius:3px;z-index:1;-webkit-transform-origin:4px 0;-ms-transform-origin:4px 0;transform-origin:4px 0;-webkit-transition:-webkit-transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;-webkit-transition:transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;transition:transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;}.navbar .navbar-content .navbar-collapse-button span:first-child{-webkit-transform-origin:0% 0%;-ms-transform-origin:0% 0%;transform-origin:0% 0%;}.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2){-webkit-transform-origin:0% 100%;-ms-transform-origin:0% 100%;transform-origin:0% 100%;}.navbar .navbar-content .navbar-right{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-bottom:10px;}@media (max-width:1000px){.navbar .navbar-content .navbar-right{max-height:0;-webkit-transition:max-height 200ms ease-in-out;transition:max-height 200ms ease-in-out;box-shadow:0 2px 5px 0 rgba(0,0,0,0.1);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;top:2.75rem;left:0.8rem;right:0.8rem;background-color:#f8f9fa;overflow-x:auto;overflow-y:hidden;}}.navbar .navbar-content .navbar-menu .navbar-menu-item{font-weight:400;margin-right:2.5rem;}.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down{margin-right:1.8rem;}@media (max-width:1250px){.navbar .navbar-content .navbar-menu .navbar-menu-item{margin-right:1.5rem;}}@media (max-width:1000px){.navbar .navbar-content .navbar-menu .navbar-menu-item{display:block;margin-bottom:1rem;font-size:1.2rem;}}.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon{margin-left:0.25em;}@media (max-width:1000px){.navbar .navbar-content .navbar-menu{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:1rem;}}.navbar .navbar-content .navbar-social{margin-left:1.6rem;font-size:0.875rem;}.navbar .navbar-content .navbar-social svg{height:16px;margin-bottom:2px;}@media (max-width:1000px){.navbar .navbar-content .navbar-social svg{height:1rem;}}@media (max-width:1250px){.navbar .navbar-content .navbar-social{margin-left:1rem;}}@media (max-width:1000px){.navbar .navbar-content .navbar-social{margin-left:auto;padding:0 1rem 1rem 0;font-size:1rem;}}@media (max-width:768px){.navbar{top:1rem;}}.page .navbar{top:0;padding-top:1.5rem;padding-bottom:1rem;position:fixed;background-color:#fff;z-index:2;}</style><style id="__jsx-2520609189">.search input{color:#adb5bd;border:1px solid #dee2e6;border-radius:0.4rem;font-size:0.875rem;padding:0.25rem 1.8rem 0.35rem 1.8rem;width:100%;-webkit-transition:color 0.15s ease-in-out,border-color 0.15s ease-in-out;transition:color 0.15s ease-in-out,border-color 0.15s ease-in-out;}.search input:focus{border-color:#adb5bd;color:#3c3c3b;}.search .search-icon,.search .search-icon-delete{position:absolute;top:0.55rem;height:1rem;stroke:#adb5bd;-webkit-transition:stroke 0.15s ease-in-out;transition:stroke 0.15s ease-in-out;}.search .search-icon{left:0.4rem;}.search input:focus+.search-icon{stroke:#6f6970;}.search .search-icon-delete{stroke:#6f6970;right:0.4rem;height:0.75rem;top:0.7rem;opacity:0;-webkit-transition:opacity 0.15s ease-in-out;transition:opacity 0.15s ease-in-out;cursor:text;}.search.has-content .search-icon-delete{opacity:1;cursor:pointer;}</style><style id="__jsx-4212053455">.search-results,.search-results-none{font-size:0.875rem;overflow:auto;list-style-type:none;padding-left:0;display:none;}.search-results.visible,.search-results-none.visible{display:block;}.search-results{list-style-type:none;padding:0;margin-bottom:0;}.search-results li{display:block;padding:0.5rem;margin-bottom:1rem;border-radius:0.4rem;border:1px solid transparent;cursor:pointer;}.search-results li.active{background-color:#f8f9fa;border:1px solid #e9ecef;}.search-results li h5{margin:0 0 0.5rem 0;font-size:1em;}.search-results li .search-results-highlight{background-color:yellow;}.search-results-none{padding:1rem 0.5rem;text-align:center;width:100%;}</style><style id="__jsx-2599647406">.search-panel{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;}</style><style id="__jsx-1153611384">.github-stars.jsx-1153611384{display:inline-block;}.github-stars.jsx-1153611384 .icon.jsx-1153611384{margin-right:0.25em;}.github-stars.jsx-1153611384 .icon.jsx-1153611384 svg{height:1rem;}</style><style id="__jsx-1771812074">footer{font-size:0.875rem;padding-top:3rem;padding-bottom:4rem;background-color:#f8f9fa;border-top:1px solid #dee2e6;margin-top:1rem;color:#6f6970;}footer h5{font-size:1rem;margin-top:0;margin-bottom:1rem;color:#3c3c3b;text-transform:uppercase;}footer ul{padding:0;list-style:none;line-height:2;}footer a{color:#6f6970;}footer .footer-logo img,footer .footer-copyright-eclipse-logo img{-webkit-filter:grayscale(100);filter:grayscale(100);opacity:0.5;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;}footer .footer-logo img:hover,footer .footer-copyright-eclipse-logo img:hover{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1;}footer .footer-nav-section{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-bottom:6rem;}footer .footer-nav-section .footer-logo{margin-top:0.4rem;}footer .footer-nav-section .footer-logo img{width:8.3rem;}footer .footer-nav-section .footer-nav-list{width:20%;}footer .footer-copyright{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}footer .footer-copyright a{white-space:nowrap;}footer .footer-copyright .footer-copyright-eclipse-logo{width:17%;margin-bottom:0.5rem;}@media (max-width:1250px){footer .footer-copyright .footer-copyright-break{display:none;}footer .footer-copyright .footer-copyright-eclipse-logo{width:30%;}}@media (max-width:1000px){footer .footer-nav-section .footer-nav-list{width:25%;}footer .footer-copyright .footer-copyright-break{display:inline-block;}footer .footer-copyright .footer-copyright-eclipse-logo{width:40%;}}@media (max-width:768px){footer .footer-nav-section{max-width:100%;margin-left:auto;margin-right:auto;}}@media (max-width:640px){footer .footer-nav-section{max-width:80%;margin-bottom:3rem;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}footer .footer-nav-section h5{cursor:pointer;}footer .footer-nav-section h5::after{display:inline-block;content:"";border-top:0.4em solid;border-right:0.4em solid transparent;border-bottom:0;border-left:0.4em solid transparent;position:absolute;top:0.75rem;right:0;}footer .footer-nav-section .footer-nav-list{width:100%;position:relative;}footer .footer-nav-section .footer-nav-list ul{overflow-y:hidden;max-height:0;-webkit-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out;}footer .footer-nav-section .footer-nav-list ul.visible{margin-bottom:2rem;}footer .footer-nav-section .footer-logo{margin:0 auto 3rem auto;width:auto;}footer .footer-copyright{max-width:80%;text-align:center;margin-left:auto;margin-right:auto;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;}footer .footer-copyright .footer-copyright-eclipse-logo{width:7.6rem;margin-bottom:1rem;}}</style><style id="__jsx-4280303685">.page-content{margin-top:6em;margin-bottom:8rem;}.docs .docs-content .docs-content-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 17rem;-ms-flex:0 0 17rem;flex:0 0 17rem;}.docs .docs-content .docs-content-wrapper aside .docs-content-wrapper-sidebar{position:-webkit-sticky;position:sticky;top:7em;}.docs .docs-content .docs-content-wrapper aside .search-panel{margin-top:1rem;width:100%;}.docs .docs-content .docs-content-wrapper aside .search-panel .search-results{max-height:calc(100vh - 10rem - 1px);}.docs .docs-content .docs-content-wrapper aside .docs-content-toc{margin-top:1rem;overflow-y:auto;max-height:calc(100vh - 10rem - 3px);}.docs .docs-content .docs-content-wrapper aside .docs-content-toc #toctitle{display:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul{margin-top:0;padding-left:0;list-style-type:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul.sectlevel2{display:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul li{padding:0.3333333333rem 0;}.docs .docs-content .docs-content-wrapper aside.docs-has-search-results .docs-content-toc{display:none;}@media (max-width:1250px){.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 15rem;-ms-flex:0 0 15rem;flex:0 0 15rem;}}@media (max-width:1000px){.docs .docs-content .docs-content-wrapper aside{z-index:1;position:fixed;top:0;right:0;width:25rem;height:100vh;max-width:100%;padding-top:6rem;padding-left:2rem;padding-right:2rem;background-color:#fff;border-left:1px solid #dee2e6;-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);-webkit-transition:-webkit-transform 200ms ease-in-out;-webkit-transition:transform 200ms ease-in-out;transition:transform 200ms ease-in-out;will-change:transform;}.docs .docs-content .docs-content-wrapper aside.collapse{-webkit-transform:translateX(0%);-ms-transform:translateX(0%);transform:translateX(0%);}}@media (max-width:640px){.docs .docs-content .docs-content-wrapper aside{min-width:100%;border-left:none;}}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{z-index:1000;cursor:pointer;display:none;position:fixed;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;right:2rem;bottom:2rem;color:#fff;background-color:#4d4d4d;padding:0.5rem;border-radius:0.8rem;-webkit-transition:background-color 0.15s ease-in-out;transition:background-color 0.15s ease-in-out;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-list,.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{display:block;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{position:absolute;left:0;top:0;opacity:0;-webkit-transition:opacity 0.15s ease-in-out;transition:opacity 0.15s ease-in-out;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle:hover{background-color:#3c3c3b;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-list{opacity:0;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-x{opacity:1;}@media (max-width:1000px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (max-width:640px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{right:1rem;bottom:1rem;}}.docs .docs-content .docs-content-inner{max-width:calc(100% - 19.5rem);overflow:hidden;}.docs .docs-content .docs-content-inner .docs-content-metadata{margin-top:1.2rem;margin-bottom:1.2rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-repo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:1;-ms-flex:1;flex:1;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*{margin-right:2rem;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*:last-child{margin-right:0;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#6f6970;white-space:nowrap;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a:hover{color:#782b90;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a .feather{margin-right:0.25em;height:1rem;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:1rem;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (min-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:16px;margin-bottom:-2px;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:1rem;margin-bottom:-1px;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a{-webkit-text-decoration:none;text-decoration:none;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a:hover{color:#6f6970;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-label{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:2rem;}.docs .docs-content .docs-content-inner h1{padding-top:0;margin-top:0.6rem;line-height:1.2;}.docs .docs-content .docs-content-inner h1::after{content:"";width:30%;display:block;border:2px solid #782b90;border-radius:2px;margin-top:1.1rem;}.docs .docs-content .docs-content-inner .ulist>ul{padding-left:1.1rem;}.docs .docs-content .docs-content-inner h2{border-top:1px solid #dee2e6;margin-top:5rem;padding-top:2rem;}.docs .docs-content .docs-content-inner h3,.docs .docs-content .docs-content-inner h4{margin-top:3rem;}@media (max-width:1250px){.docs .docs-content .docs-content-inner{max-width:calc(100% - 17.5rem);}}@media (max-width:1000px){.docs .docs-content .docs-content-inner{max-width:100%;}}.docs .docs-content .admonitionblock{border-top-right-radius:0.8rem;border-bottom-right-radius:0.8rem;background-color:#f8f9fa;padding:1rem;margin:1.5rem 0;border-left:9px solid transparent;}.docs .docs-content .admonitionblock.note,.docs .docs-content .admonitionblock.tip{border-color:#6cb9f0;}.docs .docs-content .admonitionblock.important,.docs .docs-content .admonitionblock.warning,.docs .docs-content .admonitionblock.caution{border-color:#f0a46c;}.docs .docs-content .admonitionblock tr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.docs .docs-content .admonitionblock .title{font-weight:400;}.docs .docs-content .admonitionblock .title::after{content:":";}.docs .docs-content dt{font-weight:400;}.docs .docs-content .anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none;}.docs .docs-content .anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:0.45rem;}.docs .docs-content .anchor:hover{opacity:1;}.docs .docs-content h2:hover .anchor,.docs .docs-content h3:hover .anchor,.docs .docs-content h4:hover .anchor,.docs .docs-content h5:hover .anchor,.docs .docs-content h6:hover .anchor{opacity:1;}.docs .docs-content h1 .anchor{display:none;}.docs .docs-content h4 .anchor::after,.docs .docs-content h5 .anchor::after,.docs .docs-content h6 .anchor::after{padding-right:0.6rem;}</style><style id="__jsx-3977862379">{/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */}html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0;}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto;}[type=search]{-webkit-appearance:textfield;outline-offset:-2px;}[type=search]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}.hljs,pre{display:block;overflow-x:auto;padding:0.5em;background:#3a2840;color:#fff;}.hljs.language-shell:not(.bash)+.bash,pre.language-shell:not(.bash)+.bash,.hljs.language-better-shell:not(.bash)+.bash,pre.language-better-shell:not(.bash)+.bash{color:#d2a8e0;}pre{border-radius:0.8rem;padding:1rem;font-size:0.875rem;margin:1.5rem 0;}.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#d2a8e0;}.hljs-template-tag{color:#f00;}.hljs-number{color:#6cb9f0;}.hljs-variable,.hljs-template-variable,.hljs-attribute,.hljs-literal{color:#c9e5f9;}.hljs-subst{color:#f00;}.hljs-title,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-section,.hljs-type{color:#f0a46c;}.hljs-symbol,.hljs-bullet,.hljs-link{color:#d2a8e0;}.hljs-deletion,.hljs-string,.hljs-built_in,.hljs-builtin-name{color:#6cb9f0;}.hljs-addition,.hljs-comment,.hljs-quote,.hljs-meta{color:#adb5bd;}.hljs-emphasis{font-style:italic;}.hljs-strong{font-weight:bold;}#nprogress{pointer-events:none;}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px;}#nprogress .peg{display:block;position:absolute;right:0px;width:100px;height:100%;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px);}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px;}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:solid 2px transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite;}.nprogress-custom-parent{overflow:hidden;position:relative;}.nprogress-custom-parent #nprogress .spinner,.nprogress-custom-parent #nprogress .bar{position:absolute;}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);}}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}#nprogress .bar{background:#782b90;}#nprogress .peg{box-shadow:0 0 10px #782b90,0 0 5px #782b90;}#nprogress .spinner-icon{border-top-color:#782b90;border-left-color:#782b90;}html{box-sizing:border-box;}*,*::before,*::after{box-sizing:inherit;}:root{font-size:18px;}@media (max-width:1000px){:root{font-size:17.1px;}}@media (max-width:768px){:root{font-size:16.2px;}}@media (max-width:640px){:root{font-size:15.3px;}}body,input{font-family:"Roboto",sans-serif;font-weight:300;line-height:1.7;color:#3c3c3b;}input{outline:none;}h1,h2,h3,h4,h5,h6{font-weight:400;}h1{font-size:2.5rem;}h2{font-size:2rem;}h3{font-size:1.75rem;}h4{font-size:1.5rem;}h5{font-size:1.25rem;}h6{font-size:1.1rem;}.container{width:100%;padding-right:0.8rem;padding-left:0.8rem;margin-right:auto;margin-left:auto;}@media (min-width:640px){.container{max-width:620px;}}@media (min-width:768px){.container{max-width:738px;}}@media (min-width:1000px){.container{max-width:950px;}}@media (min-width:1250px){.container{max-width:1180px;}}@media (min-width:1250px){.container-narrow{max-width:950px;}}.img-fluid{max-width:100%;}a{-webkit-text-decoration:none;text-decoration:none;color:#782b90;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#571f69;}img{vertical-align:middle;}svg{overflow:hidden;vertical-align:middle;}code,pre{font-family:"Roboto Mono",SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}p code{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:100%;overflow:auto;}.heading-anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none;}.heading-anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:0.45rem;}.heading-anchor:hover{opacity:1;}h2:hover .heading-anchor,h3:hover .heading-anchor,h4:hover .heading-anchor,h5:hover .heading-anchor,h6:hover .heading-anchor{opacity:1;}h1 .heading-anchor{display:none;}h4 .heading-anchor::after,h5 .heading-anchor::after,h6 .heading-anchor::after{padding-right:0.6rem;}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2021-11-12T03:05:02.157Z" data-build-commit-id="34463f4ab623e5d8d0241209a8564ff955ac5d2b" data-build-run-id="1451484401"><div id="__next"><main class="jsx-4280303685 page docs"><header><div class="jsx-3537117450 navbar"><div class="jsx-3537117450 navbar-content container"><div class="jsx-3537117450 navbar-logo"><a class="jsx-3537117450" href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyMzIuNiAzMTUuMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi5zdDB7ZmlsbDojNzgyYTkxfTwvc3R5bGU+PHBhdGggZD0iTTEyMC45IDIxNC4yIDE5MC41IDBoNTIuM2wtOTguNSAyNzMuOEg5OC4yTDAgMGg1Mi4xbDY4LjggMjE0LjJ6bTI5MS4yLTYyLjZIMjk5LjZ2ODQuMkg0MzF2MzhIMjUyVjBoMTc3Ljd2MzguNEgyOTkuNlYxMTRoMTEyLjV2MzcuNnptODMuNy0xMTMuMkg1NDZjMTYuNS4zIDI5IDQuNCAzNy4zIDEyLjQgOC4zIDggMTIuNSAxOS40IDEyLjUgMzQgMCAxNC00LjUgMjUuMS0xMy41IDMzLjItOSA4LjEtMjEuNiAxMi4xLTM3LjYgMTIuMWgtMjcuMXYyNC4ybDg2LjEgMTE5LjVoNTF2LTIuNGwtNzcuMi0xMDYuN2MyNC45LTUuNSA0My4zLTIxLjcgNTIuNi0zNS45IDguMi0xMi42IDEzLjMtMjcuNyAxMy4zLTQ2IDAtMjYuOC04LjYtNDcuNC0yNS44LTYxLjVDNjAwLjUgNy4xIDU3Ni4xIDAgNTQ0LjUgMGgtOTYuM3YyNzMuOGg0Ny42Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0ibTEwNTIuMyAxNTcuNy00MS41IDYyLjcgMjkuNyA1My40aDg1LjF6Ii8+PGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iODI3LjkiIGN5PSIyNzQuNyIgcj0iNDAuNSIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Im0xMDM3IDAtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo" class="jsx-3537117450"/></a></div><div class="jsx-3537117450 navbar-collapse-button"><span class="jsx-3537117450"></span><span class="jsx-3537117450"></span><span class="jsx-3537117450"></span></div><div class="jsx-3537117450 navbar-right"><div class="jsx-3537117450 navbar-menu"><span class="jsx-3537117450 navbar-menu-item with-drop-down"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu"><a class="jsx-3537117450" href="/introduction-to-vertx-and-reactive/"><li class="jsx-1030027079 dropdown-item">简介</li></a><a class="jsx-3537117450" href="/get-started/"><li class="jsx-1030027079 dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-3537117450 navbar-menu-item" href="/docs/">文档</a><span class="jsx-3537117450 navbar-menu-item with-drop-down"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu"><a class="jsx-3537117450" href="/faq/"><li class="jsx-1030027079 dropdown-item">答疑</li></a><a class="jsx-3537117450" href="/channels/"><li class="jsx-1030027079 dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-3537117450 navbar-menu-item" href="/blog/">博客</a><a class="jsx-3537117450 navbar-menu-item" href="/community/">社区</a><a class="jsx-3537117450 navbar-menu-item" href="/translation/">翻译团队</a></div><div class="jsx-3537117450 navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" title="Stack Overflow" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>stackoverflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" title="YouTube" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>youtube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a><a href="https://discord.gg/KzEMwP2" title="Discord" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="jsx-4280303685 page-content docs-content"><div class="jsx-4280303685 container"><div class="jsx-4280303685 docs-content-wrapper"><aside class="jsx-4280303685 "><div class="jsx-4280303685 docs-content-wrapper-sidebar"><div class="jsx-2599647406 search-panel"><div class="jsx-2520609189 search"><input type="text" placeholder="Search..." value="" class="jsx-2520609189"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-4212053455 search-results"></ul><div class="jsx-4212053455 search-results-none">No results.</div></div><div class="jsx-4280303685 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_webauthn_api">WebAuthn API</a></li>
<li><a href="#_registration">Registration</a></li>
<li><a href="#_login">Login</a></li>
<li><a href="#_device_attestation">Device Attestation</a></li>
<li><a href="#_a_simple_example">A simple example</a>
<ul class="sectlevel2">
<li><a href="#_create_a_registration_request">Create a Registration request</a></li>
<li><a href="#_verify_the_registration_request">Verify the registration request</a></li>
<li><a href="#_create_a_login_request">Create a Login request</a></li>
<li><a href="#_verify_the_login_request">Verify the Login request</a></li>
</ul>
</li>
<li><a href="#_metadata_service">Metadata Service</a></li>
<li><a href="#_updating_certificates">Updating Certificates</a></li>
</ul>
</div></div></div></aside><div class="jsx-4280303685 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-4280303685"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-4280303685 docs-content-inner"><div class="jsx-4280303685 docs-content-metadata"><div class="jsx-4280303685 docs-content-metadata-left"><div class="jsx-4280303685 docs-content-metadata-repo"><div class="jsx-1153611384 github-stars"><a href="https://github.com/vert-x3/vertx-auth" class="jsx-1153611384"><div class="jsx-1153611384 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->null stars</a></div></div><div class="jsx-4280303685"><a href="https://vertx.io/docs/apidocs" class="jsx-4280303685"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="jsx-4280303685 docs-content-metadata-edit"><a href="https://github.com/vertx-china/vertx-web-site/tree/master/docs/translation/vertx-auth-webauthn/java"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> 改进翻译</a></div><span class="jsx-4280303685 docs-content-metadata-version"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">v4.2.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu align-right"><a href="/docs/vertx-auth-webauthn/java/"><li class="jsx-1030027079 dropdown-item active has-active-siblings"><span class="jsx-1030027079 dropdown-check-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span>Latest (v<!-- -->4.2.0<!-- -->)</li></a><a href="/docs/4.1.5/vertx-auth-webauthn/java/"><li class="jsx-1030027079 dropdown-item has-active-siblings">v<!-- -->4.1.5</li></a><a href="/docs/4.0.3/vertx-auth-webauthn/java/"><li class="jsx-1030027079 dropdown-item has-active-siblings">v<!-- -->4.0.3</li></a></ul></div></span></div></div><div class="jsx-4280303685"><h1>WebAuthn auth provider</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This component contains an out of the box a <a href="https://github.com/herrjemand/awesome-webauthn#server-libs">FIDO CONFORMANT</a>
WebAuthn implementation. To use this project, add the following dependency to the <em>dependencies</em> section of your build
descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-auth-webauthn<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">&#x27;io.vertx:vertx-auth-webauthn:4.2.0&#x27;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API">WebAuthn (Web Authentication)</a> is a web standard
for authenticating users to web-based applications using public/private key cryptography. Strictly speaking, WebAuthn is
just the name of the browser API and is part of <a href="https://fidoalliance.org/fido2/">FIDO2</a>. FIDO2 is the overarching term of
a set of specifications, including WebAuthn and CTAP. FIDO2 is the successor of the FIDO Universal 2nd Factor (U2F)
legacy protocol.</p>
</div>
<div class="paragraph">
<p>As an application developer, we don&#8217;t deal with CTAP (Client-to-Authenticator Protocol), which is the protocol that the
browser uses to speak with an authenticator like a FIDO security key.</p>
</div>
<div class="paragraph">
<p>FIDO2 works with public/private keys. The user has an authenticator, which creates public/private key pairs. These key
pairs are different for each site. The public key is transferred to the server and stored in the user&#8217;s account. The
private key never leaves the authenticator. To login, the server first creates a random challenge (a random sequence of
bytes), sends it to the authenticator. The authenticator signs the challenge with his private key and sends the
signature back to the server. The server verifies the signature with the stored public key and grants access if the
signature is valid.</p>
</div>
<div class="paragraph">
<p>Traditionally this technology needs a hardware security token like a <a href="https://www.yubico.com/products/">Yubico key</a> or a
key from <a href="https://www.ftsafe.com/Products/FIDO">Feitian</a> to name two brands.</p>
</div>
<div class="paragraph">
<p>FIDO2 still supports these hardware keys, but the technology also supports alternatives. If you have an Android 7+ phone
or a Windows 10 system, you don&#8217;t need to buy a FIDO2 security key if you want to play with WebAuthn.</p>
</div>
<div class="paragraph">
<p>In <a href="https://fidoalliance.org/news-your-google-android-7-phone-is-now-a-fido2-security-key/">April 2019, Google announced</a>
that any phone running Android 7+ can function as a FIDO2 security key. In
<a href="https://www.microsoft.com/en-us/microsoft-365/blog/2018/11/20/sign-in-to-your-microsoft-account-without-a-password-using-windows-hello-or-a-security-key/">November 2018, Microsoft announced</a>
that you can use Windows Hello as a security key for FIDO2. In <a href="https://developer.apple.com/videos/play/wwdc2020/10670/">June 2020 Apple announced</a>
that you can use iOS FaceID and TouchID for the web by adopting webauthn standard.</p>
</div>
<div class="paragraph">
<p>WebAuthn is implemented in Edge, Firefox, Chrome, and Safari. Visit <a href="https://caniuse.com" class="bare">https://caniuse.com</a> to check out the current state
of implementations: <a href="https://caniuse.com/#search=webauthn" class="bare">https://caniuse.com/#search=webauthn</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_webauthn_api"><a class="anchor" href="#_webauthn_api"></a>WebAuthn API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API">Web Authentication API</a> is an extension of
the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Credential_Management_API">Credential Management API</a>.</p>
</div>
<div class="paragraph">
<p>WebAuthn extends the two functions from the Credential Management API <a href="https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create">navigator.credentials.create()</a>
and <a href="https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/get">navigator.credentials.get()</a> so they
accept a publicKey parameter.</p>
</div>
<div class="paragraph">
<p>To simplify the usage of the API a simple JavaScript client application is provided here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-auth-webauthn<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>client<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>js<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">&#x27;io.vertx:vertx-auth-webauthn:4.2.0:client@js&#x27;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The script should be used in cooperation with vertx-web as it handles the API interaction between the web layer and the
auth code in this library.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registration"><a class="anchor" href="#_registration"></a>Registration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Registration is the process of enrolling a new authenticator to the database and associate with the user.</p>
</div>
<div class="paragraph">
<p>The process takes 2 steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A call to generate a <code><a href="../../apidocs/io/vertx/ext/auth/webauthn/WebAuthn.html#createCredentialsOptions-io.vertx.core.json.JsonObject-">createCredentialsOptions</a></code></p>
</li>
<li>
<p>A call with the solution to the challenge to the normal <code>authenticate</code> API method.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the solution is correct, the new authenticator should be added to the storage and be usable for login purposes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_login"><a class="anchor" href="#_login"></a>Login</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Like the registration, login is a 2 step process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A call to generate a <code><a href="../../apidocs/io/vertx/ext/auth/webauthn/WebAuthn.html#getCredentialsOptions-java.lang.String-">getCredentialsOptions</a></code></p>
</li>
<li>
<p>A call with the solution to the challenge to the normal <code>authenticate</code> API method.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When the challenge is correctly solved, the user is considered logged in.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_device_attestation"><a class="anchor" href="#_device_attestation"></a>Device Attestation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When an authenticator registers a new key pair with a service, the authenticator signs the public key with an
attestation certificate. The attestation certificate is built into the authenticator during manufacturing time and is
specific to a device model. That is, all "Samsung Galaxy S8" phones, manufactured at a specific time or particular
manufacturing run, have the same attestation certificate.</p>
</div>
<div class="paragraph">
<p>Different devices have different attestation formats. The pre-defined attestation formats in WebAuthn are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Packed</code> - a generic attestation format that is commonly used by devices whose sole function is as a WebAuthn authenticator, such as security keys.</p>
</li>
<li>
<p><code>TPM</code> - the Trusted Platform Module (TPM) is a set of specifications from the Trusted Platform Group (TPG). This attestation format is commonly found in desktop computers and is used by Windows Hello as its preferred attestation format.</p>
</li>
<li>
<p><code>Android Key Attestation</code> - one of the features added in Android O was Android Key Attestation, which enables the Android operating system to attest to keys.</p>
</li>
<li>
<p><code>Android SafetyNet</code> - prior to Android Key Attestation, the only option for Android devices was to create Android SafetyNet attestations</p>
</li>
<li>
<p><code>FIDO U2F</code> - security keys that implement the FIDO U2F standard use this format</p>
</li>
<li>
<p><code>Apple</code> - Verifies the Anonymous Apple device attestation.</p>
</li>
<li>
<p><code>none</code> - browsers may prompt users whether they want a site to be allowed to see their attestation data and/or may remove attestation data from the authenticator&#8217;s response if the <code>attestation</code> parameter in <code>navigator.credentials.create()</code> is set to <code>none</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The purpose of attestation is to cryptographically prove that a newly generated key pair came from a specific device.
This provides a root of trust for a newly generated key pair as well as being able to identify the attributes of a
device being used (how the private key is protected; if / what kind of biometric is being used; whether a device has
been certified; etc.).</p>
</div>
<div class="paragraph">
<p>It should be noted that while attestation provides the capability for a root of trust, validating the root of trust is
frequently not necessary. When registering an authenticator for a new account, typically a Trust On First Use (TOFU)
model applies; and when adding an authenticator to an existing account, a user has already been authenticated and has
established a secure session.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_simple_example"><a class="anchor" href="#_a_simple_example"></a>A simple example</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_create_a_registration_request"><a class="anchor" href="#_create_a_registration_request"></a>Create a Registration request</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">WebAuthn webAuthN = WebAuthn.create(
  vertx,
  <span class="hljs-keyword">new</span> WebAuthnOptions()
    .setRelyingParty(<span class="hljs-keyword">new</span> RelyingParty().setName(<span class="hljs-string">&quot;ACME Corporation&quot;</span>)))
  .authenticatorFetcher(query -&gt; {
    <span class="hljs-comment">// function that fetches some authenticators from a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture(authenticators);
  })
  .authenticatorUpdater(authenticator -&gt; {
    <span class="hljs-comment">// function that updates an authenticator to a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture();
  });

<span class="hljs-comment">// some user</span>
JsonObject user = <span class="hljs-keyword">new</span> JsonObject()
  <span class="hljs-comment">// id is expected to be a base64url string</span>
  .put(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;000000000000000000000000&quot;</span>)
  .put(<span class="hljs-string">&quot;rawId&quot;</span>, <span class="hljs-string">&quot;000000000000000000000000&quot;</span>)
  .put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;john.doe@email.com&quot;</span>)
  <span class="hljs-comment">// optionally</span>
  .put(<span class="hljs-string">&quot;displayName&quot;</span>, <span class="hljs-string">&quot;John Doe&quot;</span>)
  .put(<span class="hljs-string">&quot;icon&quot;</span>, <span class="hljs-string">&quot;https://pics.example.com/00/p/aBjjjpqPb.png&quot;</span>);

webAuthN
  .createCredentialsOptions(user)
  .onSuccess(challengeResponse -&gt; {
    <span class="hljs-comment">// return the challenge to the browser</span>
    <span class="hljs-comment">// for further processing</span>
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_verify_the_registration_request"><a class="anchor" href="#_verify_the_registration_request"></a>Verify the registration request</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">WebAuthn webAuthN = WebAuthn.create(
  vertx,
  <span class="hljs-keyword">new</span> WebAuthnOptions()
    .setRelyingParty(<span class="hljs-keyword">new</span> RelyingParty().setName(<span class="hljs-string">&quot;ACME Corporation&quot;</span>)))
  .authenticatorFetcher(query -&gt; {
    <span class="hljs-comment">// function that fetches some authenticators from a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture(authenticators);
  })
  .authenticatorUpdater(authenticator -&gt; {
    <span class="hljs-comment">// function that updates an authenticator to a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture();
  });

<span class="hljs-comment">// the response received from the browser</span>
JsonObject request = <span class="hljs-keyword">new</span> JsonObject()
  .put(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;Q-MHP0Xq20CKM5LW3qBt9gu5vdOYLNZc3jCcgyyL...&quot;</span>)
  .put(<span class="hljs-string">&quot;rawId&quot;</span>, <span class="hljs-string">&quot;Q-MHP0Xq20CKM5LW3qBt9gu5vdOYLNZc3jCcgyyL...&quot;</span>)
  .put(<span class="hljs-string">&quot;type&quot;</span>, <span class="hljs-string">&quot;public-key&quot;</span>)
  .put(<span class="hljs-string">&quot;response&quot;</span>, <span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">&quot;attestationObject&quot;</span>, <span class="hljs-string">&quot;o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRoRGF0YVj...&quot;</span>)
    .put(<span class="hljs-string">&quot;clientDataJSON&quot;</span>, <span class="hljs-string">&quot;eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIiwiY2hhbGxlb...&quot;</span>));

webAuthN
  .authenticate(
    <span class="hljs-keyword">new</span> JsonObject()
      <span class="hljs-comment">// the username you want to link to</span>
      .put(<span class="hljs-string">&quot;username&quot;</span>, <span class="hljs-string">&quot;paulo&quot;</span>)
      <span class="hljs-comment">// the server origin</span>
      .put(<span class="hljs-string">&quot;origin&quot;</span>, <span class="hljs-string">&quot;https://192.168.178.206.xip.io:8443&quot;</span>)
      <span class="hljs-comment">// the server domain</span>
      .put(<span class="hljs-string">&quot;domain&quot;</span>, <span class="hljs-string">&quot;192.168.178.206.xip.io&quot;</span>)
      <span class="hljs-comment">// the challenge given on the previous step</span>
      .put(<span class="hljs-string">&quot;challenge&quot;</span>, <span class="hljs-string">&quot;BH7EKIDXU6Ct_96xTzG0l62qMhW_Ef_K4MQdDLoVNc1UX...&quot;</span>)
      .put(<span class="hljs-string">&quot;webauthn&quot;</span>, request))
  .onSuccess(user -&gt; {
    <span class="hljs-comment">// success!</span>
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_login_request"><a class="anchor" href="#_create_a_login_request"></a>Create a Login request</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">WebAuthn webAuthN = WebAuthn.create(
  vertx,
  <span class="hljs-keyword">new</span> WebAuthnOptions()
    .setRelyingParty(<span class="hljs-keyword">new</span> RelyingParty().setName(<span class="hljs-string">&quot;ACME Corporation&quot;</span>)))
  .authenticatorFetcher(query -&gt; {
    <span class="hljs-comment">// function that fetches some authenticators from a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture(authenticators);
  })
  .authenticatorUpdater(authenticator -&gt; {
    <span class="hljs-comment">// function that updates an authenticator to a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture();
  });

<span class="hljs-comment">// Login only requires the username and can even be set to null if</span>
<span class="hljs-comment">// resident keys are supported, in this case the authenticator remembers</span>
<span class="hljs-comment">// the public key used for the relying party</span>
webAuthN.getCredentialsOptions(<span class="hljs-string">&quot;paulo&quot;</span>)
  .onSuccess(challengeResponse -&gt; {
    <span class="hljs-comment">// return the challenge to the browser</span>
    <span class="hljs-comment">// for further processing</span>
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_verify_the_login_request"><a class="anchor" href="#_verify_the_login_request"></a>Verify the Login request</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">WebAuthn webAuthN = WebAuthn.create(
  vertx,
  <span class="hljs-keyword">new</span> WebAuthnOptions()
    .setRelyingParty(<span class="hljs-keyword">new</span> RelyingParty().setName(<span class="hljs-string">&quot;ACME Corporation&quot;</span>)))
  .authenticatorFetcher(query -&gt; {
    <span class="hljs-comment">// function that fetches some authenticators from a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture(authenticators);
  })
  .authenticatorUpdater(authenticator -&gt; {
    <span class="hljs-comment">// function that updates an authenticator to a</span>
    <span class="hljs-comment">// persistence storage</span>
    <span class="hljs-keyword">return</span> Future.succeededFuture();
  });

<span class="hljs-comment">// The response from the login challenge request</span>
JsonObject body = <span class="hljs-keyword">new</span> JsonObject()
  .put(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;rYLaf9xagyA2YnO-W3CZDW8udSg8VeMMm25nenU7nCSxUqy1pEzOdb9o...&quot;</span>)
  .put(<span class="hljs-string">&quot;rawId&quot;</span>, <span class="hljs-string">&quot;rYLaf9xagyA2YnO-W3CZDW8udSg8VeMMm25nenU7nCSxUqy1pEzOdb9o...&quot;</span>)
  .put(<span class="hljs-string">&quot;type&quot;</span>, <span class="hljs-string">&quot;public-key&quot;</span>)
  .put(<span class="hljs-string">&quot;response&quot;</span>, <span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">&quot;authenticatorData&quot;</span>, <span class="hljs-string">&quot;fxV8VVBPmz66RLzscHpg5yjRhO...&quot;</span>)
    .put(<span class="hljs-string">&quot;clientDataJSON&quot;</span>, <span class="hljs-string">&quot;eyJ0eXBlIjoid2ViYXV0aG4uZ2V0IiwiY2hhbGxlb...&quot;</span>)
    .put(<span class="hljs-string">&quot;signature&quot;</span>, <span class="hljs-string">&quot;MEUCIFXjL0ONRuLP1hkdlRJ8d0ofuRAS12c6w8WgByr-0yQZA...&quot;</span>)
    .put(<span class="hljs-string">&quot;userHandle&quot;</span>, <span class="hljs-string">&quot;&quot;</span>));

webAuthN.authenticate(<span class="hljs-keyword">new</span> JsonObject()
  <span class="hljs-comment">// the username you want to link to</span>
  .put(<span class="hljs-string">&quot;username&quot;</span>, <span class="hljs-string">&quot;paulo&quot;</span>)
  <span class="hljs-comment">// the server origin</span>
  .put(<span class="hljs-string">&quot;origin&quot;</span>, <span class="hljs-string">&quot;https://192.168.178.206.xip.io:8443&quot;</span>)
  <span class="hljs-comment">// the server domain</span>
  .put(<span class="hljs-string">&quot;domain&quot;</span>, <span class="hljs-string">&quot;192.168.178.206.xip.io&quot;</span>)
  <span class="hljs-comment">// the challenge given on the previous step</span>
  .put(<span class="hljs-string">&quot;challenge&quot;</span>, <span class="hljs-string">&quot;BH7EKIDXU6Ct_96xTzG0l62qMhW_Ef_K4MQdDLoVNc1UX...&quot;</span>)
  .put(<span class="hljs-string">&quot;webauthn&quot;</span>, body))
  .onSuccess(user -&gt; {
    <span class="hljs-comment">// success!</span>
  });</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metadata_service"><a class="anchor" href="#_metadata_service"></a>Metadata Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The current module passes all FIDO2 compliance tests <strong>including</strong> the yet to be final FIDO2 Metadata Service API.
This means that we follow the spec and this handler <strong>can</strong> detect tokens that have been marked as not trustable
by the token vendor. For example, when a security bug allowed a private key to be extracted from a token.</p>
</div>
<div class="paragraph">
<p>In order to support the Metadata Service API, as a user you need to register yourself or your application at:
<a href="https://fidoalliance.org/metadata/">https://fidoalliance.org/metadata</a></p>
</div>
<div class="paragraph">
<p>With this the <code>APIKey</code> given to you you can configure the application as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">final</span> WebAuthnOptions webAuthnOptions = <span class="hljs-keyword">new</span> WebAuthnOptions()
  <span class="hljs-comment">// in order to fully trust the MDS tokens we should load the CRLs as</span>
  <span class="hljs-comment">// described on https://fidoalliance.org/metadata/</span>

  <span class="hljs-comment">// here the content of: http://crl.globalsign.net/Root.crl</span>
  .addRootCrl(
    <span class="hljs-string">&quot;MIIB1jCCAV0CAQEwCg...&quot;</span>);

<span class="hljs-comment">// create the webauthn security object like before</span>
<span class="hljs-keyword">final</span> WebAuthn webAuthN = WebAuthn.create(vertx, webAuthnOptions);

webAuthN.metaDataService()
  .fetchTOC()
  .onSuccess(allOk -&gt; {
    <span class="hljs-comment">// if all metadata was downloaded and parsed correctly allOk is true</span>
    <span class="hljs-comment">// the processing will not stop if a entry is corrupt, in that case that</span>
    <span class="hljs-comment">// specific entry is skipped and the flag is false. That also means that</span>
    <span class="hljs-comment">// that entry will be tagged and &quot;not trustable&quot; as we can&#x27;t make any</span>
    <span class="hljs-comment">// valid decision.</span>
  });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_updating_certificates"><a class="anchor" href="#_updating_certificates"></a>Updating Certificates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Almost all device attestations are based on <code>X509</code> Certificate checks. This means that certificates can and will expire
at some point in time. By default, the current "Active" certificates are hardcoded on the <code>WebAuthnOptions</code> object.</p>
</div>
<div class="paragraph">
<p>However if your application needs to update a certificate on it&#8217;s own, say for example, use a more up to date one, or
another with a different cypher, then you can replace the default <code>root</code> certificates for each attestation by calling:
<code>WebAuthnOptions.putRootCertificate(String, String)</code>, where the first parameter is the attestation name or "mds" for
FIDO MetaData Service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>none</p>
</li>
<li>
<p>u2f</p>
</li>
<li>
<p>packed</p>
</li>
<li>
<p>android-key</p>
</li>
<li>
<p>android-safetynet</p>
</li>
<li>
<p>tpm</p>
</li>
<li>
<p>apple</p>
</li>
<li>
<p>mds</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>And the second the PEM formatted X509 Certificate (Boundaries are not required).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">final</span> WebAuthnOptions webAuthnOptions = <span class="hljs-keyword">new</span> WebAuthnOptions()
  <span class="hljs-comment">// fido2 MDS custom ROOT certificate</span>
  .putRootCertificate(<span class="hljs-string">&quot;mds&quot;</span>, <span class="hljs-string">&quot;MIIB1jCCAV0CAQEwCg...&quot;</span>)
  <span class="hljs-comment">// updated google root certificate from (https://pki.goog/repository/)</span>
  .putRootCertificate(<span class="hljs-string">&quot;android-safetynet&quot;</span>, <span class="hljs-string">&quot;MIIDvDCCAqSgAwIBAgINAgPk9GHs...&quot;</span>);</code></pre>
</div>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-1771812074"><div class="jsx-1771812074 container"><div class="jsx-1771812074 footer-nav-section"><div class="jsx-1771812074 footer-nav-list footer-logo"><a class="jsx-1771812074" href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyMzIuNiAzMTUuMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi5zdDB7ZmlsbDojNzgyYTkxfTwvc3R5bGU+PHBhdGggZD0iTTEyMC45IDIxNC4yIDE5MC41IDBoNTIuM2wtOTguNSAyNzMuOEg5OC4yTDAgMGg1Mi4xbDY4LjggMjE0LjJ6bTI5MS4yLTYyLjZIMjk5LjZ2ODQuMkg0MzF2MzhIMjUyVjBoMTc3Ljd2MzguNEgyOTkuNlYxMTRoMTEyLjV2MzcuNnptODMuNy0xMTMuMkg1NDZjMTYuNS4zIDI5IDQuNCAzNy4zIDEyLjQgOC4zIDggMTIuNSAxOS40IDEyLjUgMzQgMCAxNC00LjUgMjUuMS0xMy41IDMzLjItOSA4LjEtMjEuNiAxMi4xLTM3LjYgMTIuMWgtMjcuMXYyNC4ybDg2LjEgMTE5LjVoNTF2LTIuNGwtNzcuMi0xMDYuN2MyNC45LTUuNSA0My4zLTIxLjcgNTIuNi0zNS45IDguMi0xMi42IDEzLjMtMjcuNyAxMy4zLTQ2IDAtMjYuOC04LjYtNDcuNC0yNS44LTYxLjVDNjAwLjUgNy4xIDU3Ni4xIDAgNTQ0LjUgMGgtOTYuM3YyNzMuOGg0Ny42Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0ibTEwNTIuMyAxNTcuNy00MS41IDYyLjcgMjkuNyA1My40aDg1LjF6Ii8+PGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iODI3LjkiIGN5PSIyNzQuNyIgcj0iNDAuNSIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Im0xMDM3IDAtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo" class="jsx-1771812074"/></a></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">Eclipse Vert.x</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a class="jsx-1771812074 navbar-menu-item" href="/docs/">文档</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/download/">下载</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/blog/">博客</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/community/">社区</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/translation/">翻译团队</a></li><li class="jsx-1771812074"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-1771812074">GitHub</a></li><li class="jsx-1771812074"><a href="https://github.com/vertx-china/vertx-web-site" class="jsx-1771812074">翻译GitHub</a></li></ul></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">资源</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a class="jsx-1771812074" href="/faq/">答疑</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/channels/">联系渠道</a></li><li class="jsx-1771812074"><a href="https://how-to.vertx.io/" class="jsx-1771812074">操作指南</a></li><li class="jsx-1771812074"><a href="https://start.vertx.io/" class="jsx-1771812074">应用生成器</a></li></ul></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">Eclipse</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a href="https://www.eclipse.org/" class="jsx-1771812074">Eclipse 基金会</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-1771812074">隐私政策</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-1771812074">使用条款</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-1771812074">版权代理</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/" class="jsx-1771812074">法律资源</a></li></ul></div></div><div class="jsx-1771812074 footer-copyright"><div class="jsx-1771812074 footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x™<br class="jsx-1771812074"/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Apache License 2.0</a>协议下获得了双重许可。<br class="jsx-1771812074 footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Michel Krämer</a> 设计。</div><div class="jsx-1771812074 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-1771812074"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0IDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo" class="jsx-1771812074"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"4.2.0/vertx-auth-webauthn/java","title":"WebAuthn auth provider","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_webauthn_api\"\u003eWebAuthn API\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_registration\"\u003eRegistration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_login\"\u003eLogin\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_device_attestation\"\u003eDevice Attestation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_a_simple_example\"\u003eA simple example\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_create_a_registration_request\"\u003eCreate a Registration request\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_verify_the_registration_request\"\u003eVerify the registration request\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_create_a_login_request\"\u003eCreate a Login request\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_verify_the_login_request\"\u003eVerify the Login request\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_metadata_service\"\u003eMetadata Service\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_updating_certificates\"\u003eUpdating Certificates\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eWebAuthn auth provider\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis component contains an out of the box a \u003ca href=\"https://github.com/herrjemand/awesome-webauthn#server-libs\"\u003eFIDO CONFORMANT\u003c/a\u003e\nWebAuthn implementation. To use this project, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build\ndescriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-auth-webauthn\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-auth-webauthn:4.2.0\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API\"\u003eWebAuthn (Web Authentication)\u003c/a\u003e is a web standard\nfor authenticating users to web-based applications using public/private key cryptography. Strictly speaking, WebAuthn is\njust the name of the browser API and is part of \u003ca href=\"https://fidoalliance.org/fido2/\"\u003eFIDO2\u003c/a\u003e. FIDO2 is the overarching term of\na set of specifications, including WebAuthn and CTAP. FIDO2 is the successor of the FIDO Universal 2nd Factor (U2F)\nlegacy protocol.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAs an application developer, we don\u0026#8217;t deal with CTAP (Client-to-Authenticator Protocol), which is the protocol that the\nbrowser uses to speak with an authenticator like a FIDO security key.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFIDO2 works with public/private keys. The user has an authenticator, which creates public/private key pairs. These key\npairs are different for each site. The public key is transferred to the server and stored in the user\u0026#8217;s account. The\nprivate key never leaves the authenticator. To login, the server first creates a random challenge (a random sequence of\nbytes), sends it to the authenticator. The authenticator signs the challenge with his private key and sends the\nsignature back to the server. The server verifies the signature with the stored public key and grants access if the\nsignature is valid.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTraditionally this technology needs a hardware security token like a \u003ca href=\"https://www.yubico.com/products/\"\u003eYubico key\u003c/a\u003e or a\nkey from \u003ca href=\"https://www.ftsafe.com/Products/FIDO\"\u003eFeitian\u003c/a\u003e to name two brands.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFIDO2 still supports these hardware keys, but the technology also supports alternatives. If you have an Android 7+ phone\nor a Windows 10 system, you don\u0026#8217;t need to buy a FIDO2 security key if you want to play with WebAuthn.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn \u003ca href=\"https://fidoalliance.org/news-your-google-android-7-phone-is-now-a-fido2-security-key/\"\u003eApril 2019, Google announced\u003c/a\u003e\nthat any phone running Android 7+ can function as a FIDO2 security key. In\n\u003ca href=\"https://www.microsoft.com/en-us/microsoft-365/blog/2018/11/20/sign-in-to-your-microsoft-account-without-a-password-using-windows-hello-or-a-security-key/\"\u003eNovember 2018, Microsoft announced\u003c/a\u003e\nthat you can use Windows Hello as a security key for FIDO2. In \u003ca href=\"https://developer.apple.com/videos/play/wwdc2020/10670/\"\u003eJune 2020 Apple announced\u003c/a\u003e\nthat you can use iOS FaceID and TouchID for the web by adopting webauthn standard.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWebAuthn is implemented in Edge, Firefox, Chrome, and Safari. Visit \u003ca href=\"https://caniuse.com\" class=\"bare\"\u003ehttps://caniuse.com\u003c/a\u003e to check out the current state\nof implementations: \u003ca href=\"https://caniuse.com/#search=webauthn\" class=\"bare\"\u003ehttps://caniuse.com/#search=webauthn\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_webauthn_api\"\u003e\u003ca class=\"anchor\" href=\"#_webauthn_api\"\u003e\u003c/a\u003eWebAuthn API\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Authentication_API\"\u003eWeb Authentication API\u003c/a\u003e is an extension of\nthe \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Credential_Management_API\"\u003eCredential Management API\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWebAuthn extends the two functions from the Credential Management API \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create\"\u003enavigator.credentials.create()\u003c/a\u003e\nand \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/get\"\u003enavigator.credentials.get()\u003c/a\u003e so they\naccept a publicKey parameter.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo simplify the usage of the API a simple JavaScript client application is provided here:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-auth-webauthn\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003eclient\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eclassifier\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003etype\u003c/span\u003e\u0026gt;\u003c/span\u003ejs\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003etype\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.2.0\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-auth-webauthn:4.2.0:client@js\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe script should be used in cooperation with vertx-web as it handles the API interaction between the web layer and the\nauth code in this library.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_registration\"\u003e\u003ca class=\"anchor\" href=\"#_registration\"\u003e\u003c/a\u003eRegistration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eRegistration is the process of enrolling a new authenticator to the database and associate with the user.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe process takes 2 steps:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"olist arabic\"\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\n\u003cp\u003eA call to generate a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/auth/webauthn/WebAuthn.html#createCredentialsOptions-io.vertx.core.json.JsonObject-\"\u003ecreateCredentialsOptions\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eA call with the solution to the challenge to the normal \u003ccode\u003eauthenticate\u003c/code\u003e API method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the solution is correct, the new authenticator should be added to the storage and be usable for login purposes.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_login\"\u003e\u003ca class=\"anchor\" href=\"#_login\"\u003e\u003c/a\u003eLogin\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLike the registration, login is a 2 step process:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"olist arabic\"\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\n\u003cp\u003eA call to generate a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/auth/webauthn/WebAuthn.html#getCredentialsOptions-java.lang.String-\"\u003egetCredentialsOptions\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eA call with the solution to the challenge to the normal \u003ccode\u003eauthenticate\u003c/code\u003e API method.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen the challenge is correctly solved, the user is considered logged in.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_device_attestation\"\u003e\u003ca class=\"anchor\" href=\"#_device_attestation\"\u003e\u003c/a\u003eDevice Attestation\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen an authenticator registers a new key pair with a service, the authenticator signs the public key with an\nattestation certificate. The attestation certificate is built into the authenticator during manufacturing time and is\nspecific to a device model. That is, all \"Samsung Galaxy S8\" phones, manufactured at a specific time or particular\nmanufacturing run, have the same attestation certificate.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eDifferent devices have different attestation formats. The pre-defined attestation formats in WebAuthn are:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ePacked\u003c/code\u003e - a generic attestation format that is commonly used by devices whose sole function is as a WebAuthn authenticator, such as security keys.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eTPM\u003c/code\u003e - the Trusted Platform Module (TPM) is a set of specifications from the Trusted Platform Group (TPG). This attestation format is commonly found in desktop computers and is used by Windows Hello as its preferred attestation format.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eAndroid Key Attestation\u003c/code\u003e - one of the features added in Android O was Android Key Attestation, which enables the Android operating system to attest to keys.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eAndroid SafetyNet\u003c/code\u003e - prior to Android Key Attestation, the only option for Android devices was to create Android SafetyNet attestations\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eFIDO U2F\u003c/code\u003e - security keys that implement the FIDO U2F standard use this format\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eApple\u003c/code\u003e - Verifies the Anonymous Apple device attestation.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003enone\u003c/code\u003e - browsers may prompt users whether they want a site to be allowed to see their attestation data and/or may remove attestation data from the authenticator\u0026#8217;s response if the \u003ccode\u003eattestation\u003c/code\u003e parameter in \u003ccode\u003enavigator.credentials.create()\u003c/code\u003e is set to \u003ccode\u003enone\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe purpose of attestation is to cryptographically prove that a newly generated key pair came from a specific device.\nThis provides a root of trust for a newly generated key pair as well as being able to identify the attributes of a\ndevice being used (how the private key is protected; if / what kind of biometric is being used; whether a device has\nbeen certified; etc.).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt should be noted that while attestation provides the capability for a root of trust, validating the root of trust is\nfrequently not necessary. When registering an authenticator for a new account, typically a Trust On First Use (TOFU)\nmodel applies; and when adding an authenticator to an existing account, a user has already been authenticated and has\nestablished a secure session.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_a_simple_example\"\u003e\u003ca class=\"anchor\" href=\"#_a_simple_example\"\u003e\u003c/a\u003eA simple example\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_create_a_registration_request\"\u003e\u003ca class=\"anchor\" href=\"#_create_a_registration_request\"\u003e\u003c/a\u003eCreate a Registration request\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eWebAuthn webAuthN = WebAuthn.create(\n  vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n    .setRelyingParty(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RelyingParty().setName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ACME Corporation\u0026quot;\u003c/span\u003e)))\n  .authenticatorFetcher(query -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that fetches some authenticators from a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture(authenticators);\n  })\n  .authenticatorUpdater(authenticator -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that updates an authenticator to a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// some user\u003c/span\u003e\nJsonObject user = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  \u003cspan class=\"hljs-comment\"\u003e// id is expected to be a base64url string\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;000000000000000000000000\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;rawId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;000000000000000000000000\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;john.doe@email.com\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// optionally\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;displayName\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;icon\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://pics.example.com/00/p/aBjjjpqPb.png\u0026quot;\u003c/span\u003e);\n\nwebAuthN\n  .createCredentialsOptions(user)\n  .onSuccess(challengeResponse -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// return the challenge to the browser\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// for further processing\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_verify_the_registration_request\"\u003e\u003ca class=\"anchor\" href=\"#_verify_the_registration_request\"\u003e\u003c/a\u003eVerify the registration request\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eWebAuthn webAuthN = WebAuthn.create(\n  vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n    .setRelyingParty(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RelyingParty().setName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ACME Corporation\u0026quot;\u003c/span\u003e)))\n  .authenticatorFetcher(query -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that fetches some authenticators from a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture(authenticators);\n  })\n  .authenticatorUpdater(authenticator -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that updates an authenticator to a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// the response received from the browser\u003c/span\u003e\nJsonObject request = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Q-MHP0Xq20CKM5LW3qBt9gu5vdOYLNZc3jCcgyyL...\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;rawId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Q-MHP0Xq20CKM5LW3qBt9gu5vdOYLNZc3jCcgyyL...\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;public-key\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;response\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;attestationObject\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRoRGF0YVj...\u0026quot;\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;clientDataJSON\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIiwiY2hhbGxlb...\u0026quot;\u003c/span\u003e));\n\nwebAuthN\n  .authenticate(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n      \u003cspan class=\"hljs-comment\"\u003e// the username you want to link to\u003c/span\u003e\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;paulo\u0026quot;\u003c/span\u003e)\n      \u003cspan class=\"hljs-comment\"\u003e// the server origin\u003c/span\u003e\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;origin\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://192.168.178.206.xip.io:8443\u0026quot;\u003c/span\u003e)\n      \u003cspan class=\"hljs-comment\"\u003e// the server domain\u003c/span\u003e\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;domain\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;192.168.178.206.xip.io\u0026quot;\u003c/span\u003e)\n      \u003cspan class=\"hljs-comment\"\u003e// the challenge given on the previous step\u003c/span\u003e\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;challenge\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;BH7EKIDXU6Ct_96xTzG0l62qMhW_Ef_K4MQdDLoVNc1UX...\u0026quot;\u003c/span\u003e)\n      .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;webauthn\u0026quot;\u003c/span\u003e, request))\n  .onSuccess(user -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// success!\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_create_a_login_request\"\u003e\u003ca class=\"anchor\" href=\"#_create_a_login_request\"\u003e\u003c/a\u003eCreate a Login request\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eWebAuthn webAuthN = WebAuthn.create(\n  vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n    .setRelyingParty(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RelyingParty().setName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ACME Corporation\u0026quot;\u003c/span\u003e)))\n  .authenticatorFetcher(query -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that fetches some authenticators from a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture(authenticators);\n  })\n  .authenticatorUpdater(authenticator -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that updates an authenticator to a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// Login only requires the username and can even be set to null if\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// resident keys are supported, in this case the authenticator remembers\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// the public key used for the relying party\u003c/span\u003e\nwebAuthN.getCredentialsOptions(\u003cspan class=\"hljs-string\"\u003e\u0026quot;paulo\u0026quot;\u003c/span\u003e)\n  .onSuccess(challengeResponse -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// return the challenge to the browser\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// for further processing\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_verify_the_login_request\"\u003e\u003ca class=\"anchor\" href=\"#_verify_the_login_request\"\u003e\u003c/a\u003eVerify the Login request\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eWebAuthn webAuthN = WebAuthn.create(\n  vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n    .setRelyingParty(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e RelyingParty().setName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ACME Corporation\u0026quot;\u003c/span\u003e)))\n  .authenticatorFetcher(query -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that fetches some authenticators from a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture(authenticators);\n  })\n  .authenticatorUpdater(authenticator -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// function that updates an authenticator to a\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// persistence storage\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e Future.succeededFuture();\n  });\n\n\u003cspan class=\"hljs-comment\"\u003e// The response from the login challenge request\u003c/span\u003e\nJsonObject body = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;rYLaf9xagyA2YnO-W3CZDW8udSg8VeMMm25nenU7nCSxUqy1pEzOdb9o...\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;rawId\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;rYLaf9xagyA2YnO-W3CZDW8udSg8VeMMm25nenU7nCSxUqy1pEzOdb9o...\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;public-key\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;response\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;authenticatorData\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;fxV8VVBPmz66RLzscHpg5yjRhO...\u0026quot;\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;clientDataJSON\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;eyJ0eXBlIjoid2ViYXV0aG4uZ2V0IiwiY2hhbGxlb...\u0026quot;\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;signature\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;MEUCIFXjL0ONRuLP1hkdlRJ8d0ofuRAS12c6w8WgByr-0yQZA...\u0026quot;\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;userHandle\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;\u0026quot;\u003c/span\u003e));\n\nwebAuthN.authenticate(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  \u003cspan class=\"hljs-comment\"\u003e// the username you want to link to\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;username\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;paulo\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// the server origin\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;origin\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://192.168.178.206.xip.io:8443\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// the server domain\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;domain\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;192.168.178.206.xip.io\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// the challenge given on the previous step\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;challenge\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;BH7EKIDXU6Ct_96xTzG0l62qMhW_Ef_K4MQdDLoVNc1UX...\u0026quot;\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;webauthn\u0026quot;\u003c/span\u003e, body))\n  .onSuccess(user -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// success!\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_metadata_service\"\u003e\u003ca class=\"anchor\" href=\"#_metadata_service\"\u003e\u003c/a\u003eMetadata Service\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe current module passes all FIDO2 compliance tests \u003cstrong\u003eincluding\u003c/strong\u003e the yet to be final FIDO2 Metadata Service API.\nThis means that we follow the spec and this handler \u003cstrong\u003ecan\u003c/strong\u003e detect tokens that have been marked as not trustable\nby the token vendor. For example, when a security bug allowed a private key to be extracted from a token.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn order to support the Metadata Service API, as a user you need to register yourself or your application at:\n\u003ca href=\"https://fidoalliance.org/metadata/\"\u003ehttps://fidoalliance.org/metadata\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWith this the \u003ccode\u003eAPIKey\u003c/code\u003e given to you you can configure the application as:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e WebAuthnOptions webAuthnOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n  \u003cspan class=\"hljs-comment\"\u003e// in order to fully trust the MDS tokens we should load the CRLs as\u003c/span\u003e\n  \u003cspan class=\"hljs-comment\"\u003e// described on https://fidoalliance.org/metadata/\u003c/span\u003e\n\n  \u003cspan class=\"hljs-comment\"\u003e// here the content of: http://crl.globalsign.net/Root.crl\u003c/span\u003e\n  .addRootCrl(\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;MIIB1jCCAV0CAQEwCg...\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// create the webauthn security object like before\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e WebAuthn webAuthN = WebAuthn.create(vertx, webAuthnOptions);\n\nwebAuthN.metaDataService()\n  .fetchTOC()\n  .onSuccess(allOk -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// if all metadata was downloaded and parsed correctly allOk is true\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// the processing will not stop if a entry is corrupt, in that case that\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// specific entry is skipped and the flag is false. That also means that\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// that entry will be tagged and \u0026quot;not trustable\u0026quot; as we can\u0026#x27;t make any\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// valid decision.\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_updating_certificates\"\u003e\u003ca class=\"anchor\" href=\"#_updating_certificates\"\u003e\u003c/a\u003eUpdating Certificates\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAlmost all device attestations are based on \u003ccode\u003eX509\u003c/code\u003e Certificate checks. This means that certificates can and will expire\nat some point in time. By default, the current \"Active\" certificates are hardcoded on the \u003ccode\u003eWebAuthnOptions\u003c/code\u003e object.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHowever if your application needs to update a certificate on it\u0026#8217;s own, say for example, use a more up to date one, or\nanother with a different cypher, then you can replace the default \u003ccode\u003eroot\u003c/code\u003e certificates for each attestation by calling:\n\u003ccode\u003eWebAuthnOptions.putRootCertificate(String, String)\u003c/code\u003e, where the first parameter is the attestation name or \"mds\" for\nFIDO MetaData Service:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003enone\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eu2f\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003epacked\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eandroid-key\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eandroid-safetynet\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003etpm\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eapple\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003emds\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAnd the second the PEM formatted X509 Certificate (Boundaries are not required).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003efinal\u003c/span\u003e WebAuthnOptions webAuthnOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e WebAuthnOptions()\n  \u003cspan class=\"hljs-comment\"\u003e// fido2 MDS custom ROOT certificate\u003c/span\u003e\n  .putRootCertificate(\u003cspan class=\"hljs-string\"\u003e\u0026quot;mds\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;MIIB1jCCAV0CAQEwCg...\u0026quot;\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e// updated google root certificate from (https://pki.goog/repository/)\u003c/span\u003e\n  .putRootCertificate(\u003cspan class=\"hljs-string\"\u003e\u0026quot;android-safetynet\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;MIIDvDCCAqSgAwIBAgINAgPk9GHs...\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"4.2.0"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["4.2.0","vertx-auth-webauthn","java"]},"buildId":"-M-NrwC1m2c35-dAJ4ExC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>