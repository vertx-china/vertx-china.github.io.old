<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&amp;display=swap"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>MySQL 客户端 | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/eclipse-vertx/vertx-sql-client" as="fetch" crossorigin="anonymous" class="jsx-1153611384"/><meta name="next-head-count" content="14"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-0e0f5c5c9fa5a29e0d78.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-791d360c4f713077c3d6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0727c67bedbbb4c22e4a.js" defer=""></script><script src="/_next/static/chunks/615-6d6ca750e2a9fa60adea.js" defer=""></script><script src="/_next/static/chunks/619-e0ac0bb7086baf39108f.js" defer=""></script><script src="/_next/static/chunks/934-2dc74a92af3e0e391096.js" defer=""></script><script src="/_next/static/chunks/31-bb0d9e1106ba3e8c65f3.js" defer=""></script><script src="/_next/static/chunks/907-d39714cf33915623d5b3.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-4918292890b836d7a66a.js" defer=""></script><script src="/_next/static/cmnz8BM9Df44lCybAh54T/_buildManifest.js" defer=""></script><script src="/_next/static/cmnz8BM9Df44lCybAh54T/_ssgManifest.js" defer=""></script><style id="__jsx-1030027079">.dropdown-item.jsx-1030027079{white-space:nowrap;line-height:2;width:100%;padding:0 1.5rem;cursor:pointer;}.dropdown-item.jsx-1030027079:hover{background-color:#e9ecef;}.dropdown-item.active.jsx-1030027079{font-weight:400;padding-left:0.75rem;}.dropdown-item.has-active-siblings.jsx-1030027079:not(.active){padding-left:calc(0.75rem + 16px + 0.5em);}.dropdown-item.jsx-1030027079 .dropdown-check-icon.jsx-1030027079{width:16px;margin-right:0.5em;margin-top:1px;}</style><style id="__jsx-3534061111">.dropdown.jsx-3534061111{position:relative;display:inline-block;}.dropdown.jsx-3534061111 .dropdown-title.jsx-3534061111{margin-right:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111{position:absolute;background-color:#f8f9fa;box-shadow:0 2px 5px 0 rgba(0,0,0,0.1);border-radius:0.8rem;list-style-type:none;padding:0.6666666667rem 0;margin:0.25rem 0 0 0;z-index:100;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111 a{color:#4d4d4d;-webkit-text-decoration:none;text-decoration:none;font-weight:300;}.dropdown.jsx-3534061111 .dropdown-menu.align-right.jsx-3534061111{right:0;}.dropdown.jsx-3534061111 .dropdown-menu.visible.jsx-3534061111{display:block;}.dropdown.jsx-3534061111 .dropdown-menu.jsx-3534061111 a.jsx-3534061111:hover{color:inherit;}.dropdown.jsx-3534061111 svg{margin-bottom:2px;}</style><style id="__jsx-3537117450">.navbar{position:absolute;top:2.75rem;width:100%;}.navbar a{color:#3c3c3b;}.navbar a.navbar-menu-item,.navbar .dropdown-title{text-transform:uppercase;}.navbar a.navbar-menu-item:hover,.navbar .dropdown-title:hover{-webkit-text-decoration:none;text-decoration:none;color:#898987;-webkit-transition:color 0.15s ease-in-out;transition:color 0.15s ease-in-out;}.navbar .navbar-content{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}.navbar .navbar-content .navbar-logo{-webkit-flex:1;-ms-flex:1;flex:1;}.navbar .navbar-content .navbar-logo img{width:8.3rem;}.navbar .navbar-content .navbar-collapse-button{display:none;cursor:pointer;}@media (max-width:1000px){.navbar .navbar-content .navbar-collapse-button{display:inline-block;}}.navbar .navbar-content .navbar-collapse-button span{display:block;width:33px;height:4px;margin-bottom:5px;position:relative;background:#3c3c3b;border-radius:3px;z-index:1;-webkit-transform-origin:4px 0;-ms-transform-origin:4px 0;transform-origin:4px 0;-webkit-transition:-webkit-transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;-webkit-transition:transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;transition:transform 0.5s cubic-bezier(0.77,0.2,0.05,1),background 0.5s cubic-bezier(0.77,0.2,0.05,1),opacity 0.55s ease;}.navbar .navbar-content .navbar-collapse-button span:first-child{-webkit-transform-origin:0% 0%;-ms-transform-origin:0% 0%;transform-origin:0% 0%;}.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2){-webkit-transform-origin:0% 100%;-ms-transform-origin:0% 100%;transform-origin:0% 100%;}.navbar .navbar-content .navbar-right{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;margin-bottom:10px;}@media (max-width:1000px){.navbar .navbar-content .navbar-right{max-height:0;-webkit-transition:max-height 200ms ease-in-out;transition:max-height 200ms ease-in-out;box-shadow:0 2px 5px 0 rgba(0,0,0,0.1);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;top:2.75rem;left:0.8rem;right:0.8rem;background-color:#f8f9fa;overflow-x:auto;overflow-y:hidden;}}.navbar .navbar-content .navbar-menu .navbar-menu-item{font-weight:400;margin-right:2.5rem;}.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down{margin-right:1.8rem;}@media (max-width:1250px){.navbar .navbar-content .navbar-menu .navbar-menu-item{margin-right:1.5rem;}}@media (max-width:1000px){.navbar .navbar-content .navbar-menu .navbar-menu-item{display:block;margin-bottom:1rem;font-size:1.2rem;}}.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon{margin-left:0.25em;}@media (max-width:1000px){.navbar .navbar-content .navbar-menu{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:1rem;}}.navbar .navbar-content .navbar-social{margin-left:1.6rem;font-size:0.875rem;}.navbar .navbar-content .navbar-social svg{height:16px;margin-bottom:2px;}@media (max-width:1000px){.navbar .navbar-content .navbar-social svg{height:1rem;}}@media (max-width:1250px){.navbar .navbar-content .navbar-social{margin-left:1rem;}}@media (max-width:1000px){.navbar .navbar-content .navbar-social{margin-left:auto;padding:0 1rem 1rem 0;font-size:1rem;}}@media (max-width:768px){.navbar{top:1rem;}}.page .navbar{top:0;padding-top:1.5rem;padding-bottom:1rem;position:fixed;background-color:#fff;z-index:2;}</style><style id="__jsx-2520609189">.search input{color:#adb5bd;border:1px solid #dee2e6;border-radius:0.4rem;font-size:0.875rem;padding:0.25rem 1.8rem 0.35rem 1.8rem;width:100%;-webkit-transition:color 0.15s ease-in-out,border-color 0.15s ease-in-out;transition:color 0.15s ease-in-out,border-color 0.15s ease-in-out;}.search input:focus{border-color:#adb5bd;color:#3c3c3b;}.search .search-icon,.search .search-icon-delete{position:absolute;top:0.55rem;height:1rem;stroke:#adb5bd;-webkit-transition:stroke 0.15s ease-in-out;transition:stroke 0.15s ease-in-out;}.search .search-icon{left:0.4rem;}.search input:focus+.search-icon{stroke:#6f6970;}.search .search-icon-delete{stroke:#6f6970;right:0.4rem;height:0.75rem;top:0.7rem;opacity:0;-webkit-transition:opacity 0.15s ease-in-out;transition:opacity 0.15s ease-in-out;cursor:text;}.search.has-content .search-icon-delete{opacity:1;cursor:pointer;}</style><style id="__jsx-4212053455">.search-results,.search-results-none{font-size:0.875rem;overflow:auto;list-style-type:none;padding-left:0;display:none;}.search-results.visible,.search-results-none.visible{display:block;}.search-results{list-style-type:none;padding:0;margin-bottom:0;}.search-results li{display:block;padding:0.5rem;margin-bottom:1rem;border-radius:0.4rem;border:1px solid transparent;cursor:pointer;}.search-results li.active{background-color:#f8f9fa;border:1px solid #e9ecef;}.search-results li h5{margin:0 0 0.5rem 0;font-size:1em;}.search-results li .search-results-highlight{background-color:yellow;}.search-results-none{padding:1rem 0.5rem;text-align:center;width:100%;}</style><style id="__jsx-2599647406">.search-panel{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;}</style><style id="__jsx-1153611384">.github-stars.jsx-1153611384{display:inline-block;}.github-stars.jsx-1153611384 .icon.jsx-1153611384{margin-right:0.25em;}.github-stars.jsx-1153611384 .icon.jsx-1153611384 svg{height:1rem;}</style><style id="__jsx-2956426442">.label{background-color:#782b90;color:#fff;padding:0.22rem 0.5rem 0.3rem 0.5rem;border-radius:0.8rem;}.label.dark{background-color:#3c3c3b;}.label.small,.label.tiny{font-size:0.875rem;border-radius:0.7rem;}.label.tiny{line-height:1em;border-radius:0.4rem;}.label.nowrap{white-space:nowrap;}</style><style id="__jsx-1771812074">footer{font-size:0.875rem;padding-top:3rem;padding-bottom:4rem;background-color:#f8f9fa;border-top:1px solid #dee2e6;margin-top:1rem;color:#6f6970;}footer h5{font-size:1rem;margin-top:0;margin-bottom:1rem;color:#3c3c3b;text-transform:uppercase;}footer ul{padding:0;list-style:none;line-height:2;}footer a{color:#6f6970;}footer .footer-logo img,footer .footer-copyright-eclipse-logo img{-webkit-filter:grayscale(100);filter:grayscale(100);opacity:0.5;-webkit-transition:all 0.15s ease-in-out;transition:all 0.15s ease-in-out;}footer .footer-logo img:hover,footer .footer-copyright-eclipse-logo img:hover{-webkit-filter:grayscale(0);filter:grayscale(0);opacity:1;}footer .footer-nav-section{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-bottom:6rem;}footer .footer-nav-section .footer-logo{margin-top:0.4rem;}footer .footer-nav-section .footer-logo img{width:8.3rem;}footer .footer-nav-section .footer-nav-list{width:20%;}footer .footer-copyright{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}footer .footer-copyright a{white-space:nowrap;}footer .footer-copyright .footer-copyright-eclipse-logo{width:17%;margin-bottom:0.5rem;}@media (max-width:1250px){footer .footer-copyright .footer-copyright-break{display:none;}footer .footer-copyright .footer-copyright-eclipse-logo{width:30%;}}@media (max-width:1000px){footer .footer-nav-section .footer-nav-list{width:25%;}footer .footer-copyright .footer-copyright-break{display:inline-block;}footer .footer-copyright .footer-copyright-eclipse-logo{width:40%;}}@media (max-width:768px){footer .footer-nav-section{max-width:100%;margin-left:auto;margin-right:auto;}}@media (max-width:640px){footer .footer-nav-section{max-width:80%;margin-bottom:3rem;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}footer .footer-nav-section h5{cursor:pointer;}footer .footer-nav-section h5::after{display:inline-block;content:"";border-top:0.4em solid;border-right:0.4em solid transparent;border-bottom:0;border-left:0.4em solid transparent;position:absolute;top:0.75rem;right:0;}footer .footer-nav-section .footer-nav-list{width:100%;position:relative;}footer .footer-nav-section .footer-nav-list ul{overflow-y:hidden;max-height:0;-webkit-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out;}footer .footer-nav-section .footer-nav-list ul.visible{margin-bottom:2rem;}footer .footer-nav-section .footer-logo{margin:0 auto 3rem auto;width:auto;}footer .footer-copyright{max-width:80%;text-align:center;margin-left:auto;margin-right:auto;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;}footer .footer-copyright .footer-copyright-eclipse-logo{width:7.6rem;margin-bottom:1rem;}}</style><style id="__jsx-4280303685">.page-content{margin-top:6em;margin-bottom:8rem;}.docs .docs-content .docs-content-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 17rem;-ms-flex:0 0 17rem;flex:0 0 17rem;}.docs .docs-content .docs-content-wrapper aside .docs-content-wrapper-sidebar{position:-webkit-sticky;position:sticky;top:7em;}.docs .docs-content .docs-content-wrapper aside .search-panel{margin-top:1rem;width:100%;}.docs .docs-content .docs-content-wrapper aside .search-panel .search-results{max-height:calc(100vh - 10rem - 1px);}.docs .docs-content .docs-content-wrapper aside .docs-content-toc{margin-top:1rem;overflow-y:auto;max-height:calc(100vh - 10rem - 3px);}.docs .docs-content .docs-content-wrapper aside .docs-content-toc #toctitle{display:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul{margin-top:0;padding-left:0;list-style-type:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul.sectlevel2{display:none;}.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul li{padding:0.3333333333rem 0;}.docs .docs-content .docs-content-wrapper aside.docs-has-search-results .docs-content-toc{display:none;}@media (max-width:1250px){.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 15rem;-ms-flex:0 0 15rem;flex:0 0 15rem;}}@media (max-width:1000px){.docs .docs-content .docs-content-wrapper aside{z-index:1;position:fixed;top:0;right:0;width:25rem;height:100vh;max-width:100%;padding-top:6rem;padding-left:2rem;padding-right:2rem;background-color:#fff;border-left:1px solid #dee2e6;-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);-webkit-transition:-webkit-transform 200ms ease-in-out;-webkit-transition:transform 200ms ease-in-out;transition:transform 200ms ease-in-out;will-change:transform;}.docs .docs-content .docs-content-wrapper aside.collapse{-webkit-transform:translateX(0%);-ms-transform:translateX(0%);transform:translateX(0%);}}@media (max-width:640px){.docs .docs-content .docs-content-wrapper aside{min-width:100%;border-left:none;}}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{z-index:1000;cursor:pointer;display:none;position:fixed;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;right:2rem;bottom:2rem;color:#fff;background-color:#4d4d4d;padding:0.5rem;border-radius:0.8rem;-webkit-transition:background-color 0.15s ease-in-out;transition:background-color 0.15s ease-in-out;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-list,.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{display:block;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{position:absolute;left:0;top:0;opacity:0;-webkit-transition:opacity 0.15s ease-in-out;transition:opacity 0.15s ease-in-out;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle:hover{background-color:#3c3c3b;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-list{opacity:0;}.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-x{opacity:1;}@media (max-width:1000px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}@media (max-width:640px){.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{right:1rem;bottom:1rem;}}.docs .docs-content .docs-content-inner{max-width:calc(100% - 19.5rem);overflow:hidden;}.docs .docs-content .docs-content-inner .docs-content-metadata{margin-top:1.2rem;margin-bottom:1.2rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-repo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex:1;-ms-flex:1;flex:1;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*{margin-right:2rem;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*:last-child{margin-right:0;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#6f6970;white-space:nowrap;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a:hover{color:#782b90;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a .feather{margin-right:0.25em;height:1rem;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:1rem;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}@media (min-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:16px;margin-bottom:-2px;}@media (max-width:1000px){.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:1rem;margin-bottom:-1px;}}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a{-webkit-text-decoration:none;text-decoration:none;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a:hover{color:#6f6970;}.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-label{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-left:2rem;}.docs .docs-content .docs-content-inner h1{padding-top:0;margin-top:0.6rem;line-height:1.2;}.docs .docs-content .docs-content-inner h1::after{content:"";width:30%;display:block;border:2px solid #782b90;border-radius:2px;margin-top:1.1rem;}.docs .docs-content .docs-content-inner .ulist>ul{padding-left:1.1rem;}.docs .docs-content .docs-content-inner h2{border-top:1px solid #dee2e6;margin-top:5rem;padding-top:2rem;}.docs .docs-content .docs-content-inner h3,.docs .docs-content .docs-content-inner h4{margin-top:3rem;}@media (max-width:1250px){.docs .docs-content .docs-content-inner{max-width:calc(100% - 17.5rem);}}@media (max-width:1000px){.docs .docs-content .docs-content-inner{max-width:100%;}}.docs .docs-content .admonitionblock{border-top-right-radius:0.8rem;border-bottom-right-radius:0.8rem;background-color:#f8f9fa;padding:1rem;margin:1.5rem 0;border-left:9px solid transparent;}.docs .docs-content .admonitionblock.note,.docs .docs-content .admonitionblock.tip{border-color:#6cb9f0;}.docs .docs-content .admonitionblock.important,.docs .docs-content .admonitionblock.warning,.docs .docs-content .admonitionblock.caution{border-color:#f0a46c;}.docs .docs-content .admonitionblock tr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.docs .docs-content .admonitionblock .title{font-weight:400;}.docs .docs-content .admonitionblock .title::after{content:":";}.docs .docs-content dt{font-weight:400;}.docs .docs-content .anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none;}.docs .docs-content .anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:0.45rem;}.docs .docs-content .anchor:hover{opacity:1;}.docs .docs-content h2:hover .anchor,.docs .docs-content h3:hover .anchor,.docs .docs-content h4:hover .anchor,.docs .docs-content h5:hover .anchor,.docs .docs-content h6:hover .anchor{opacity:1;}.docs .docs-content h1 .anchor{display:none;}.docs .docs-content h4 .anchor::after,.docs .docs-content h5 .anchor::after,.docs .docs-content h6 .anchor::after{padding-right:0.6rem;}</style><style id="__jsx-3977862379">{/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */}html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0;}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto;}[type=search]{-webkit-appearance:textfield;outline-offset:-2px;}[type=search]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none;}.hljs,pre{display:block;overflow-x:auto;padding:0.5em;background:#3a2840;color:#fff;}.hljs.language-shell:not(.bash)+.bash,pre.language-shell:not(.bash)+.bash,.hljs.language-better-shell:not(.bash)+.bash,pre.language-better-shell:not(.bash)+.bash{color:#d2a8e0;}pre{border-radius:0.8rem;padding:1rem;font-size:0.875rem;margin:1.5rem 0;}.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#d2a8e0;}.hljs-template-tag{color:#f00;}.hljs-number{color:#6cb9f0;}.hljs-variable,.hljs-template-variable,.hljs-attribute,.hljs-literal{color:#c9e5f9;}.hljs-subst{color:#f00;}.hljs-title,.hljs-name,.hljs-selector-id,.hljs-selector-class,.hljs-section,.hljs-type{color:#f0a46c;}.hljs-symbol,.hljs-bullet,.hljs-link{color:#d2a8e0;}.hljs-deletion,.hljs-string,.hljs-built_in,.hljs-builtin-name{color:#6cb9f0;}.hljs-addition,.hljs-comment,.hljs-quote,.hljs-meta{color:#adb5bd;}.hljs-emphasis{font-style:italic;}.hljs-strong{font-weight:bold;}#nprogress{pointer-events:none;}#nprogress .bar{background:#29d;position:fixed;z-index:1031;top:0;left:0;width:100%;height:2px;}#nprogress .peg{display:block;position:absolute;right:0px;width:100px;height:100%;box-shadow:0 0 10px #29d,0 0 5px #29d;opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px);}#nprogress .spinner{display:block;position:fixed;z-index:1031;top:15px;right:15px;}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:solid 2px transparent;border-top-color:#29d;border-left-color:#29d;border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite;}.nprogress-custom-parent{overflow:hidden;position:relative;}.nprogress-custom-parent #nprogress .spinner,.nprogress-custom-parent #nprogress .bar{position:absolute;}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);}}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}#nprogress .bar{background:#782b90;}#nprogress .peg{box-shadow:0 0 10px #782b90,0 0 5px #782b90;}#nprogress .spinner-icon{border-top-color:#782b90;border-left-color:#782b90;}html{box-sizing:border-box;}*,*::before,*::after{box-sizing:inherit;}:root{font-size:18px;}@media (max-width:1000px){:root{font-size:17.1px;}}@media (max-width:768px){:root{font-size:16.2px;}}@media (max-width:640px){:root{font-size:15.3px;}}body,input{font-family:"Roboto",sans-serif;font-weight:300;line-height:1.7;color:#3c3c3b;}input{outline:none;}h1,h2,h3,h4,h5,h6{font-weight:400;}h1{font-size:2.5rem;}h2{font-size:2rem;}h3{font-size:1.75rem;}h4{font-size:1.5rem;}h5{font-size:1.25rem;}h6{font-size:1.1rem;}.container{width:100%;padding-right:0.8rem;padding-left:0.8rem;margin-right:auto;margin-left:auto;}@media (min-width:640px){.container{max-width:620px;}}@media (min-width:768px){.container{max-width:738px;}}@media (min-width:1000px){.container{max-width:950px;}}@media (min-width:1250px){.container{max-width:1180px;}}@media (min-width:1250px){.container-narrow{max-width:950px;}}.img-fluid{max-width:100%;}a{-webkit-text-decoration:none;text-decoration:none;color:#782b90;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;color:#571f69;}img{vertical-align:middle;}svg{overflow:hidden;vertical-align:middle;}code,pre{font-family:"Roboto Mono",SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}p code{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:100%;overflow:auto;}.heading-anchor{opacity:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;outline:none;}.heading-anchor::after{content:"#";position:absolute;margin-left:-1.5rem;color:#ced4da;padding-right:0.45rem;}.heading-anchor:hover{opacity:1;}h2:hover .heading-anchor,h3:hover .heading-anchor,h4:hover .heading-anchor,h5:hover .heading-anchor,h6:hover .heading-anchor{opacity:1;}h1 .heading-anchor{display:none;}h4 .heading-anchor::after,h5 .heading-anchor::after,h6 .heading-anchor::after{padding-right:0.6rem;}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2021-11-17T03:45:25.081Z" data-build-commit-id="46b069094a46c90d4063522dbbc2b8b65eee7e84" data-build-run-id="1469926196"><div id="__next"><main class="jsx-4280303685 page docs"><header><div class="jsx-3537117450 navbar"><div class="jsx-3537117450 navbar-content container"><div class="jsx-3537117450 navbar-logo"><a class="jsx-3537117450" href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyMzIuNiAzMTUuMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi5zdDB7ZmlsbDojNzgyYTkxfTwvc3R5bGU+PHBhdGggZD0iTTEyMC45IDIxNC4yIDE5MC41IDBoNTIuM2wtOTguNSAyNzMuOEg5OC4yTDAgMGg1Mi4xbDY4LjggMjE0LjJ6bTI5MS4yLTYyLjZIMjk5LjZ2ODQuMkg0MzF2MzhIMjUyVjBoMTc3Ljd2MzguNEgyOTkuNlYxMTRoMTEyLjV2MzcuNnptODMuNy0xMTMuMkg1NDZjMTYuNS4zIDI5IDQuNCAzNy4zIDEyLjQgOC4zIDggMTIuNSAxOS40IDEyLjUgMzQgMCAxNC00LjUgMjUuMS0xMy41IDMzLjItOSA4LjEtMjEuNiAxMi4xLTM3LjYgMTIuMWgtMjcuMXYyNC4ybDg2LjEgMTE5LjVoNTF2LTIuNGwtNzcuMi0xMDYuN2MyNC45LTUuNSA0My4zLTIxLjcgNTIuNi0zNS45IDguMi0xMi42IDEzLjMtMjcuNyAxMy4zLTQ2IDAtMjYuOC04LjYtNDcuNC0yNS44LTYxLjVDNjAwLjUgNy4xIDU3Ni4xIDAgNTQ0LjUgMGgtOTYuM3YyNzMuOGg0Ny42Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0ibTEwNTIuMyAxNTcuNy00MS41IDYyLjcgMjkuNyA1My40aDg1LjF6Ii8+PGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iODI3LjkiIGN5PSIyNzQuNyIgcj0iNDAuNSIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Im0xMDM3IDAtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo" class="jsx-3537117450"/></a></div><div class="jsx-3537117450 navbar-collapse-button"><span class="jsx-3537117450"></span><span class="jsx-3537117450"></span><span class="jsx-3537117450"></span></div><div class="jsx-3537117450 navbar-right"><div class="jsx-3537117450 navbar-menu"><span class="jsx-3537117450 navbar-menu-item with-drop-down"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu"><a class="jsx-3537117450" href="/introduction-to-vertx-and-reactive/"><li class="jsx-1030027079 dropdown-item">简介</li></a><a class="jsx-3537117450" href="/get-started/"><li class="jsx-1030027079 dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-3537117450 navbar-menu-item" href="/docs/">文档</a><span class="jsx-3537117450 navbar-menu-item with-drop-down"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu"><a class="jsx-3537117450" href="/faq/"><li class="jsx-1030027079 dropdown-item">答疑</li></a><a class="jsx-3537117450" href="/channels/"><li class="jsx-1030027079 dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-3537117450"><li class="jsx-1030027079 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-3537117450 navbar-menu-item" href="/blog/">博客</a><a class="jsx-3537117450 navbar-menu-item" href="/community/">社区</a><a class="jsx-3537117450 navbar-menu-item" href="/translation/">翻译团队</a></div><div class="jsx-3537117450 navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" title="Stack Overflow" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>stackoverflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" title="YouTube" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>youtube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a><a href="https://discord.gg/KzEMwP2" title="Discord" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer" class="jsx-3537117450 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="jsx-4280303685 page-content docs-content"><div class="jsx-4280303685 container"><div class="jsx-4280303685 docs-content-wrapper"><aside class="jsx-4280303685 "><div class="jsx-4280303685 docs-content-wrapper-sidebar"><div class="jsx-2599647406 search-panel"><div class="jsx-2520609189 search"><input type="text" placeholder="Search..." value="" class="jsx-2520609189"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-4212053455 search-results"></ul><div class="jsx-4212053455 search-results-none">No results.</div></div><div class="jsx-4280303685 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_usage">Usage</a></li>
<li><a href="#_getting_started">Getting started</a></li>
<li><a href="#_connecting_to_mysql">Connecting to MySQL</a></li>
<li><a href="#_configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#_data_object">Data Object</a></li>
<li><a href="#_connection_uri">connection URI</a></li>
</ul>
</li>
<li><a href="#_running_queries">Running queries</a>
<ul class="sectlevel2">
<li><a href="#_prepared_queries">Prepared queries</a></li>
<li><a href="#_batches">Batches</a></li>
</ul>
</li>
<li><a href="#_mysql_last_insert_id">MySQL LAST_INSERT_ID</a></li>
<li><a href="#_using_connections">Using connections</a></li>
<li><a href="#_using_transactions">Using transactions</a>
<ul class="sectlevel2">
<li><a href="#_transactions_with_connections">Transactions with connections</a></li>
<li><a href="#_simplified_transaction_api">Simplified transaction API</a></li>
</ul>
</li>
<li><a href="#_cursors_and_streaming">Cursors and streaming</a></li>
<li><a href="#_mysql_type_mapping">MySQL type mapping</a>
<ul class="sectlevel2">
<li><a href="#_implicit_type_conversion">Implicit type conversion</a></li>
<li><a href="#_handling_boolean">Handling BOOLEAN</a></li>
<li><a href="#_handling_json">Handling JSON</a></li>
<li><a href="#_handling_bit">Handling BIT</a></li>
<li><a href="#_handling_time">Handling TIME</a></li>
<li><a href="#_handling_numeric">Handling NUMERIC</a></li>
</ul>
</li>
<li><a href="#_collector_queries">Collector queries</a></li>
<li><a href="#_mysql_stored_procedure">MySQL Stored Procedure</a></li>
<li><a href="#_mysql_local_infile">MySQL LOCAL INFILE</a></li>
<li><a href="#_authentication">Authentication</a></li>
<li><a href="#_using_ssltls">Using SSL/TLS</a></li>
<li><a href="#_mysql_utility_command">MySQL utility command</a>
<ul class="sectlevel2">
<li><a href="#_com_ping">COM_PING</a></li>
<li><a href="#_com_reset_connection">COM_RESET_CONNECTION</a></li>
<li><a href="#_com_change_user">COM_CHANGE_USER</a></li>
<li><a href="#_com_init_db">COM_INIT_DB</a></li>
<li><a href="#_com_statistics">COM_STATISTICS</a></li>
<li><a href="#_com_debug">COM_DEBUG</a></li>
<li><a href="#_com_set_option">COM_SET_OPTION</a></li>
</ul>
</li>
<li><a href="#_mysql_and_mariadb_version_support_matrix">MySQL and MariaDB version support matrix</a></li>
<li><a href="#_pitfalls_good_practices">Pitfalls &amp; Good Practices</a>
<ul class="sectlevel2">
<li><a href="#_prepared_statement_count_limit">prepared statement count limit</a></li>
<li><a href="#_demystifying_prepared_batch">demystifying prepared batch</a></li>
<li><a href="#_tricky_date_time_data_types">tricky DATE &amp; TIME data types</a></li>
</ul>
</li>
</ul>
</div></div></div></aside><div class="jsx-4280303685 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-4280303685"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-4280303685 docs-content-inner"><div class="jsx-4280303685 docs-content-metadata"><div class="jsx-4280303685 docs-content-metadata-left"><div class="jsx-4280303685 docs-content-metadata-repo"><div class="jsx-1153611384 github-stars"><a href="https://github.com/eclipse-vertx/vertx-sql-client" class="jsx-1153611384"><div class="jsx-1153611384 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->null stars</a></div></div><div class="jsx-4280303685"><a href="https://vertx.io/docs/apidocs" class="jsx-4280303685"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="jsx-4280303685 docs-content-metadata-examples"><a href="https://github.com/vert-x3/vertx-examples/tree/3.x/reactive-sql-client-examples"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg> Examples</a></div><div class="jsx-4280303685 docs-content-metadata-edit"><a href="https://github.com/eclipse-vertx/vertx-sql-client/tree/master/vertx-mysql-client/src/main/asciidoc"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> 改进翻译</a></div><span class="jsx-4280303685 docs-content-metadata-version"><div class="jsx-3534061111 dropdown"><a class="jsx-3534061111 dropdown-title">v4.2.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-3534061111 dropdown-menu align-right"><a href="/docs/vertx-mysql-client/java/"><li class="jsx-1030027079 dropdown-item active has-active-siblings"><span class="jsx-1030027079 dropdown-check-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span>Latest (v<!-- -->4.2.0<!-- -->)</li></a><a href="/docs/4.1.5/vertx-mysql-client/java/"><li class="jsx-1030027079 dropdown-item has-active-siblings">v<!-- -->4.1.5</li></a><a href="/docs/4.0.3/vertx-mysql-client/java/"><li class="jsx-1030027079 dropdown-item has-active-siblings">v<!-- -->4.0.3</li></a><a href="/docs/3.9.9/vertx-mysql-client/java/"><li class="jsx-1030027079 dropdown-item has-active-siblings">v<!-- -->3.9.9</li></a></ul></div></span></div><div class="jsx-4280303685 docs-content-metadata-label"><div class="jsx-2956426442 label small nowrap">技术预览</div></div></div><div class="jsx-4280303685"><h1>Reactive MySQL Client</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Reactive MySQL Client is a client for MySQL with a straightforward API focusing on
scalability and low overhead.</p>
</div>
<div class="paragraph">
<p><strong>Features</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Event driven</p>
</li>
<li>
<p>Lightweight</p>
</li>
<li>
<p>Built-in connection pooling</p>
</li>
<li>
<p>Prepared queries caching</p>
</li>
<li>
<p>Cursor support</p>
</li>
<li>
<p>Row streaming</p>
</li>
<li>
<p>RxJava 1 and RxJava 2</p>
</li>
<li>
<p>Direct memory to object without unnecessary copies</p>
</li>
<li>
<p>Java 8 Date and Time</p>
</li>
<li>
<p>Stored Procedures support</p>
</li>
<li>
<p>TLS/SSL support</p>
</li>
<li>
<p>MySQL utilities commands support</p>
</li>
<li>
<p>Working with MySQL and MariaDB</p>
</li>
<li>
<p>Rich collation and charset support</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage"><a class="anchor" href="#_usage"></a>Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the Reactive MySQL Client add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-mysql-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
 compile <span class="hljs-string">&#x27;io.vertx:vertx-mysql-client:3.9.1&#x27;</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is the simplest way to connect, query and disconnect</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>);

<span class="hljs-comment">// Pool options</span>
PoolOptions poolOptions = <span class="hljs-keyword">new</span> PoolOptions()
  .setMaxSize(<span class="hljs-number">5</span>);

<span class="hljs-comment">// Create the client pool</span>
MySQLPool client = MySQLPool.pool(connectOptions, poolOptions);

<span class="hljs-comment">// A simple query</span>
client
  .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;julien&#x27;&quot;</span>)
  .execute(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; result = ar.result();
    System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + result.size() + <span class="hljs-string">&quot; rows &quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }

  <span class="hljs-comment">// Now close the pool</span>
  client.close();
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connecting_to_mysql"><a class="anchor" href="#_connecting_to_mysql"></a>Connecting to MySQL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most of the time you will use a pool to connect to MySQL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>);

<span class="hljs-comment">// Pool options</span>
PoolOptions poolOptions = <span class="hljs-keyword">new</span> PoolOptions()
  .setMaxSize(<span class="hljs-number">5</span>);

<span class="hljs-comment">// Create the pooled client</span>
MySQLPool client = MySQLPool.pool(connectOptions, poolOptions);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The pooled client uses a connection pool and any operation will borrow a connection from the pool
to execute the operation and release it to the pool.</p>
</div>
<div class="paragraph">
<p>If you are running with Vert.x you can pass it your Vertx instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>);

<span class="hljs-comment">// Pool options</span>
PoolOptions poolOptions = <span class="hljs-keyword">new</span> PoolOptions()
  .setMaxSize(<span class="hljs-number">5</span>);
<span class="hljs-comment">// Create the pooled client</span>
MySQLPool client = MySQLPool.pool(vertx, connectOptions, poolOptions);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to release the pool when you don&#8217;t need it anymore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">pool.close();</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you need to execute several operations on the same connection, you need to use a client
<code><a href="../../apidocs/io/vertx/mysqlclient/MySQLConnection.html">connection</a></code>.</p>
</div>
<div class="paragraph">
<p>You can easily get one from the pool:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>);

<span class="hljs-comment">// Pool options</span>
PoolOptions poolOptions = <span class="hljs-keyword">new</span> PoolOptions()
  .setMaxSize(<span class="hljs-number">5</span>);

<span class="hljs-comment">// Create the pooled client</span>
MySQLPool client = MySQLPool.pool(vertx, connectOptions, poolOptions);

<span class="hljs-comment">// Get a connection from the pool</span>
client.getConnection(ar1 -&gt; {

  <span class="hljs-keyword">if</span> (ar1.succeeded()) {

    System.out.println(<span class="hljs-string">&quot;Connected&quot;</span>);

    <span class="hljs-comment">// Obtain our connection</span>
    SqlConnection conn = ar1.result();

    <span class="hljs-comment">// All operations execute on the same connection</span>
    conn
      .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;julien&#x27;&quot;</span>)
      .execute(ar2 -&gt; {
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        conn
          .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;emad&#x27;&quot;</span>)
          .execute(ar3 -&gt; {
          <span class="hljs-comment">// Release the connection to the pool</span>
          conn.close();
        });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Release the connection to the pool</span>
        conn.close();
      }
    });
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Could not connect: &quot;</span> + ar1.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you are done with the connection you must close it to release it to the pool, so it can be reused.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are several alternatives for you to configure the client.</p>
</div>
<div class="sect2">
<h3 id="_data_object"><a class="anchor" href="#_data_object"></a>Data Object</h3>
<div class="paragraph">
<p>A simple way to configure the client is to specify a <code>MySQLConnectOptions</code> data object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>);

<span class="hljs-comment">// Pool Options</span>
PoolOptions poolOptions = <span class="hljs-keyword">new</span> PoolOptions().setMaxSize(<span class="hljs-number">5</span>);

<span class="hljs-comment">// Create the pool from the data object</span>
MySQLPool pool = MySQLPool.pool(vertx, connectOptions, poolOptions);

pool.getConnection(ar -&gt; {
  <span class="hljs-comment">// Handling your connection</span>
});</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_collations_and_character_sets"><a class="anchor" href="#_collations_and_character_sets"></a>collations and character sets</h4>
<div class="paragraph">
<p>The Reactive MySQL client supports configuring collations or character sets and map them to a correlative <code>java.nio.charset.Charset</code>.
For example, you can specify charset for a connection like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions();

<span class="hljs-comment">// set connection character set to utf8 instead of the default charset utf8mb4</span>
connectOptions.setCharset(<span class="hljs-string">&quot;utf8&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Reactive MySQL Client will take <code>utf8mb4</code> as the default charset. String values like password and error messages are always decoded in <code>UTF-8</code> charset.</p>
</div>
<div class="paragraph">
<p><code>characterEncoding</code> option is used to determine which Java charset will be used to encode String values such as query string and parameter values, the charset is <code>UTF-8</code> by default and if it&#8217;s set to <code>null</code> then the client will use the default Java charset instead.</p>
</div>
<div class="paragraph">
<p>You can also specify collation for a connection like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions();

<span class="hljs-comment">// set connection collation to utf8_general_ci instead of the default collation utf8mb4_general_ci</span>
<span class="hljs-comment">// setting a collation will override the charset option</span>
connectOptions.setCharset(<span class="hljs-string">&quot;gbk&quot;</span>);
connectOptions.setCollation(<span class="hljs-string">&quot;utf8_general_ci&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note setting a collation on the data object will override the <strong>charset</strong> and <strong>characterEncoding</strong> option.</p>
</div>
<div class="paragraph">
<p>You can execute SQL <code>SHOW COLLATION;</code> or <code>SHOW CHARACTER SET;</code> to get the supported collations and charsets by the server.</p>
</div>
<div class="paragraph">
<p>More information about MySQL charsets and collations can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/charset.html">MySQL Reference Manual</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_connection_attributes"><a class="anchor" href="#_connection_attributes"></a>connection attributes</h4>
<div class="paragraph">
<p>You can also configure the connection attributes with the <code>setProperties</code> or <code>addProperty</code> methods. Note <code>setProperties</code> will override the default client properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions connectOptions = <span class="hljs-keyword">new</span> MySQLConnectOptions();

<span class="hljs-comment">// Add a connection attribute</span>
connectOptions.addProperty(<span class="hljs-string">&quot;_java_version&quot;</span>, <span class="hljs-string">&quot;1.8.0_212&quot;</span>);

<span class="hljs-comment">// Override the attributes</span>
Map&lt;String, String&gt; attributes = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
attributes.put(<span class="hljs-string">&quot;_client_name&quot;</span>, <span class="hljs-string">&quot;myapp&quot;</span>);
attributes.put(<span class="hljs-string">&quot;_client_version&quot;</span>, <span class="hljs-string">&quot;1.0.0&quot;</span>);
connectOptions.setProperties(attributes);</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about client connection attributes can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/performance-schema-connection-attribute-tables.html">MySQL Reference Manual</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_useaffectedrows"><a class="anchor" href="#_useaffectedrows"></a>useAffectedRows</h4>
<div class="paragraph">
<p>You can configure the <code>useAffectedRows</code> option to decide whether to set <code>CLIENT_FOUND_ROWS</code> flag when connecting to the server. If the <code>CLIENT_FOUND_ROWS</code> flag is specified then the affected rows count is the numeric value of rows found rather than affected.</p>
</div>
<div class="paragraph">
<p>More information about this can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-affected-rows.html">MySQL Reference Manual</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_connection_uri"><a class="anchor" href="#_connection_uri"></a>connection URI</h3>
<div class="paragraph">
<p>Apart from configuring with a <code>MySQLConnectOptions</code> data object, We also provide you an alternative way to connect when you want to configure with a connection URI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String connectionUri = <span class="hljs-string">&quot;mysql://dbuser:secretpassword@database.server.com:3211/mydb&quot;</span>;

<span class="hljs-comment">// Create the pool from the connection URI</span>
MySQLPool pool = MySQLPool.pool(connectionUri);

<span class="hljs-comment">// Create the connection from the connection URI</span>
MySQLConnection.connect(vertx, connectionUri, res -&gt; {
  <span class="hljs-comment">// Handling your connection</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about connection string formats can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/connecting-using-uri-or-key-value-pairs.html#connecting-using-uri">MySQL Reference Manual</a>.</p>
</div>
<div class="paragraph">
<p>Currently the client supports the following parameter key words in connection uri(keys are case-insensitive)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>host</p>
</li>
<li>
<p>port</p>
</li>
<li>
<p>user</p>
</li>
<li>
<p>password</p>
</li>
<li>
<p>schema</p>
</li>
<li>
<p>socket</p>
</li>
<li>
<p>useAffectedRows</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_queries"><a class="anchor" href="#_running_queries"></a>Running queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you don&#8217;t need a transaction or run single queries, you can run queries directly on the pool; the pool
will use one of its connection to run the query and return the result to you.</p>
</div>
<div class="paragraph">
<p>Here is how to run simple queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;julien&#x27;&quot;</span>)
  .execute(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; result = ar.result();
    System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + result.size() + <span class="hljs-string">&quot; rows &quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_prepared_queries"><a class="anchor" href="#_prepared_queries"></a>Prepared queries</h3>
<div class="paragraph">
<p>You can do the same with prepared queries.</p>
</div>
<div class="paragraph">
<p>The SQL string can refer to parameters by position, using the database syntax `?`</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .preparedQuery(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=?&quot;</span>)
  .execute(Tuple.of(<span class="hljs-string">&quot;julien&quot;</span>), ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; rows = ar.result();
    System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + rows.size() + <span class="hljs-string">&quot; rows &quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Query methods provides an asynchronous <code><a href="../../apidocs/io/vertx/sqlclient/RowSet.html">RowSet</a></code> instance that works for <em>SELECT</em> queries</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .preparedQuery(<span class="hljs-string">&quot;SELECT first_name, last_name FROM users&quot;</span>)
  .execute(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; rows = ar.result();
    <span class="hljs-keyword">for</span> (Row row : rows) {
      System.out.println(<span class="hljs-string">&quot;User &quot;</span> + row.getString(<span class="hljs-number">0</span>) + <span class="hljs-string">&quot; &quot;</span> + row.getString(<span class="hljs-number">1</span>));
    }
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>or <em>UPDATE</em>/<em>INSERT</em> queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .preparedQuery(<span class="hljs-string">&quot;INSERT INTO users (first_name, last_name) VALUES (?, ?)&quot;</span>)
  .execute(Tuple.of(<span class="hljs-string">&quot;Julien&quot;</span>, <span class="hljs-string">&quot;Viet&quot;</span>), ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; rows = ar.result();
    System.out.println(rows.rowCount());
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/sqlclient/Row.html">Row</a></code> gives you access to your data by index</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">System.out.println(<span class="hljs-string">&quot;User &quot;</span> + row.getString(<span class="hljs-number">0</span>) + <span class="hljs-string">&quot; &quot;</span> + row.getString(<span class="hljs-number">1</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>or by name</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">System.out.println(<span class="hljs-string">&quot;User &quot;</span> + row.getString(<span class="hljs-string">&quot;first_name&quot;</span>) + <span class="hljs-string">&quot; &quot;</span> + row.getString(<span class="hljs-string">&quot;last_name&quot;</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The client will not do any magic here and the column name is identified with the name in the table regardless of how your SQL text is.</p>
</div>
<div class="paragraph">
<p>You can access a wide variety of of types</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String firstName = row.getString(<span class="hljs-string">&quot;first_name&quot;</span>);
Boolean male = row.getBoolean(<span class="hljs-string">&quot;male&quot;</span>);
Integer age = row.getInteger(<span class="hljs-string">&quot;age&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use cached prepared statements to execute one-shot prepared queries:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connectOptions.setCachePreparedStatements(<span class="hljs-keyword">true</span>);
client
  .preparedQuery(<span class="hljs-string">&quot;SELECT * FROM users WHERE id = ?&quot;</span>)
  .execute(Tuple.of(<span class="hljs-string">&quot;julien&quot;</span>), ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.succeeded()) {
      RowSet&lt;Row&gt; rows = ar.result();
      System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + rows.size() + <span class="hljs-string">&quot; rows &quot;</span>);
    } <span class="hljs-keyword">else</span> {
      System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
    }
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can create a <code>PreparedStatement</code> and manage the lifecycle by yourself.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">sqlConnection
  .prepare(<span class="hljs-string">&quot;SELECT * FROM users WHERE id = ?&quot;</span>, ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.succeeded()) {
      PreparedStatement preparedStatement = ar.result();
      preparedStatement.query()
        .execute(Tuple.of(<span class="hljs-string">&quot;julien&quot;</span>), ar2 -&gt; {
          <span class="hljs-keyword">if</span> (ar2.succeeded()) {
            RowSet&lt;Row&gt; rows = ar2.result();
            System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + rows.size() + <span class="hljs-string">&quot; rows &quot;</span>);
            preparedStatement.close();
          } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar2.cause().getMessage());
          }
        });
    } <span class="hljs-keyword">else</span> {
      System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
    }
  });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_batches"><a class="anchor" href="#_batches"></a>Batches</h3>
<div class="paragraph">
<p>You can execute prepared batch</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;Tuple&gt; batch = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
batch.add(Tuple.of(<span class="hljs-string">&quot;julien&quot;</span>, <span class="hljs-string">&quot;Julien Viet&quot;</span>));
batch.add(Tuple.of(<span class="hljs-string">&quot;emad&quot;</span>, <span class="hljs-string">&quot;Emad Alblueshi&quot;</span>));

<span class="hljs-comment">// Execute the prepared batch</span>
client
  .preparedQuery(<span class="hljs-string">&quot;INSERT INTO USERS (id, name) VALUES (?, ?)&quot;</span>)
  .executeBatch(batch, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {

    <span class="hljs-comment">// Process rows</span>
    RowSet&lt;Row&gt; rows = res.result();
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Batch failed &quot;</span> + res.cause());
  }
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_last_insert_id"><a class="anchor" href="#_mysql_last_insert_id"></a>MySQL LAST_INSERT_ID</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can get the auto incremented value if you insert a record into the table.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .query(<span class="hljs-string">&quot;INSERT INTO test(val) VALUES (&#x27;v1&#x27;)&quot;</span>)
  .execute(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; rows = ar.result();
    <span class="hljs-keyword">long</span> lastInsertId = rows.property(MySQLClient.LAST_INSERTED_ID);
    System.out.println(<span class="hljs-string">&quot;Last inserted id is: &quot;</span> + lastInsertId);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information can be found in <a href="https://dev.mysql.com/doc/refman/8.0/en/getting-unique-id.html">How to Get the Unique ID for the Last Inserted Row</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_connections"><a class="anchor" href="#_using_connections"></a>Using connections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you need to execute sequential queries (without a transaction), you can create a new connection
or borrow one from the pool:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">pool.getConnection(ar1 -&gt; {
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    SqlConnection connection = ar1.result();

    connection
      .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;julien&#x27;&quot;</span>)
      .execute(ar2 -&gt; {
      <span class="hljs-keyword">if</span> (ar1.succeeded()) {
        connection
          .query(<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;paulo&#x27;&quot;</span>)
          .execute(ar3 -&gt; {
          <span class="hljs-comment">// Do something with rows and return the connection to the pool</span>
          connection.close();
        });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Return the connection to the pool</span>
        connection.close();
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Prepared queries can be created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.prepare(<span class="hljs-string">&quot;SELECT * FROM users WHERE first_name LIKE ?&quot;</span>, ar1 -&gt; {
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    PreparedStatement prepared = ar1.result();
    prepared.query().execute(Tuple.of(<span class="hljs-string">&quot;julien&quot;</span>), ar2 -&gt; {
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        <span class="hljs-comment">// All rows</span>
        RowSet&lt;Row&gt; rows = ar2.result();
      }
    });
  }
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_transactions"><a class="anchor" href="#_using_transactions"></a>Using transactions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_transactions_with_connections"><a class="anchor" href="#_transactions_with_connections"></a>Transactions with connections</h3>
<div class="paragraph">
<p>You can execute transaction using SQL <code>BEGIN</code>/<code>COMMIT</code>/<code>ROLLBACK</code>, if you do so you must use
a <code><a href="../../apidocs/io/vertx/sqlclient/SqlConnection.html">SqlConnection</a></code> and manage it yourself.</p>
</div>
<div class="paragraph">
<p>Or you can use the transaction API of <code><a href="../../apidocs/io/vertx/sqlclient/SqlConnection.html">SqlConnection</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">pool.getConnection(res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {

    <span class="hljs-comment">// Transaction must use a connection</span>
    SqlConnection conn = res.result();

    <span class="hljs-comment">// Begin the transaction</span>
    Transaction tx = conn.begin();

    <span class="hljs-comment">// Various statements</span>
    conn
      .query(<span class="hljs-string">&quot;INSERT INTO Users (first_name,last_name) VALUES (&#x27;Julien&#x27;,&#x27;Viet&#x27;)&quot;</span>)
      .execute(ar1 -&gt; {
      <span class="hljs-keyword">if</span> (ar1.succeeded()) {
        conn
          .query(<span class="hljs-string">&quot;INSERT INTO Users (first_name,last_name) VALUES (&#x27;Emad&#x27;,&#x27;Alblueshi&#x27;)&quot;</span>)
          .execute(ar2 -&gt; {
          <span class="hljs-keyword">if</span> (ar2.succeeded()) {
            <span class="hljs-comment">// Commit the transaction</span>
            tx.commit(ar3 -&gt; {
              <span class="hljs-keyword">if</span> (ar3.succeeded()) {
                System.out.println(<span class="hljs-string">&quot;Transaction succeeded&quot;</span>);
              } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">&quot;Transaction failed &quot;</span> + ar3.cause().getMessage());
              }
              <span class="hljs-comment">// Return the connection to the pool</span>
              conn.close();
            });
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Return the connection to the pool</span>
            conn.close();
          }
        });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Return the connection to the pool</span>
        conn.close();
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the database server reports the current transaction is failed (e.g the infamous <em>current transaction is aborted, commands ignored until
end of transaction block</em>), the transaction is rollbacked and the <code><a href="../../apidocs/io/vertx/sqlclient/Transaction.html#abortHandler-io.vertx.core.Handler-">abortHandler</a></code>
is called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">tx.abortHandler(v -&gt; {
  System.out.println(<span class="hljs-string">&quot;Transaction failed =&gt; rollbacked&quot;</span>);
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_simplified_transaction_api"><a class="anchor" href="#_simplified_transaction_api"></a>Simplified transaction API</h3>
<div class="paragraph">
<p>When you use a pool, you can start a transaction directly on the pool.</p>
</div>
<div class="paragraph">
<p>It borrows a connection from the pool, begins the transaction and releases the connection to the pool when the transaction ends.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">pool.begin(res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {

    <span class="hljs-comment">// Get the transaction</span>
    Transaction tx = res.result();

    <span class="hljs-comment">// Various statements</span>
    tx.query(<span class="hljs-string">&quot;INSERT INTO Users (first_name,last_name) VALUES (&#x27;Julien&#x27;,&#x27;Viet&#x27;)&quot;</span>)
      .execute(ar1 -&gt; {
      <span class="hljs-keyword">if</span> (ar1.succeeded()) {
        tx.query(<span class="hljs-string">&quot;INSERT INTO Users (first_name,last_name) VALUES (&#x27;Emad&#x27;,&#x27;Alblueshi&#x27;)&quot;</span>)
          .execute(ar2 -&gt; {
          <span class="hljs-keyword">if</span> (ar2.succeeded()) {
            <span class="hljs-comment">// Commit the transaction</span>
            <span class="hljs-comment">// the connection will automatically return to the pool</span>
            tx.commit(ar3 -&gt; {
              <span class="hljs-keyword">if</span> (ar3.succeeded()) {
                System.out.println(<span class="hljs-string">&quot;Transaction succeeded&quot;</span>);
              } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">&quot;Transaction failed &quot;</span> + ar3.cause().getMessage());
              }
            });
          }
        });
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// No need to close connection as transaction will abort and be returned to the pool</span>
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
this code will not close the connection because it will always be released back to the pool when the transaction
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cursors_and_streaming"><a class="anchor" href="#_cursors_and_streaming"></a>Cursors and streaming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default prepared query execution fetches all rows, you can use a
<code><a href="../../apidocs/io/vertx/sqlclient/Cursor.html">Cursor</a></code> to control the amount of rows you want to read:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.prepare(<span class="hljs-string">&quot;SELECT * FROM users WHERE age &gt; ?&quot;</span>, ar1 -&gt; {
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    PreparedStatement pq = ar1.result();

    <span class="hljs-comment">// Create a cursor</span>
    Cursor cursor = pq.cursor(Tuple.of(<span class="hljs-number">18</span>));

    <span class="hljs-comment">// Read 50 rows</span>
    cursor.read(<span class="hljs-number">50</span>, ar2 -&gt; {
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        RowSet&lt;Row&gt; rows = ar2.result();

        <span class="hljs-comment">// Check for more ?</span>
        <span class="hljs-keyword">if</span> (cursor.hasMore()) {
          <span class="hljs-comment">// Repeat the process...</span>
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// No more rows - close the cursor</span>
          cursor.close();
        }
      }
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cursors shall be closed when they are released prematurely:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">cursor.read(<span class="hljs-number">50</span>, ar2 -&gt; {
  <span class="hljs-keyword">if</span> (ar2.succeeded()) {
    <span class="hljs-comment">// Close the cursor</span>
    cursor.close();
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>A stream API is also available for cursors, which can be more convenient, specially with the Rxified version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.prepare(<span class="hljs-string">&quot;SELECT * FROM users WHERE age &gt; ?&quot;</span>, ar1 -&gt; {
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    PreparedStatement pq = ar1.result();

    <span class="hljs-comment">// Fetch 50 rows at a time</span>
    RowStream&lt;Row&gt; stream = pq.createStream(<span class="hljs-number">50</span>, Tuple.of(<span class="hljs-number">18</span>));

    <span class="hljs-comment">// Use the stream</span>
    stream.exceptionHandler(err -&gt; {
      System.out.println(<span class="hljs-string">&quot;Error: &quot;</span> + err.getMessage());
    });
    stream.endHandler(v -&gt; {
      System.out.println(<span class="hljs-string">&quot;End of stream&quot;</span>);
    });
    stream.handler(row -&gt; {
      System.out.println(<span class="hljs-string">&quot;User: &quot;</span> + row.getString(<span class="hljs-string">&quot;last_name&quot;</span>));
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The stream read the rows by batch of <code>50</code> and stream them, when the rows have been passed to the handler,
a new batch of <code>50</code> is read and so on.</p>
</div>
<div class="paragraph">
<p>The stream can be resumed or paused, the loaded rows will remain in memory until they are delivered and the cursor
will stop iterating.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_type_mapping"><a class="anchor" href="#_mysql_type_mapping"></a>MySQL type mapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently the client supports the following MySQL types</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BOOL,BOOLEAN (<code>java.lang.Byte</code>)</p>
</li>
<li>
<p>TINYINT (<code>java.lang.Byte</code>)</p>
</li>
<li>
<p>TINYINT UNSIGNED(<code>java.lang.Short</code>)</p>
</li>
<li>
<p>SMALLINT (<code>java.lang.Short</code>)</p>
</li>
<li>
<p>SMALLINT UNSIGNED(<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>MEDIUMINT (<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>MEDIUMINT UNSIGNED(<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>INT,INTEGER (<code>java.lang.Integer</code>)</p>
</li>
<li>
<p>INTEGER UNSIGNED(<code>java.lang.Long</code>)</p>
</li>
<li>
<p>BIGINT (<code>java.lang.Long</code>)</p>
</li>
<li>
<p>BIGINT UNSIGNED(<code>io.vertx.sqlclient.data.Numeric</code>)</p>
</li>
<li>
<p>FLOAT (<code>java.lang.Float</code>)</p>
</li>
<li>
<p>FLOAT UNSIGNED(<code>java.lang.Float</code>)</p>
</li>
<li>
<p>DOUBLE (<code>java.lang.Double</code>)</p>
</li>
<li>
<p>DOUBLE UNSIGNED(<code>java.lang.Double</code>)</p>
</li>
<li>
<p>BIT (<code>java.lang.Long</code>)</p>
</li>
<li>
<p>NUMERIC (<code>io.vertx.sqlclient.data.Numeric</code>)</p>
</li>
<li>
<p>NUMERIC UNSIGNED(<code>io.vertx.sqlclient.data.Numeric</code>)</p>
</li>
<li>
<p>DATE (<code>java.time.LocalDate</code>)</p>
</li>
<li>
<p>DATETIME (<code>java.time.LocalDateTime</code>)</p>
</li>
<li>
<p>TIME (<code>java.time.Duration</code>)</p>
</li>
<li>
<p>TIMESTAMP (<code>java.time.LocalDateTime</code>)</p>
</li>
<li>
<p>YEAR (<code>java.lang.Short</code>)</p>
</li>
<li>
<p>CHAR (<code>java.lang.String</code>)</p>
</li>
<li>
<p>VARCHAR (<code>java.lang.String</code>)</p>
</li>
<li>
<p>BINARY (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>VARBINARY (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TINYBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TINYTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>BLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>TEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>MEDIUMBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>MEDIUMTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>LONGBLOB (<code>io.vertx.core.buffer.Buffer</code>)</p>
</li>
<li>
<p>LONGTEXT (<code>java.lang.String</code>)</p>
</li>
<li>
<p>ENUM (<code>java.lang.String</code>)</p>
</li>
<li>
<p>SET (<code>java.lang.String</code>)</p>
</li>
<li>
<p>JSON (<code>io.vertx.core.json.JsonObject</code>, <code>io.vertx.core.json.JsonArray</code>, <code>Number</code>, <code>Boolean</code>, <code>String</code>, <code>io.vertx.sqlclient.Tuple#JSON_NULL</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tuple decoding uses the above types when storing values</p>
</div>
<div class="paragraph">
<p>Note: In Java there is no specific representations for unsigned numeric values, so this client will convert an unsigned value to the correlated Java type.</p>
</div>
<div class="sect2">
<h3 id="_implicit_type_conversion"><a class="anchor" href="#_implicit_type_conversion"></a>Implicit type conversion</h3>
<div class="paragraph">
<p>The Reactive MySQL Client supports implicit type conversions when executing a prepared statement.
Suppose you have a <code>TIME</code> column in your table, the two examples below will both work here.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .preparedQuery(<span class="hljs-string">&quot;SELECT * FROM students WHERE updated_time = ?&quot;</span>)
  .execute(Tuple.of(LocalTime.of(<span class="hljs-number">19</span>, <span class="hljs-number">10</span>, <span class="hljs-number">25</span>)), ar -&gt; {
  <span class="hljs-comment">// handle the results</span>
});
<span class="hljs-comment">// this will also work with implicit type conversion</span>
client
  .preparedQuery(<span class="hljs-string">&quot;SELECT * FROM students WHERE updated_time = ?&quot;</span>)
  .execute(Tuple.of(<span class="hljs-string">&quot;19:10:25&quot;</span>), ar -&gt; {
  <span class="hljs-comment">// handle the results</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The MySQL data type for encoding will be inferred from the parameter values and here is the type mapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter value type</th>
<th class="tableblock halign-left valign-top">encoding MySQL type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_TINY</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_TINY</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_SHORT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_LONG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_LONGLONG</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_DOUBLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.Float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_FLOAT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.time.LocalDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_DATE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.time.Duration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_TIME</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.time.LocalTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_TIME</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.vertx.core.buffer.Buffer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_BLOB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.time.LocalDateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_DATETIME</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MYSQL_TYPE_STRING</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_handling_boolean"><a class="anchor" href="#_handling_boolean"></a>Handling BOOLEAN</h3>
<div class="paragraph">
<p>In MySQL <code>BOOLEAN</code> and <code>BOOL</code> data types are synonyms for <code>TINYINT(1)</code>. A value of zero is considered false, non-zero values are considered true.
A <code>BOOLEAN</code> data type value is stored in <code>Row</code> or <code>Tuple</code> as <code>java.lang.Byte</code> type, you can call <code>Row#getValue</code> to retrieve it as a <code>java.lang.Byte</code> value,
or you can call <code>Row#getBoolean</code> to retrieve it as <code>java.lang.Boolean</code> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .query(<span class="hljs-string">&quot;SELECT graduated FROM students WHERE id = 0&quot;</span>)
  .execute(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    RowSet&lt;Row&gt; rowSet = ar.result();
    <span class="hljs-keyword">for</span> (Row row : rowSet) {
      <span class="hljs-keyword">int</span> pos = row.getColumnIndex(<span class="hljs-string">&quot;graduated&quot;</span>);
      Byte value = row.get(Byte.class, pos);
      Boolean graduated = row.getBoolean(<span class="hljs-string">&quot;graduated&quot;</span>);
    }
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you want to execute a prepared statement with a param of a <code>BOOLEAN</code> value, you can simply add the <code>java.lang.Boolean</code> value to the params list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client
  .preparedQuery(<span class="hljs-string">&quot;UPDATE students SET graduated = ? WHERE id = 0&quot;</span>)
  .execute(Tuple.of(<span class="hljs-keyword">true</span>), ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Updated with the boolean value&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_json"><a class="anchor" href="#_handling_json"></a>Handling JSON</h3>
<div class="paragraph">
<p>MySQL <code>JSON</code> data type is represented by the following Java types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>String</code></p>
</li>
<li>
<p><code>Number</code></p>
</li>
<li>
<p><code>Boolean</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonObject</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonArray</code></p>
</li>
<li>
<p><code>io.vertx.sqlclient.Tuple#JSON_NULL</code> for representing the JSON null literal</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Tuple tuple = Tuple.of(
  Tuple.JSON_NULL,
  <span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">&quot;foo&quot;</span>, <span class="hljs-string">&quot;bar&quot;</span>),
  <span class="hljs-number">3</span>);

<span class="hljs-comment">// Retrieving json</span>
Object value = tuple.getValue(<span class="hljs-number">0</span>); <span class="hljs-comment">// Expect JSON_NULL</span>

<span class="hljs-comment">//</span>
value = tuple.get(JsonObject.class, <span class="hljs-number">1</span>); <span class="hljs-comment">// Expect JSON object</span>

<span class="hljs-comment">//</span>
value = tuple.get(Integer.class, <span class="hljs-number">2</span>); <span class="hljs-comment">// Expect 3</span>
value = tuple.getInteger(<span class="hljs-number">2</span>); <span class="hljs-comment">// Expect 3</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_bit"><a class="anchor" href="#_handling_bit"></a>Handling BIT</h3>
<div class="paragraph">
<p>The <code>BIT</code> data type is mapped to <code>java.lang.Long</code> type, but Java has no notion of unsigned numeric values, so if you want to insert or update a record with the max value of <code>BIT(64)</code>, you can do some tricks setting the parameter to <code>-1L</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_handling_time"><a class="anchor" href="#_handling_time"></a>Handling TIME</h3>
<div class="paragraph">
<p>MySQL <code>TIME</code> data type can be used to represent either time of a day or a time interval which ranges from <code>-838:59:59</code> to <code>838:59:59</code>. In Reactive MySQL client the <code>TIME</code> data type is mapped to <code>java.time.Duration</code> natively, but you can also retrieve it as a <code>java.time.LocalTime</code> via <code>Row#getLocalTime</code> accessor.</p>
</div>
</div>
<div class="sect2">
<h3 id="_handling_numeric"><a class="anchor" href="#_handling_numeric"></a>Handling NUMERIC</h3>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/sqlclient/data/Numeric.html">Numeric</a></code> Java type is used to represent the MySQL <code>NUMERIC</code> type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Numeric numeric = row.get(Numeric.class, <span class="hljs-number">0</span>);
<span class="hljs-keyword">if</span> (numeric.isNaN()) {
  <span class="hljs-comment">// Handle NaN</span>
} <span class="hljs-keyword">else</span> {
  BigDecimal value = numeric.bigDecimalValue();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_collector_queries"><a class="anchor" href="#_collector_queries"></a>Collector queries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use Java collectors with the query API:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Collector&lt;Row, ?, Map&lt;Long, String&gt;&gt; collector = Collectors.toMap(
  row -&gt; row.getLong(<span class="hljs-string">&quot;id&quot;</span>),
  row -&gt; row.getString(<span class="hljs-string">&quot;last_name&quot;</span>));

<span class="hljs-comment">// Run the query with the collector</span>
client.query(<span class="hljs-string">&quot;SELECT * FROM users&quot;</span>).collecting(collector).execute(ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.succeeded()) {
      SqlResult&lt;Map&lt;Long, String&gt;&gt; result = ar.result();

      <span class="hljs-comment">// Get the map created by the collector</span>
      Map&lt;Long, String&gt; map = result.value();
      System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + map);
    } <span class="hljs-keyword">else</span> {
      System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
    }
  });</code></pre>
</div>
</div>
<div class="paragraph">
<p>The collector processing must not keep a reference on the <code><a href="../../apidocs/io/vertx/sqlclient/Row.html">Row</a></code> as
there is a single row used for processing the entire set.</p>
</div>
<div class="paragraph">
<p>The Java <code>Collectors</code> provides many interesting predefined collectors, for example you can
create easily create a string directly from the row set:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Collector&lt;Row, ?, String&gt; collector = Collectors.mapping(
  row -&gt; row.getString(<span class="hljs-string">&quot;last_name&quot;</span>),
  Collectors.joining(<span class="hljs-string">&quot;,&quot;</span>, <span class="hljs-string">&quot;(&quot;</span>, <span class="hljs-string">&quot;)&quot;</span>)
);

<span class="hljs-comment">// Run the query with the collector</span>
client.query(<span class="hljs-string">&quot;SELECT * FROM users&quot;</span>).collecting(collector).execute(ar -&gt; {
    <span class="hljs-keyword">if</span> (ar.succeeded()) {
      SqlResult&lt;String&gt; result = ar.result();

      <span class="hljs-comment">// Get the string created by the collector</span>
      String list = result.value();
      System.out.println(<span class="hljs-string">&quot;Got &quot;</span> + list);
    } <span class="hljs-keyword">else</span> {
      System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
    }
  });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_stored_procedure"><a class="anchor" href="#_mysql_stored_procedure"></a>MySQL Stored Procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can run stored procedures in queries. The result will be retrieved from the server following the <a href="https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_sp.html">MySQL protocol</a> without any magic here.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client.query(<span class="hljs-string">&quot;CREATE PROCEDURE multi() BEGIN\n&quot;</span> +
  <span class="hljs-string">&quot;  SELECT 1;\n&quot;</span> +
  <span class="hljs-string">&quot;  SELECT 1;\n&quot;</span> +
  <span class="hljs-string">&quot;  INSERT INTO ins VALUES (1);\n&quot;</span> +
  <span class="hljs-string">&quot;  INSERT INTO ins VALUES (2);\n&quot;</span> +
  <span class="hljs-string">&quot;END;&quot;</span>).execute(ar1 -&gt; {
  <span class="hljs-keyword">if</span> (ar1.succeeded()) {
    <span class="hljs-comment">// create stored procedure success</span>
    client
      .query(<span class="hljs-string">&quot;CALL multi();&quot;</span>)
      .execute(ar2 -&gt; {
      <span class="hljs-keyword">if</span> (ar2.succeeded()) {
        <span class="hljs-comment">// handle the result</span>
        RowSet&lt;Row&gt; result1 = ar2.result();
        Row row1 = result1.iterator().next();
        System.out.println(<span class="hljs-string">&quot;First result: &quot;</span> + row1.getInteger(<span class="hljs-number">0</span>));

        RowSet&lt;Row&gt; result2 = result1.next();
        Row row2 = result2.iterator().next();
        System.out.println(<span class="hljs-string">&quot;Second result: &quot;</span> + row2.getInteger(<span class="hljs-number">0</span>));

        RowSet&lt;Row&gt; result3 = result2.next();
        System.out.println(<span class="hljs-string">&quot;Affected rows: &quot;</span> + result3.rowCount());
      } <span class="hljs-keyword">else</span> {
        System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar2.cause().getMessage());
      }
    });
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar1.cause().getMessage());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: Prepared statements binding OUT parameters is not supported for now.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_local_infile"><a class="anchor" href="#_mysql_local_infile"></a>MySQL LOCAL INFILE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This client supports for handling the LOCAL INFILE Request, if you want to load data from a local file into the server, you can use query
<code>LOAD DATA LOCAL INFILE '&lt;filename&gt;' INTO TABLE &lt;table&gt;;</code>. More information can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/load-data.html">MySQL Reference Manual</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authentication"><a class="anchor" href="#_authentication"></a>Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MySQL 8.0 introduces a new authentication method named <code>caching_sha2_password</code> and it&#8217;s the default one to authenticate.
In order to connect to the server using this new authentication method, you need either use a secure connection(i.e. enable TLS/SSL) or exchange the encrypted password using an RSA key pair to avoid leaks of password. The RSA key pair is automatically exchanged during the communication, but the server RSA public key may be hacked during the process since it&#8217;s transferred on a insecure connection.
So if you&#8217;re on a insecure connection and want to avoid the risk of exposing the server RSA public key, you can set the server RSA public key like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions options1 = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>)
  .setServerRsaPublicKeyPath(<span class="hljs-string">&quot;tls/files/public_key.pem&quot;</span>); <span class="hljs-comment">// configure with path of the public key</span>

MySQLConnectOptions options2 = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>)
  .setServerRsaPublicKeyValue(Buffer.buffer(<span class="hljs-string">&quot;-----BEGIN PUBLIC KEY-----\n&quot;</span> +
    <span class="hljs-string">&quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3yvG5s0qrV7jxVlp0sMj\n&quot;</span> +
    <span class="hljs-string">&quot;xP0a6BuLKCMjb0o88hDsJ3xz7PpHNKazuEAfPxiRFVAV3edqfSiXoQw+lJf4haEG\n&quot;</span> +
    <span class="hljs-string">&quot;HQe12Nfhs+UhcAeTKXRlZP/JNmI+BGoBduQ1rCId9bKYbXn4pvyS/a1ft7SwFkhx\n&quot;</span> +
    <span class="hljs-string">&quot;aogCur7iIB0WUWvwkQ0fEj/Mlhw93lLVyx7hcGFq4FOAKFYr3A0xrHP1IdgnD8QZ\n&quot;</span> +
    <span class="hljs-string">&quot;0fUbgGLWWLOossKrbUP5HWko1ghLPIbfmU6o890oj1ZWQewj1Rs9Er92/UDj/JXx\n&quot;</span> +
    <span class="hljs-string">&quot;7ha1P+ZOgPBlV037KDQMS6cUh9vTablEHsMLhDZanymXzzjBkL+wH/b9cdL16LkQ\n&quot;</span> +
    <span class="hljs-string">&quot;5QIDAQAB\n&quot;</span> +
    <span class="hljs-string">&quot;-----END PUBLIC KEY-----\n&quot;</span>)); <span class="hljs-comment">// configure with buffer of the public key</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about the <code>caching_sha2_password</code> authentication method can be found in the <a href="https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html">MySQL Reference Manual</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_ssltls"><a class="anchor" href="#_using_ssltls"></a>Using SSL/TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure the client to use SSL connection, you can configure the <code><a href="../../apidocs/io/vertx/mysqlclient/MySQLConnectOptions.html">MySQLConnectOptions</a></code>
like a Vert.x <code>NetClient</code>.
All <a href="https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode">SSL modes</a> are supported and you are able to configure <code>sslmode</code>. The client is in <code>DISABLED</code> SSL mode by default.
<code>ssl</code> parameter is kept as a mere shortcut for setting <code>sslmode</code>. <code>setSsl(true)</code> is equivalent to <code>setSslMode(VERIFY_CA)</code> and <code>setSsl(false)</code> is equivalent to <code>setSslMode(DISABLED)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLConnectOptions options = <span class="hljs-keyword">new</span> MySQLConnectOptions()
  .setPort(<span class="hljs-number">3306</span>)
  .setHost(<span class="hljs-string">&quot;the-host&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;the-db&quot;</span>)
  .setUser(<span class="hljs-string">&quot;user&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;secret&quot;</span>)
  .setSslMode(SslMode.VERIFY_CA)
  .setPemTrustOptions(<span class="hljs-keyword">new</span> PemTrustOptions().addCertPath(<span class="hljs-string">&quot;/path/to/cert.pem&quot;</span>));

MySQLConnection.connect(vertx, options, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Connected with SSL</span>
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Could not connect &quot;</span> + res.cause());
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information can be found in the <a href="http://vertx.io/docs/vertx-core/java/#ssl">Vert.x documentation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_utility_command"><a class="anchor" href="#_mysql_utility_command"></a>MySQL utility command</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sometimes you want to use MySQL utility commands and we provide support for this.
More information can be found in the <a href="https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_utility.html">MySQL utility commands</a>.</p>
</div>
<div class="sect2">
<h3 id="_com_ping"><a class="anchor" href="#_com_ping"></a>COM_PING</h3>
<div class="paragraph">
<p>You can use <code>COM_PING</code> command to check if the server is alive. The handler will be notified if the server responds to the PING, otherwise the handler will never be called.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.ping(ar -&gt; {
  System.out.println(<span class="hljs-string">&quot;The server has responded to the PING&quot;</span>);
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_reset_connection"><a class="anchor" href="#_com_reset_connection"></a>COM_RESET_CONNECTION</h3>
<div class="paragraph">
<p>You can reset the session state with <code>COM_RESET_CONNECTION</code> command, this will reset the connection state like:
- user variables
- temporary tables
- prepared statements</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.resetConnection(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Connection has been reset now&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_change_user"><a class="anchor" href="#_com_change_user"></a>COM_CHANGE_USER</h3>
<div class="paragraph">
<p>You can change the user of the current connection, this will perform a re-authentication and reset the connection state like <code>COM_RESET_CONNECTION</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">MySQLAuthOptions authenticationOptions = <span class="hljs-keyword">new</span> MySQLAuthOptions()
  .setUser(<span class="hljs-string">&quot;newuser&quot;</span>)
  .setPassword(<span class="hljs-string">&quot;newpassword&quot;</span>)
  .setDatabase(<span class="hljs-string">&quot;newdatabase&quot;</span>);
connection.changeUser(authenticationOptions, ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;User of current connection has been changed.&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_init_db"><a class="anchor" href="#_com_init_db"></a>COM_INIT_DB</h3>
<div class="paragraph">
<p>You can use <code>COM_INIT_DB</code> command to change the default schema of the connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.specifySchema(<span class="hljs-string">&quot;newschema&quot;</span>, ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Default schema changed to newschema&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_statistics"><a class="anchor" href="#_com_statistics"></a>COM_STATISTICS</h3>
<div class="paragraph">
<p>You can use <code>COM_STATISTICS</code> command to get a human readable string of some internal status variables in MySQL server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.getInternalStatistics(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Statistics: &quot;</span> + ar.result());
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_debug"><a class="anchor" href="#_com_debug"></a>COM_DEBUG</h3>
<div class="paragraph">
<p>You can use <code>COM_DEBUG</code> command to dump debug info to the MySQL server&#8217;s STDOUT.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.debug(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Debug info dumped to server&#x27;s STDOUT&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_com_set_option"><a class="anchor" href="#_com_set_option"></a>COM_SET_OPTION</h3>
<div class="paragraph">
<p>You can use <code>COM_SET_OPTION</code> command to set options for the current connection. Currently only <code>CLIENT_MULTI_STATEMENTS</code> can be set.</p>
</div>
<div class="paragraph">
<p>For example, you can disable <code>CLIENT_MULTI_STATEMENTS</code> with this command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.setOption(MySQLSetOption.MYSQL_OPTION_MULTI_STATEMENTS_OFF, ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;CLIENT_MULTI_STATEMENTS is off now&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    System.out.println(<span class="hljs-string">&quot;Failure: &quot;</span> + ar.cause().getMessage());
  }
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mysql_and_mariadb_version_support_matrix"><a class="anchor" href="#_mysql_and_mariadb_version_support_matrix"></a>MySQL and MariaDB version support matrix</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">MySQL</th>
<th class="tableblock halign-center valign-top" colspan="2">MariaDB</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Supported</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5.7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8.0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>10.4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10004;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Known issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reset connection utility command does not work in MySQL 5.5, 5.6 and MariaDB 10.1</p>
</li>
<li>
<p>Change user utility command is not supported with MariaDB 10.2 and 10.3</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pitfalls_good_practices"><a class="anchor" href="#_pitfalls_good_practices"></a>Pitfalls &amp; Good Practices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are some good practices for you to avoid common pitfalls when using the Reactive MySQL Client.</p>
</div>
<div class="sect2">
<h3 id="_prepared_statement_count_limit"><a class="anchor" href="#_prepared_statement_count_limit"></a>prepared statement count limit</h3>
<div class="paragraph">
<p>Sometimes you might meet the notorious error <code>Can&#8217;t create more than max_prepared_stmt_count statements (current value: 16382)</code>, this is because the server has reached the limit of total number of prepared statement.</p>
</div>
<div class="paragraph">
<p>You can adjust the server system variable <code>max_prepared_stmt_count</code> but it has an upper bound value so you can&#8217;t get rid of the error in this way.</p>
</div>
<div class="paragraph">
<p>The best way to alleviate this is enabling prepared statement caching, so the prepared statements with the same SQL string could be reused and the client does not have to create a brand new prepared statement for every request.
The prepared statement will be automatically closed when it&#8217;s evicted from the cache.
In this way the chances of reaching the limit could be greatly reduced though it could not be totally eliminated.</p>
</div>
<div class="paragraph">
<p>Note using <code>SqlClient#preparedQuery</code> without prepared statement caching enabled will not close the prepared statement after executing!</p>
</div>
<div class="paragraph">
<p>You can also manage the lifecycle of prepared statements manually by creating a <code>PreparedStatement</code> object via <code>SqlConnection#prepare</code> interface, or even use the <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html">SQL syntax prepared statement</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_demystifying_prepared_batch"><a class="anchor" href="#_demystifying_prepared_batch"></a>demystifying prepared batch</h3>
<div class="paragraph">
<p>There is time when you want to batch insert data into the database, you can use <code>PreparedQuery#executeBatch</code> which provides a simple API to handle this.
Keep in mind that MySQL does not natively support batching protocol so the API is only a sugar by executing the prepared statement one after another, which means more network round trips are required comparing to inserting multiple rows by executing one prepared statement with a list of values.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tricky_date_time_data_types"><a class="anchor" href="#_tricky_date_time_data_types"></a>tricky DATE &amp; TIME data types</h3>
<div class="paragraph">
<p>Handling MYSQL DATE and TIME data types especially with time zones is tricky therefore the Reactive MySQL Client does no magic transformation for those values.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MySQL DATETIME data type does not contain time zone info, so what you get is identical to what you set no matter what time zone is in the current session.</p>
</li>
<li>
<p>MySQL TIMESTAMP data type contains time zone info, so when you set or get the value it&#8217;s always transformed by the server with the timezone set in the current session.</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-1771812074"><div class="jsx-1771812074 container"><div class="jsx-1771812074 footer-nav-section"><div class="jsx-1771812074 footer-nav-list footer-logo"><a class="jsx-1771812074" href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyMzIuNiAzMTUuMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi5zdDB7ZmlsbDojNzgyYTkxfTwvc3R5bGU+PHBhdGggZD0iTTEyMC45IDIxNC4yIDE5MC41IDBoNTIuM2wtOTguNSAyNzMuOEg5OC4yTDAgMGg1Mi4xbDY4LjggMjE0LjJ6bTI5MS4yLTYyLjZIMjk5LjZ2ODQuMkg0MzF2MzhIMjUyVjBoMTc3Ljd2MzguNEgyOTkuNlYxMTRoMTEyLjV2MzcuNnptODMuNy0xMTMuMkg1NDZjMTYuNS4zIDI5IDQuNCAzNy4zIDEyLjQgOC4zIDggMTIuNSAxOS40IDEyLjUgMzQgMCAxNC00LjUgMjUuMS0xMy41IDMzLjItOSA4LjEtMjEuNiAxMi4xLTM3LjYgMTIuMWgtMjcuMXYyNC4ybDg2LjEgMTE5LjVoNTF2LTIuNGwtNzcuMi0xMDYuN2MyNC45LTUuNSA0My4zLTIxLjcgNTIuNi0zNS45IDguMi0xMi42IDEzLjMtMjcuNyAxMy4zLTQ2IDAtMjYuOC04LjYtNDcuNC0yNS44LTYxLjVDNjAwLjUgNy4xIDU3Ni4xIDAgNTQ0LjUgMGgtOTYuM3YyNzMuOGg0Ny42Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0ibTEwNTIuMyAxNTcuNy00MS41IDYyLjcgMjkuNyA1My40aDg1LjF6Ii8+PGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iODI3LjkiIGN5PSIyNzQuNyIgcj0iNDAuNSIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Im0xMDM3IDAtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo" class="jsx-1771812074"/></a></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">Eclipse Vert.x</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a class="jsx-1771812074 navbar-menu-item" href="/docs/">文档</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/download/">下载</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/blog/">博客</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/community/">社区</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/translation/">翻译团队</a></li><li class="jsx-1771812074"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-1771812074">GitHub</a></li><li class="jsx-1771812074"><a href="https://github.com/vertx-china/vertx-web-site" class="jsx-1771812074">翻译GitHub</a></li></ul></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">资源</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a class="jsx-1771812074" href="/faq/">答疑</a></li><li class="jsx-1771812074"><a class="jsx-1771812074" href="/channels/">联系渠道</a></li><li class="jsx-1771812074"><a href="https://how-to.vertx.io/" class="jsx-1771812074">操作指南</a></li><li class="jsx-1771812074"><a href="https://start.vertx.io/" class="jsx-1771812074">应用生成器</a></li></ul></div><div class="jsx-1771812074 footer-nav-list"><h5 class="jsx-1771812074">Eclipse</h5><ul class="jsx-1771812074 "><li class="jsx-1771812074"><a href="https://www.eclipse.org/" class="jsx-1771812074">Eclipse 基金会</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-1771812074">隐私政策</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-1771812074">使用条款</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-1771812074">版权代理</a></li><li class="jsx-1771812074"><a href="https://www.eclipse.org/legal/" class="jsx-1771812074">法律资源</a></li></ul></div></div><div class="jsx-1771812074 footer-copyright"><div class="jsx-1771812074 footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x™<br class="jsx-1771812074"/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Apache License 2.0</a>协议下获得了双重许可。<br class="jsx-1771812074 footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-1771812074">Michel Krämer</a> 设计。</div><div class="jsx-1771812074 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-1771812074"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0IDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo" class="jsx-1771812074"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.9.1/vertx-mysql-client/java","title":"Reactive MySQL Client","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_usage\"\u003eUsage\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_getting_started\"\u003eGetting started\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_connecting_to_mysql\"\u003eConnecting to MySQL\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_configuration\"\u003eConfiguration\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_data_object\"\u003eData Object\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_connection_uri\"\u003econnection URI\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_running_queries\"\u003eRunning queries\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_prepared_queries\"\u003ePrepared queries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_batches\"\u003eBatches\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_last_insert_id\"\u003eMySQL LAST_INSERT_ID\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_connections\"\u003eUsing connections\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_transactions\"\u003eUsing transactions\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_transactions_with_connections\"\u003eTransactions with connections\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_simplified_transaction_api\"\u003eSimplified transaction API\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_cursors_and_streaming\"\u003eCursors and streaming\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_type_mapping\"\u003eMySQL type mapping\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_implicit_type_conversion\"\u003eImplicit type conversion\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_boolean\"\u003eHandling BOOLEAN\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_json\"\u003eHandling JSON\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_bit\"\u003eHandling BIT\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_time\"\u003eHandling TIME\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_handling_numeric\"\u003eHandling NUMERIC\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_collector_queries\"\u003eCollector queries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_stored_procedure\"\u003eMySQL Stored Procedure\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_local_infile\"\u003eMySQL LOCAL INFILE\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_authentication\"\u003eAuthentication\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_ssltls\"\u003eUsing SSL/TLS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_utility_command\"\u003eMySQL utility command\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_com_ping\"\u003eCOM_PING\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_reset_connection\"\u003eCOM_RESET_CONNECTION\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_change_user\"\u003eCOM_CHANGE_USER\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_init_db\"\u003eCOM_INIT_DB\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_statistics\"\u003eCOM_STATISTICS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_debug\"\u003eCOM_DEBUG\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_com_set_option\"\u003eCOM_SET_OPTION\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mysql_and_mariadb_version_support_matrix\"\u003eMySQL and MariaDB version support matrix\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_pitfalls_good_practices\"\u003ePitfalls \u0026amp; Good Practices\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_prepared_statement_count_limit\"\u003eprepared statement count limit\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_demystifying_prepared_batch\"\u003edemystifying prepared batch\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_tricky_date_time_data_types\"\u003etricky DATE \u0026amp; TIME data types\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eReactive MySQL Client\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL Client is a client for MySQL with a straightforward API focusing on\nscalability and low overhead.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003cstrong\u003eFeatures\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eEvent driven\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLightweight\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBuilt-in connection pooling\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ePrepared queries caching\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCursor support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRow streaming\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRxJava 1 and RxJava 2\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDirect memory to object without unnecessary copies\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJava 8 Date and Time\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eStored Procedures support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTLS/SSL support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMySQL utilities commands support\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWorking with MySQL and MariaDB\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eRich collation and charset support\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_usage\"\u003e\u003ca class=\"anchor\" href=\"#_usage\"\u003e\u003c/a\u003eUsage\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Reactive MySQL Client add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-mysql-client\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.1\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003edependencies {\n compile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-mysql-client:3.9.1\u0026#x27;\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_getting_started\"\u003e\u003ca class=\"anchor\" href=\"#_getting_started\"\u003e\u003c/a\u003eGetting started\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere is the simplest way to connect, query and disconnect\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\nPoolOptions poolOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PoolOptions()\n  .setMaxSize(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the client pool\u003c/span\u003e\nMySQLPool client = MySQLPool.pool(connectOptions, poolOptions);\n\n\u003cspan class=\"hljs-comment\"\u003e// A simple query\u003c/span\u003e\nclient\n  .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;julien\u0026#x27;\u0026quot;\u003c/span\u003e)\n  .execute(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; result = ar.result();\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + result.size() + \u003cspan class=\"hljs-string\"\u003e\u0026quot; rows \u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n\n  \u003cspan class=\"hljs-comment\"\u003e// Now close the pool\u003c/span\u003e\n  client.close();\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_connecting_to_mysql\"\u003e\u003ca class=\"anchor\" href=\"#_connecting_to_mysql\"\u003e\u003c/a\u003eConnecting to MySQL\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMost of the time you will use a pool to connect to MySQL:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\nPoolOptions poolOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PoolOptions()\n  .setMaxSize(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\nMySQLPool client = MySQLPool.pool(connectOptions, poolOptions);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe pooled client uses a connection pool and any operation will borrow a connection from the pool\nto execute the operation and release it to the pool.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you are running with Vert.x you can pass it your Vertx instance:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\nPoolOptions poolOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PoolOptions()\n  .setMaxSize(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\nMySQLPool client = MySQLPool.pool(vertx, connectOptions, poolOptions);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou need to release the pool when you don\u0026#8217;t need it anymore:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003epool.close();\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you need to execute several operations on the same connection, you need to use a client\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/mysqlclient/MySQLConnection.html\"\u003econnection\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can easily get one from the pool:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool options\u003c/span\u003e\nPoolOptions poolOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PoolOptions()\n  .setMaxSize(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pooled client\u003c/span\u003e\nMySQLPool client = MySQLPool.pool(vertx, connectOptions, poolOptions);\n\n\u003cspan class=\"hljs-comment\"\u003e// Get a connection from the pool\u003c/span\u003e\nclient.getConnection(ar1 -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Connected\u0026quot;\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// Obtain our connection\u003c/span\u003e\n    SqlConnection conn = ar1.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// All operations execute on the same connection\u003c/span\u003e\n    conn\n      .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;julien\u0026#x27;\u0026quot;\u003c/span\u003e)\n      .execute(ar2 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        conn\n          .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;emad\u0026#x27;\u0026quot;\u003c/span\u003e)\n          .execute(ar3 -\u0026gt; {\n          \u003cspan class=\"hljs-comment\"\u003e// Release the connection to the pool\u003c/span\u003e\n          conn.close();\n        });\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// Release the connection to the pool\u003c/span\u003e\n        conn.close();\n      }\n    });\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Could not connect: \u0026quot;\u003c/span\u003e + ar1.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce you are done with the connection you must close it to release it to the pool, so it can be reused.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_configuration\"\u003e\u003c/a\u003eConfiguration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere are several alternatives for you to configure the client.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_data_object\"\u003e\u003ca class=\"anchor\" href=\"#_data_object\"\u003e\u003c/a\u003eData Object\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA simple way to configure the client is to specify a \u003ccode\u003eMySQLConnectOptions\u003c/code\u003e data object.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Pool Options\u003c/span\u003e\nPoolOptions poolOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PoolOptions().setMaxSize(\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pool from the data object\u003c/span\u003e\nMySQLPool pool = MySQLPool.pool(vertx, connectOptions, poolOptions);\n\npool.getConnection(ar -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Handling your connection\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_collations_and_character_sets\"\u003e\u003ca class=\"anchor\" href=\"#_collations_and_character_sets\"\u003e\u003c/a\u003ecollations and character sets\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL client supports configuring collations or character sets and map them to a correlative \u003ccode\u003ejava.nio.charset.Charset\u003c/code\u003e.\nFor example, you can specify charset for a connection like\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions();\n\n\u003cspan class=\"hljs-comment\"\u003e// set connection character set to utf8 instead of the default charset utf8mb4\u003c/span\u003e\nconnectOptions.setCharset(\u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL Client will take \u003ccode\u003eutf8mb4\u003c/code\u003e as the default charset. String values like password and error messages are always decoded in \u003ccode\u003eUTF-8\u003c/code\u003e charset.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003echaracterEncoding\u003c/code\u003e option is used to determine which Java charset will be used to encode String values such as query string and parameter values, the charset is \u003ccode\u003eUTF-8\u003c/code\u003e by default and if it\u0026#8217;s set to \u003ccode\u003enull\u003c/code\u003e then the client will use the default Java charset instead.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also specify collation for a connection like\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions();\n\n\u003cspan class=\"hljs-comment\"\u003e// set connection collation to utf8_general_ci instead of the default collation utf8mb4_general_ci\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// setting a collation will override the charset option\u003c/span\u003e\nconnectOptions.setCharset(\u003cspan class=\"hljs-string\"\u003e\u0026quot;gbk\u0026quot;\u003c/span\u003e);\nconnectOptions.setCollation(\u003cspan class=\"hljs-string\"\u003e\u0026quot;utf8_general_ci\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote setting a collation on the data object will override the \u003cstrong\u003echarset\u003c/strong\u003e and \u003cstrong\u003echaracterEncoding\u003c/strong\u003e option.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can execute SQL \u003ccode\u003eSHOW COLLATION;\u003c/code\u003e or \u003ccode\u003eSHOW CHARACTER SET;\u003c/code\u003e to get the supported collations and charsets by the server.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about MySQL charsets and collations can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/charset.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_connection_attributes\"\u003e\u003ca class=\"anchor\" href=\"#_connection_attributes\"\u003e\u003c/a\u003econnection attributes\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also configure the connection attributes with the \u003ccode\u003esetProperties\u003c/code\u003e or \u003ccode\u003eaddProperty\u003c/code\u003e methods. Note \u003ccode\u003esetProperties\u003c/code\u003e will override the default client properties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions connectOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions();\n\n\u003cspan class=\"hljs-comment\"\u003e// Add a connection attribute\u003c/span\u003e\nconnectOptions.addProperty(\u003cspan class=\"hljs-string\"\u003e\u0026quot;_java_version\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;1.8.0_212\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Override the attributes\u003c/span\u003e\nMap\u0026lt;String, String\u0026gt; attributes = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e HashMap\u0026lt;\u0026gt;();\nattributes.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;_client_name\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;myapp\u0026quot;\u003c/span\u003e);\nattributes.put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;_client_version\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;1.0.0\u0026quot;\u003c/span\u003e);\nconnectOptions.setProperties(attributes);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about client connection attributes can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/performance-schema-connection-attribute-tables.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_useaffectedrows\"\u003e\u003ca class=\"anchor\" href=\"#_useaffectedrows\"\u003e\u003c/a\u003euseAffectedRows\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the \u003ccode\u003euseAffectedRows\u003c/code\u003e option to decide whether to set \u003ccode\u003eCLIENT_FOUND_ROWS\u003c/code\u003e flag when connecting to the server. If the \u003ccode\u003eCLIENT_FOUND_ROWS\u003c/code\u003e flag is specified then the affected rows count is the numeric value of rows found rather than affected.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about this can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/mysql-affected-rows.html\"\u003eMySQL Reference Manual\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_connection_uri\"\u003e\u003ca class=\"anchor\" href=\"#_connection_uri\"\u003e\u003c/a\u003econnection URI\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eApart from configuring with a \u003ccode\u003eMySQLConnectOptions\u003c/code\u003e data object, We also provide you an alternative way to connect when you want to configure with a connection URI:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString connectionUri = \u003cspan class=\"hljs-string\"\u003e\u0026quot;mysql://dbuser:secretpassword@database.server.com:3211/mydb\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the pool from the connection URI\u003c/span\u003e\nMySQLPool pool = MySQLPool.pool(connectionUri);\n\n\u003cspan class=\"hljs-comment\"\u003e// Create the connection from the connection URI\u003c/span\u003e\nMySQLConnection.connect(vertx, connectionUri, res -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Handling your connection\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about connection string formats can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/connecting-using-uri-or-key-value-pairs.html#connecting-using-uri\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCurrently the client supports the following parameter key words in connection uri(keys are case-insensitive)\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ehost\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eport\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003euser\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003epassword\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eschema\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003esocket\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003euseAffectedRows\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_running_queries\"\u003e\u003ca class=\"anchor\" href=\"#_running_queries\"\u003e\u003c/a\u003eRunning queries\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you don\u0026#8217;t need a transaction or run single queries, you can run queries directly on the pool; the pool\nwill use one of its connection to run the query and return the result to you.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere is how to run simple queries:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;julien\u0026#x27;\u0026quot;\u003c/span\u003e)\n  .execute(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; result = ar.result();\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + result.size() + \u003cspan class=\"hljs-string\"\u003e\u0026quot; rows \u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_prepared_queries\"\u003e\u003ca class=\"anchor\" href=\"#_prepared_queries\"\u003e\u003c/a\u003ePrepared queries\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can do the same with prepared queries.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe SQL string can refer to parameters by position, using the database syntax `?`\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=?\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;julien\u0026quot;\u003c/span\u003e), ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; rows = ar.result();\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + rows.size() + \u003cspan class=\"hljs-string\"\u003e\u0026quot; rows \u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eQuery methods provides an asynchronous \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/RowSet.html\"\u003eRowSet\u003c/a\u003e\u003c/code\u003e instance that works for \u003cem\u003eSELECT\u003c/em\u003e queries\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT first_name, last_name FROM users\u0026quot;\u003c/span\u003e)\n  .execute(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; rows = ar.result();\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (Row row : rows) {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;User \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) + \u003cspan class=\"hljs-string\"\u003e\u0026quot; \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e));\n    }\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eor \u003cem\u003eUPDATE\u003c/em\u003e/\u003cem\u003eINSERT\u003c/em\u003e queries:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO users (first_name, last_name) VALUES (?, ?)\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Julien\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Viet\u0026quot;\u003c/span\u003e), ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; rows = ar.result();\n    System.out.println(rows.rowCount());\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/Row.html\"\u003eRow\u003c/a\u003e\u003c/code\u003e gives you access to your data by index\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSystem.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;User \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) + \u003cspan class=\"hljs-string\"\u003e\u0026quot; \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eor by name\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSystem.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;User \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;first_name\u0026quot;\u003c/span\u003e) + \u003cspan class=\"hljs-string\"\u003e\u0026quot; \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;last_name\u0026quot;\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client will not do any magic here and the column name is identified with the name in the table regardless of how your SQL text is.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can access a wide variety of of types\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString firstName = row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;first_name\u0026quot;\u003c/span\u003e);\nBoolean male = row.getBoolean(\u003cspan class=\"hljs-string\"\u003e\u0026quot;male\u0026quot;\u003c/span\u003e);\nInteger age = row.getInteger(\u003cspan class=\"hljs-string\"\u003e\u0026quot;age\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use cached prepared statements to execute one-shot prepared queries:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnectOptions.setCachePreparedStatements(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e);\nclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id = ?\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;julien\u0026quot;\u003c/span\u003e), ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n      RowSet\u0026lt;Row\u0026gt; rows = ar.result();\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + rows.size() + \u003cspan class=\"hljs-string\"\u003e\u0026quot; rows \u0026quot;\u003c/span\u003e);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n    }\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can create a \u003ccode\u003ePreparedStatement\u003c/code\u003e and manage the lifecycle by yourself.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003esqlConnection\n  .prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id = ?\u0026quot;\u003c/span\u003e, ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n      PreparedStatement preparedStatement = ar.result();\n      preparedStatement.query()\n        .execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;julien\u0026quot;\u003c/span\u003e), ar2 -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n            RowSet\u0026lt;Row\u0026gt; rows = ar2.result();\n            System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + rows.size() + \u003cspan class=\"hljs-string\"\u003e\u0026quot; rows \u0026quot;\u003c/span\u003e);\n            preparedStatement.close();\n          } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar2.cause().getMessage());\n          }\n        });\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n    }\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_batches\"\u003e\u003ca class=\"anchor\" href=\"#_batches\"\u003e\u003c/a\u003eBatches\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can execute prepared batch\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eList\u0026lt;Tuple\u0026gt; batch = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ArrayList\u0026lt;\u0026gt;();\nbatch.add(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;julien\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Julien Viet\u0026quot;\u003c/span\u003e));\nbatch.add(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;emad\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;Emad Alblueshi\u0026quot;\u003c/span\u003e));\n\n\u003cspan class=\"hljs-comment\"\u003e// Execute the prepared batch\u003c/span\u003e\nclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO USERS (id, name) VALUES (?, ?)\u0026quot;\u003c/span\u003e)\n  .executeBatch(batch, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Process rows\u003c/span\u003e\n    RowSet\u0026lt;Row\u0026gt; rows = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Batch failed \u0026quot;\u003c/span\u003e + res.cause());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_last_insert_id\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_last_insert_id\"\u003e\u003c/a\u003eMySQL LAST_INSERT_ID\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can get the auto incremented value if you insert a record into the table.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO test(val) VALUES (\u0026#x27;v1\u0026#x27;)\u0026quot;\u003c/span\u003e)\n  .execute(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; rows = ar.result();\n    \u003cspan class=\"hljs-keyword\"\u003elong\u003c/span\u003e lastInsertId = rows.property(MySQLClient.LAST_INSERTED_ID);\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Last inserted id is: \u0026quot;\u003c/span\u003e + lastInsertId);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information can be found in \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/getting-unique-id.html\"\u003eHow to Get the Unique ID for the Last Inserted Row\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_connections\"\u003e\u003ca class=\"anchor\" href=\"#_using_connections\"\u003e\u003c/a\u003eUsing connections\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you need to execute sequential queries (without a transaction), you can create a new connection\nor borrow one from the pool:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003epool.getConnection(ar1 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    SqlConnection connection = ar1.result();\n\n    connection\n      .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;julien\u0026#x27;\u0026quot;\u003c/span\u003e)\n      .execute(ar2 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n        connection\n          .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE id=\u0026#x27;paulo\u0026#x27;\u0026quot;\u003c/span\u003e)\n          .execute(ar3 -\u0026gt; {\n          \u003cspan class=\"hljs-comment\"\u003e// Do something with rows and return the connection to the pool\u003c/span\u003e\n          connection.close();\n        });\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// Return the connection to the pool\u003c/span\u003e\n        connection.close();\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ePrepared queries can be created:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE first_name LIKE ?\u0026quot;\u003c/span\u003e, ar1 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    PreparedStatement prepared = ar1.result();\n    prepared.query().execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;julien\u0026quot;\u003c/span\u003e), ar2 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        \u003cspan class=\"hljs-comment\"\u003e// All rows\u003c/span\u003e\n        RowSet\u0026lt;Row\u0026gt; rows = ar2.result();\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_transactions\"\u003e\u003ca class=\"anchor\" href=\"#_using_transactions\"\u003e\u003c/a\u003eUsing transactions\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_transactions_with_connections\"\u003e\u003ca class=\"anchor\" href=\"#_transactions_with_connections\"\u003e\u003c/a\u003eTransactions with connections\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can execute transaction using SQL \u003ccode\u003eBEGIN\u003c/code\u003e/\u003ccode\u003eCOMMIT\u003c/code\u003e/\u003ccode\u003eROLLBACK\u003c/code\u003e, if you do so you must use\na \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/SqlConnection.html\"\u003eSqlConnection\u003c/a\u003e\u003c/code\u003e and manage it yourself.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOr you can use the transaction API of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/SqlConnection.html\"\u003eSqlConnection\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003epool.getConnection(res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Transaction must use a connection\u003c/span\u003e\n    SqlConnection conn = res.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Begin the transaction\u003c/span\u003e\n    Transaction tx = conn.begin();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Various statements\u003c/span\u003e\n    conn\n      .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO Users (first_name,last_name) VALUES (\u0026#x27;Julien\u0026#x27;,\u0026#x27;Viet\u0026#x27;)\u0026quot;\u003c/span\u003e)\n      .execute(ar1 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n        conn\n          .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO Users (first_name,last_name) VALUES (\u0026#x27;Emad\u0026#x27;,\u0026#x27;Alblueshi\u0026#x27;)\u0026quot;\u003c/span\u003e)\n          .execute(ar2 -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n            \u003cspan class=\"hljs-comment\"\u003e// Commit the transaction\u003c/span\u003e\n            tx.commit(ar3 -\u0026gt; {\n              \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar3.succeeded()) {\n                System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Transaction succeeded\u0026quot;\u003c/span\u003e);\n              } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Transaction failed \u0026quot;\u003c/span\u003e + ar3.cause().getMessage());\n              }\n              \u003cspan class=\"hljs-comment\"\u003e// Return the connection to the pool\u003c/span\u003e\n              conn.close();\n            });\n          } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n            \u003cspan class=\"hljs-comment\"\u003e// Return the connection to the pool\u003c/span\u003e\n            conn.close();\n          }\n        });\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// Return the connection to the pool\u003c/span\u003e\n        conn.close();\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen the database server reports the current transaction is failed (e.g the infamous \u003cem\u003ecurrent transaction is aborted, commands ignored until\nend of transaction block\u003c/em\u003e), the transaction is rollbacked and the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/Transaction.html#abortHandler-io.vertx.core.Handler-\"\u003eabortHandler\u003c/a\u003e\u003c/code\u003e\nis called:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003etx.abortHandler(v -\u0026gt; {\n  System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Transaction failed =\u0026gt; rollbacked\u0026quot;\u003c/span\u003e);\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_simplified_transaction_api\"\u003e\u003ca class=\"anchor\" href=\"#_simplified_transaction_api\"\u003e\u003c/a\u003eSimplified transaction API\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you use a pool, you can start a transaction directly on the pool.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt borrows a connection from the pool, begins the transaction and releases the connection to the pool when the transaction ends.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003epool.begin(res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Get the transaction\u003c/span\u003e\n    Transaction tx = res.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Various statements\u003c/span\u003e\n    tx.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO Users (first_name,last_name) VALUES (\u0026#x27;Julien\u0026#x27;,\u0026#x27;Viet\u0026#x27;)\u0026quot;\u003c/span\u003e)\n      .execute(ar1 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n        tx.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO Users (first_name,last_name) VALUES (\u0026#x27;Emad\u0026#x27;,\u0026#x27;Alblueshi\u0026#x27;)\u0026quot;\u003c/span\u003e)\n          .execute(ar2 -\u0026gt; {\n          \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n            \u003cspan class=\"hljs-comment\"\u003e// Commit the transaction\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// the connection will automatically return to the pool\u003c/span\u003e\n            tx.commit(ar3 -\u0026gt; {\n              \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar3.succeeded()) {\n                System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Transaction succeeded\u0026quot;\u003c/span\u003e);\n              } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n                System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Transaction failed \u0026quot;\u003c/span\u003e + ar3.cause().getMessage());\n              }\n            });\n          }\n        });\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        \u003cspan class=\"hljs-comment\"\u003e// No need to close connection as transaction will abort and be returned to the pool\u003c/span\u003e\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003e注意\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\nthis code will not close the connection because it will always be released back to the pool when the transaction\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_cursors_and_streaming\"\u003e\u003ca class=\"anchor\" href=\"#_cursors_and_streaming\"\u003e\u003c/a\u003eCursors and streaming\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default prepared query execution fetches all rows, you can use a\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/Cursor.html\"\u003eCursor\u003c/a\u003e\u003c/code\u003e to control the amount of rows you want to read:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE age \u0026gt; ?\u0026quot;\u003c/span\u003e, ar1 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    PreparedStatement pq = ar1.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Create a cursor\u003c/span\u003e\n    Cursor cursor = pq.cursor(Tuple.of(\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e));\n\n    \u003cspan class=\"hljs-comment\"\u003e// Read 50 rows\u003c/span\u003e\n    cursor.read(\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e, ar2 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        RowSet\u0026lt;Row\u0026gt; rows = ar2.result();\n\n        \u003cspan class=\"hljs-comment\"\u003e// Check for more ?\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (cursor.hasMore()) {\n          \u003cspan class=\"hljs-comment\"\u003e// Repeat the process...\u003c/span\u003e\n        } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n          \u003cspan class=\"hljs-comment\"\u003e// No more rows - close the cursor\u003c/span\u003e\n          cursor.close();\n        }\n      }\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCursors shall be closed when they are released prematurely:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003ecursor.read(\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e, ar2 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Close the cursor\u003c/span\u003e\n    cursor.close();\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA stream API is also available for cursors, which can be more convenient, specially with the Rxified version.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.prepare(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users WHERE age \u0026gt; ?\u0026quot;\u003c/span\u003e, ar1 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    PreparedStatement pq = ar1.result();\n\n    \u003cspan class=\"hljs-comment\"\u003e// Fetch 50 rows at a time\u003c/span\u003e\n    RowStream\u0026lt;Row\u0026gt; stream = pq.createStream(\u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e, Tuple.of(\u003cspan class=\"hljs-number\"\u003e18\u003c/span\u003e));\n\n    \u003cspan class=\"hljs-comment\"\u003e// Use the stream\u003c/span\u003e\n    stream.exceptionHandler(err -\u0026gt; {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Error: \u0026quot;\u003c/span\u003e + err.getMessage());\n    });\n    stream.endHandler(v -\u0026gt; {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;End of stream\u0026quot;\u003c/span\u003e);\n    });\n    stream.handler(row -\u0026gt; {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;User: \u0026quot;\u003c/span\u003e + row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;last_name\u0026quot;\u003c/span\u003e));\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe stream read the rows by batch of \u003ccode\u003e50\u003c/code\u003e and stream them, when the rows have been passed to the handler,\na new batch of \u003ccode\u003e50\u003c/code\u003e is read and so on.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe stream can be resumed or paused, the loaded rows will remain in memory until they are delivered and the cursor\nwill stop iterating.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_type_mapping\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_type_mapping\"\u003e\u003c/a\u003eMySQL type mapping\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCurrently the client supports the following MySQL types\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eBOOL,BOOLEAN (\u003ccode\u003ejava.lang.Byte\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYINT (\u003ccode\u003ejava.lang.Byte\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYINT UNSIGNED(\u003ccode\u003ejava.lang.Short\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSMALLINT (\u003ccode\u003ejava.lang.Short\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSMALLINT UNSIGNED(\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMINT (\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMINT UNSIGNED(\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eINT,INTEGER (\u003ccode\u003ejava.lang.Integer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eINTEGER UNSIGNED(\u003ccode\u003ejava.lang.Long\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBIGINT (\u003ccode\u003ejava.lang.Long\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBIGINT UNSIGNED(\u003ccode\u003eio.vertx.sqlclient.data.Numeric\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eFLOAT (\u003ccode\u003ejava.lang.Float\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eFLOAT UNSIGNED(\u003ccode\u003ejava.lang.Float\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDOUBLE (\u003ccode\u003ejava.lang.Double\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDOUBLE UNSIGNED(\u003ccode\u003ejava.lang.Double\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBIT (\u003ccode\u003ejava.lang.Long\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNUMERIC (\u003ccode\u003eio.vertx.sqlclient.data.Numeric\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eNUMERIC UNSIGNED(\u003ccode\u003eio.vertx.sqlclient.data.Numeric\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDATE (\u003ccode\u003ejava.time.LocalDate\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDATETIME (\u003ccode\u003ejava.time.LocalDateTime\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTIME (\u003ccode\u003ejava.time.Duration\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTIMESTAMP (\u003ccode\u003ejava.time.LocalDateTime\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYEAR (\u003ccode\u003ejava.lang.Short\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCHAR (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eVARCHAR (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBINARY (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eVARBINARY (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTINYTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMEDIUMTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLONGBLOB (\u003ccode\u003eio.vertx.core.buffer.Buffer\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLONGTEXT (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eENUM (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eSET (\u003ccode\u003ejava.lang.String\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eJSON (\u003ccode\u003eio.vertx.core.json.JsonObject\u003c/code\u003e, \u003ccode\u003eio.vertx.core.json.JsonArray\u003c/code\u003e, \u003ccode\u003eNumber\u003c/code\u003e, \u003ccode\u003eBoolean\u003c/code\u003e, \u003ccode\u003eString\u003c/code\u003e, \u003ccode\u003eio.vertx.sqlclient.Tuple#JSON_NULL\u003c/code\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTuple decoding uses the above types when storing values\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote: In Java there is no specific representations for unsigned numeric values, so this client will convert an unsigned value to the correlated Java type.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_implicit_type_conversion\"\u003e\u003ca class=\"anchor\" href=\"#_implicit_type_conversion\"\u003e\u003c/a\u003eImplicit type conversion\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Reactive MySQL Client supports implicit type conversions when executing a prepared statement.\nSuppose you have a \u003ccode\u003eTIME\u003c/code\u003e column in your table, the two examples below will both work here.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM students WHERE updated_time = ?\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(LocalTime.of(\u003cspan class=\"hljs-number\"\u003e19\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e)), ar -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// handle the results\u003c/span\u003e\n});\n\u003cspan class=\"hljs-comment\"\u003e// this will also work with implicit type conversion\u003c/span\u003e\nclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM students WHERE updated_time = ?\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(\u003cspan class=\"hljs-string\"\u003e\u0026quot;19:10:25\u0026quot;\u003c/span\u003e), ar -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// handle the results\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe MySQL data type for encoding will be inferred from the parameter values and here is the type mapping\u003c/p\u003e\n\u003c/div\u003e\n\u003ctable class=\"tableblock frame-all grid-all stretch\"\u003e\n\u003ccolgroup\u003e\n\u003ccol style=\"width: 50%;\"\u003e\n\u003ccol style=\"width: 50%;\"\u003e\n\u003c/colgroup\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth class=\"tableblock halign-left valign-top\"\u003eParameter value type\u003c/th\u003e\n\u003cth class=\"tableblock halign-left valign-top\"\u003eencoding MySQL type\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003enull\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_NULL\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Byte\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_TINY\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Boolean\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_TINY\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Short\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_SHORT\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Integer\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_LONG\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Long\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_LONGLONG\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Double\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_DOUBLE\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.lang.Float\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_FLOAT\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.time.LocalDate\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_DATE\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.time.Duration\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_TIME\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.time.LocalTime\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_TIME\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eio.vertx.core.buffer.Buffer\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_BLOB\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003ejava.time.LocalDateTime\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_DATETIME\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003edefault\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-left valign-top\"\u003e\u003cp class=\"tableblock\"\u003eMYSQL_TYPE_STRING\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_boolean\"\u003e\u003ca class=\"anchor\" href=\"#_handling_boolean\"\u003e\u003c/a\u003eHandling BOOLEAN\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn MySQL \u003ccode\u003eBOOLEAN\u003c/code\u003e and \u003ccode\u003eBOOL\u003c/code\u003e data types are synonyms for \u003ccode\u003eTINYINT(1)\u003c/code\u003e. A value of zero is considered false, non-zero values are considered true.\nA \u003ccode\u003eBOOLEAN\u003c/code\u003e data type value is stored in \u003ccode\u003eRow\u003c/code\u003e or \u003ccode\u003eTuple\u003c/code\u003e as \u003ccode\u003ejava.lang.Byte\u003c/code\u003e type, you can call \u003ccode\u003eRow#getValue\u003c/code\u003e to retrieve it as a \u003ccode\u003ejava.lang.Byte\u003c/code\u003e value,\nor you can call \u003ccode\u003eRow#getBoolean\u003c/code\u003e to retrieve it as \u003ccode\u003ejava.lang.Boolean\u003c/code\u003e value.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT graduated FROM students WHERE id = 0\u0026quot;\u003c/span\u003e)\n  .execute(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    RowSet\u0026lt;Row\u0026gt; rowSet = ar.result();\n    \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (Row row : rowSet) {\n      \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e pos = row.getColumnIndex(\u003cspan class=\"hljs-string\"\u003e\u0026quot;graduated\u0026quot;\u003c/span\u003e);\n      Byte value = row.get(Byte.class, pos);\n      Boolean graduated = row.getBoolean(\u003cspan class=\"hljs-string\"\u003e\u0026quot;graduated\u0026quot;\u003c/span\u003e);\n    }\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you want to execute a prepared statement with a param of a \u003ccode\u003eBOOLEAN\u003c/code\u003e value, you can simply add the \u003ccode\u003ejava.lang.Boolean\u003c/code\u003e value to the params list.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient\n  .preparedQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;UPDATE students SET graduated = ? WHERE id = 0\u0026quot;\u003c/span\u003e)\n  .execute(Tuple.of(\u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e), ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Updated with the boolean value\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_json\"\u003e\u003ca class=\"anchor\" href=\"#_handling_json\"\u003e\u003c/a\u003eHandling JSON\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL \u003ccode\u003eJSON\u003c/code\u003e data type is represented by the following Java types:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eString\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eNumber\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eBoolean\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.core.json.JsonObject\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.core.json.JsonArray\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eio.vertx.sqlclient.Tuple#JSON_NULL\u003c/code\u003e for representing the JSON null literal\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eTuple tuple = Tuple.of(\n  Tuple.JSON_NULL,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\u0026quot;foo\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;bar\u0026quot;\u003c/span\u003e),\n  \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Retrieving json\u003c/span\u003e\nObject value = tuple.getValue(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// Expect JSON_NULL\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nvalue = tuple.get(JsonObject.class, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// Expect JSON object\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e//\u003c/span\u003e\nvalue = tuple.get(Integer.class, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// Expect 3\u003c/span\u003e\nvalue = tuple.getInteger(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// Expect 3\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_bit\"\u003e\u003ca class=\"anchor\" href=\"#_handling_bit\"\u003e\u003c/a\u003eHandling BIT\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003eBIT\u003c/code\u003e data type is mapped to \u003ccode\u003ejava.lang.Long\u003c/code\u003e type, but Java has no notion of unsigned numeric values, so if you want to insert or update a record with the max value of \u003ccode\u003eBIT(64)\u003c/code\u003e, you can do some tricks setting the parameter to \u003ccode\u003e-1L\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_time\"\u003e\u003ca class=\"anchor\" href=\"#_handling_time\"\u003e\u003c/a\u003eHandling TIME\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL \u003ccode\u003eTIME\u003c/code\u003e data type can be used to represent either time of a day or a time interval which ranges from \u003ccode\u003e-838:59:59\u003c/code\u003e to \u003ccode\u003e838:59:59\u003c/code\u003e. In Reactive MySQL client the \u003ccode\u003eTIME\u003c/code\u003e data type is mapped to \u003ccode\u003ejava.time.Duration\u003c/code\u003e natively, but you can also retrieve it as a \u003ccode\u003ejava.time.LocalTime\u003c/code\u003e via \u003ccode\u003eRow#getLocalTime\u003c/code\u003e accessor.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_handling_numeric\"\u003e\u003ca class=\"anchor\" href=\"#_handling_numeric\"\u003e\u003c/a\u003eHandling NUMERIC\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/data/Numeric.html\"\u003eNumeric\u003c/a\u003e\u003c/code\u003e Java type is used to represent the MySQL \u003ccode\u003eNUMERIC\u003c/code\u003e type.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eNumeric numeric = row.get(Numeric.class, \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (numeric.isNaN()) {\n  \u003cspan class=\"hljs-comment\"\u003e// Handle NaN\u003c/span\u003e\n} \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n  BigDecimal value = numeric.bigDecimalValue();\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_collector_queries\"\u003e\u003ca class=\"anchor\" href=\"#_collector_queries\"\u003e\u003c/a\u003eCollector queries\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use Java collectors with the query API:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eCollector\u0026lt;Row, ?, Map\u0026lt;Long, String\u0026gt;\u0026gt; collector = Collectors.toMap(\n  row -\u0026gt; row.getLong(\u003cspan class=\"hljs-string\"\u003e\u0026quot;id\u0026quot;\u003c/span\u003e),\n  row -\u0026gt; row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;last_name\u0026quot;\u003c/span\u003e));\n\n\u003cspan class=\"hljs-comment\"\u003e// Run the query with the collector\u003c/span\u003e\nclient.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users\u0026quot;\u003c/span\u003e).collecting(collector).execute(ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n      SqlResult\u0026lt;Map\u0026lt;Long, String\u0026gt;\u0026gt; result = ar.result();\n\n      \u003cspan class=\"hljs-comment\"\u003e// Get the map created by the collector\u003c/span\u003e\n      Map\u0026lt;Long, String\u0026gt; map = result.value();\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + map);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n    }\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe collector processing must not keep a reference on the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/sqlclient/Row.html\"\u003eRow\u003c/a\u003e\u003c/code\u003e as\nthere is a single row used for processing the entire set.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Java \u003ccode\u003eCollectors\u003c/code\u003e provides many interesting predefined collectors, for example you can\ncreate easily create a string directly from the row set:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eCollector\u0026lt;Row, ?, String\u0026gt; collector = Collectors.mapping(\n  row -\u0026gt; row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;last_name\u0026quot;\u003c/span\u003e),\n  Collectors.joining(\u003cspan class=\"hljs-string\"\u003e\u0026quot;,\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;(\u0026quot;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026quot;)\u0026quot;\u003c/span\u003e)\n);\n\n\u003cspan class=\"hljs-comment\"\u003e// Run the query with the collector\u003c/span\u003e\nclient.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM users\u0026quot;\u003c/span\u003e).collecting(collector).execute(ar -\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n      SqlResult\u0026lt;String\u0026gt; result = ar.result();\n\n      \u003cspan class=\"hljs-comment\"\u003e// Get the string created by the collector\u003c/span\u003e\n      String list = result.value();\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Got \u0026quot;\u003c/span\u003e + list);\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n    }\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_stored_procedure\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_stored_procedure\"\u003e\u003c/a\u003eMySQL Stored Procedure\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can run stored procedures in queries. The result will be retrieved from the server following the \u003ca href=\"https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_sp.html\"\u003eMySQL protocol\u003c/a\u003e without any magic here.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;CREATE PROCEDURE multi() BEGIN\\n\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;  SELECT 1;\\n\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;  SELECT 1;\\n\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;  INSERT INTO ins VALUES (1);\\n\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;  INSERT INTO ins VALUES (2);\\n\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;END;\u0026quot;\u003c/span\u003e).execute(ar1 -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar1.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// create stored procedure success\u003c/span\u003e\n    client\n      .query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;CALL multi();\u0026quot;\u003c/span\u003e)\n      .execute(ar2 -\u0026gt; {\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar2.succeeded()) {\n        \u003cspan class=\"hljs-comment\"\u003e// handle the result\u003c/span\u003e\n        RowSet\u0026lt;Row\u0026gt; result1 = ar2.result();\n        Row row1 = result1.iterator().next();\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;First result: \u0026quot;\u003c/span\u003e + row1.getInteger(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e));\n\n        RowSet\u0026lt;Row\u0026gt; result2 = result1.next();\n        Row row2 = result2.iterator().next();\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Second result: \u0026quot;\u003c/span\u003e + row2.getInteger(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e));\n\n        RowSet\u0026lt;Row\u0026gt; result3 = result2.next();\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Affected rows: \u0026quot;\u003c/span\u003e + result3.rowCount());\n      } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n        System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar2.cause().getMessage());\n      }\n    });\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar1.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote: Prepared statements binding OUT parameters is not supported for now.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_local_infile\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_local_infile\"\u003e\u003c/a\u003eMySQL LOCAL INFILE\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis client supports for handling the LOCAL INFILE Request, if you want to load data from a local file into the server, you can use query\n\u003ccode\u003eLOAD DATA LOCAL INFILE '\u0026lt;filename\u0026gt;' INTO TABLE \u0026lt;table\u0026gt;;\u003c/code\u003e. More information can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/load-data.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_authentication\"\u003e\u003ca class=\"anchor\" href=\"#_authentication\"\u003e\u003c/a\u003eAuthentication\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMySQL 8.0 introduces a new authentication method named \u003ccode\u003ecaching_sha2_password\u003c/code\u003e and it\u0026#8217;s the default one to authenticate.\nIn order to connect to the server using this new authentication method, you need either use a secure connection(i.e. enable TLS/SSL) or exchange the encrypted password using an RSA key pair to avoid leaks of password. The RSA key pair is automatically exchanged during the communication, but the server RSA public key may be hacked during the process since it\u0026#8217;s transferred on a insecure connection.\nSo if you\u0026#8217;re on a insecure connection and want to avoid the risk of exposing the server RSA public key, you can set the server RSA public key like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions options1 = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e)\n  .setServerRsaPublicKeyPath(\u003cspan class=\"hljs-string\"\u003e\u0026quot;tls/files/public_key.pem\u0026quot;\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// configure with path of the public key\u003c/span\u003e\n\nMySQLConnectOptions options2 = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e)\n  .setServerRsaPublicKeyValue(Buffer.buffer(\u003cspan class=\"hljs-string\"\u003e\u0026quot;-----BEGIN PUBLIC KEY-----\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3yvG5s0qrV7jxVlp0sMj\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;xP0a6BuLKCMjb0o88hDsJ3xz7PpHNKazuEAfPxiRFVAV3edqfSiXoQw+lJf4haEG\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;HQe12Nfhs+UhcAeTKXRlZP/JNmI+BGoBduQ1rCId9bKYbXn4pvyS/a1ft7SwFkhx\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;aogCur7iIB0WUWvwkQ0fEj/Mlhw93lLVyx7hcGFq4FOAKFYr3A0xrHP1IdgnD8QZ\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;0fUbgGLWWLOossKrbUP5HWko1ghLPIbfmU6o890oj1ZWQewj1Rs9Er92/UDj/JXx\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;7ha1P+ZOgPBlV037KDQMS6cUh9vTablEHsMLhDZanymXzzjBkL+wH/b9cdL16LkQ\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;5QIDAQAB\\n\u0026quot;\u003c/span\u003e +\n    \u003cspan class=\"hljs-string\"\u003e\u0026quot;-----END PUBLIC KEY-----\\n\u0026quot;\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// configure with buffer of the public key\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information about the \u003ccode\u003ecaching_sha2_password\u003c/code\u003e authentication method can be found in the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/caching-sha2-pluggable-authentication.html\"\u003eMySQL Reference Manual\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_ssltls\"\u003e\u003ca class=\"anchor\" href=\"#_using_ssltls\"\u003e\u003c/a\u003eUsing SSL/TLS\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo configure the client to use SSL connection, you can configure the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/mysqlclient/MySQLConnectOptions.html\"\u003eMySQLConnectOptions\u003c/a\u003e\u003c/code\u003e\nlike a Vert.x \u003ccode\u003eNetClient\u003c/code\u003e.\nAll \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/connection-options.html#option_general_ssl-mode\"\u003eSSL modes\u003c/a\u003e are supported and you are able to configure \u003ccode\u003esslmode\u003c/code\u003e. The client is in \u003ccode\u003eDISABLED\u003c/code\u003e SSL mode by default.\n\u003ccode\u003essl\u003c/code\u003e parameter is kept as a mere shortcut for setting \u003ccode\u003esslmode\u003c/code\u003e. \u003ccode\u003esetSsl(true)\u003c/code\u003e is equivalent to \u003ccode\u003esetSslMode(VERIFY_CA)\u003c/code\u003e and \u003ccode\u003esetSsl(false)\u003c/code\u003e is equivalent to \u003ccode\u003esetSslMode(DISABLED)\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLConnectOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLConnectOptions()\n  .setPort(\u003cspan class=\"hljs-number\"\u003e3306\u003c/span\u003e)\n  .setHost(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-host\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;the-db\u0026quot;\u003c/span\u003e)\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;user\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;secret\u0026quot;\u003c/span\u003e)\n  .setSslMode(SslMode.VERIFY_CA)\n  .setPemTrustOptions(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PemTrustOptions().addCertPath(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/path/to/cert.pem\u0026quot;\u003c/span\u003e));\n\nMySQLConnection.connect(vertx, options, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Connected with SSL\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Could not connect \u0026quot;\u003c/span\u003e + res.cause());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore information can be found in the \u003ca href=\"http://vertx.io/docs/vertx-core/java/#ssl\"\u003eVert.x documentation\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_utility_command\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_utility_command\"\u003e\u003c/a\u003eMySQL utility command\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSometimes you want to use MySQL utility commands and we provide support for this.\nMore information can be found in the \u003ca href=\"https://dev.mysql.com/doc/dev/mysql-server/8.0.12/page_protocol_command_phase_utility.html\"\u003eMySQL utility commands\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_ping\"\u003e\u003ca class=\"anchor\" href=\"#_com_ping\"\u003e\u003c/a\u003eCOM_PING\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_PING\u003c/code\u003e command to check if the server is alive. The handler will be notified if the server responds to the PING, otherwise the handler will never be called.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.ping(ar -\u0026gt; {\n  System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;The server has responded to the PING\u0026quot;\u003c/span\u003e);\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_reset_connection\"\u003e\u003ca class=\"anchor\" href=\"#_com_reset_connection\"\u003e\u003c/a\u003eCOM_RESET_CONNECTION\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can reset the session state with \u003ccode\u003eCOM_RESET_CONNECTION\u003c/code\u003e command, this will reset the connection state like:\n- user variables\n- temporary tables\n- prepared statements\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.resetConnection(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Connection has been reset now\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_change_user\"\u003e\u003ca class=\"anchor\" href=\"#_com_change_user\"\u003e\u003c/a\u003eCOM_CHANGE_USER\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can change the user of the current connection, this will perform a re-authentication and reset the connection state like \u003ccode\u003eCOM_RESET_CONNECTION\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eMySQLAuthOptions authenticationOptions = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e MySQLAuthOptions()\n  .setUser(\u003cspan class=\"hljs-string\"\u003e\u0026quot;newuser\u0026quot;\u003c/span\u003e)\n  .setPassword(\u003cspan class=\"hljs-string\"\u003e\u0026quot;newpassword\u0026quot;\u003c/span\u003e)\n  .setDatabase(\u003cspan class=\"hljs-string\"\u003e\u0026quot;newdatabase\u0026quot;\u003c/span\u003e);\nconnection.changeUser(authenticationOptions, ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;User of current connection has been changed.\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_init_db\"\u003e\u003ca class=\"anchor\" href=\"#_com_init_db\"\u003e\u003c/a\u003eCOM_INIT_DB\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_INIT_DB\u003c/code\u003e command to change the default schema of the connection.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.specifySchema(\u003cspan class=\"hljs-string\"\u003e\u0026quot;newschema\u0026quot;\u003c/span\u003e, ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Default schema changed to newschema\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_statistics\"\u003e\u003ca class=\"anchor\" href=\"#_com_statistics\"\u003e\u003c/a\u003eCOM_STATISTICS\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_STATISTICS\u003c/code\u003e command to get a human readable string of some internal status variables in MySQL server.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.getInternalStatistics(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Statistics: \u0026quot;\u003c/span\u003e + ar.result());\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_debug\"\u003e\u003ca class=\"anchor\" href=\"#_com_debug\"\u003e\u003c/a\u003eCOM_DEBUG\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_DEBUG\u003c/code\u003e command to dump debug info to the MySQL server\u0026#8217;s STDOUT.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.debug(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Debug info dumped to server\u0026#x27;s STDOUT\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_com_set_option\"\u003e\u003ca class=\"anchor\" href=\"#_com_set_option\"\u003e\u003c/a\u003eCOM_SET_OPTION\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use \u003ccode\u003eCOM_SET_OPTION\u003c/code\u003e command to set options for the current connection. Currently only \u003ccode\u003eCLIENT_MULTI_STATEMENTS\u003c/code\u003e can be set.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor example, you can disable \u003ccode\u003eCLIENT_MULTI_STATEMENTS\u003c/code\u003e with this command.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.setOption(MySQLSetOption.MYSQL_OPTION_MULTI_STATEMENTS_OFF, ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;CLIENT_MULTI_STATEMENTS is off now\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Failure: \u0026quot;\u003c/span\u003e + ar.cause().getMessage());\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mysql_and_mariadb_version_support_matrix\"\u003e\u003ca class=\"anchor\" href=\"#_mysql_and_mariadb_version_support_matrix\"\u003e\u003c/a\u003eMySQL and MariaDB version support matrix\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003ctable class=\"tableblock frame-all grid-all stretch\"\u003e\n\u003ccolgroup\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003ccol style=\"width: 25%;\"\u003e\n\u003c/colgroup\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth class=\"tableblock halign-center valign-top\" colspan=\"2\"\u003eMySQL\u003c/th\u003e\n\u003cth class=\"tableblock halign-center valign-top\" colspan=\"2\"\u003eMariaDB\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eVersion\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eSupported\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eVersion\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003eSupported\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.5\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.1\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.6\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.2\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e5.7\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.3\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e8.0\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u003ccode\u003e10.4\u003c/code\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd class=\"tableblock halign-center valign-top\"\u003e\u003cp class=\"tableblock\"\u003e\u0026#10004;\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eKnown issues:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eReset connection utility command does not work in MySQL 5.5, 5.6 and MariaDB 10.1\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eChange user utility command is not supported with MariaDB 10.2 and 10.3\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_pitfalls_good_practices\"\u003e\u003ca class=\"anchor\" href=\"#_pitfalls_good_practices\"\u003e\u003c/a\u003ePitfalls \u0026amp; Good Practices\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere are some good practices for you to avoid common pitfalls when using the Reactive MySQL Client.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_prepared_statement_count_limit\"\u003e\u003ca class=\"anchor\" href=\"#_prepared_statement_count_limit\"\u003e\u003c/a\u003eprepared statement count limit\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSometimes you might meet the notorious error \u003ccode\u003eCan\u0026#8217;t create more than max_prepared_stmt_count statements (current value: 16382)\u003c/code\u003e, this is because the server has reached the limit of total number of prepared statement.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can adjust the server system variable \u003ccode\u003emax_prepared_stmt_count\u003c/code\u003e but it has an upper bound value so you can\u0026#8217;t get rid of the error in this way.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe best way to alleviate this is enabling prepared statement caching, so the prepared statements with the same SQL string could be reused and the client does not have to create a brand new prepared statement for every request.\nThe prepared statement will be automatically closed when it\u0026#8217;s evicted from the cache.\nIn this way the chances of reaching the limit could be greatly reduced though it could not be totally eliminated.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote using \u003ccode\u003eSqlClient#preparedQuery\u003c/code\u003e without prepared statement caching enabled will not close the prepared statement after executing!\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also manage the lifecycle of prepared statements manually by creating a \u003ccode\u003ePreparedStatement\u003c/code\u003e object via \u003ccode\u003eSqlConnection#prepare\u003c/code\u003e interface, or even use the \u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\"\u003eSQL syntax prepared statement\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_demystifying_prepared_batch\"\u003e\u003ca class=\"anchor\" href=\"#_demystifying_prepared_batch\"\u003e\u003c/a\u003edemystifying prepared batch\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere is time when you want to batch insert data into the database, you can use \u003ccode\u003ePreparedQuery#executeBatch\u003c/code\u003e which provides a simple API to handle this.\nKeep in mind that MySQL does not natively support batching protocol so the API is only a sugar by executing the prepared statement one after another, which means more network round trips are required comparing to inserting multiple rows by executing one prepared statement with a list of values.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_tricky_date_time_data_types\"\u003e\u003ca class=\"anchor\" href=\"#_tricky_date_time_data_types\"\u003e\u003c/a\u003etricky DATE \u0026amp; TIME data types\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHandling MYSQL DATE and TIME data types especially with time zones is tricky therefore the Reactive MySQL Client does no magic transformation for those values.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMySQL DATETIME data type does not contain time zone info, so what you get is identical to what you set no matter what time zone is in the current session.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMySQL TIMESTAMP data type contains time zone info, so when you set or get the value it\u0026#8217;s always transformed by the server with the timezone set in the current session.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"3.9.1"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.9.1","vertx-mysql-client","java"]},"buildId":"cmnz8BM9Df44lCybAh54T","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>