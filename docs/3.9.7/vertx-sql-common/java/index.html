<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>SQL common | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-sql-common" as="fetch" crossorigin="anonymous" class="jsx-d38685edc31911e0"/><meta name="next-head-count" content="14"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-378e68e29c265886.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-950829b7c220163d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7b206233943f98f9.js" defer=""></script><script src="/_next/static/chunks/615-7e003fd583a96500.js" defer=""></script><script src="/_next/static/chunks/619-c3b8e8451221d93e.js" defer=""></script><script src="/_next/static/chunks/81-b150334e379339f6.js" defer=""></script><script src="/_next/static/chunks/4-de615ee773d3f25e.js" defer=""></script><script src="/_next/static/chunks/434-4fb00eb04aae2efb.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-f74b5d222b77c81d.js" defer=""></script><script src="/_next/static/M2fVTXw3QfAG86fuwGUgu/_buildManifest.js" defer=""></script><script src="/_next/static/M2fVTXw3QfAG86fuwGUgu/_ssgManifest.js" defer=""></script><script src="/_next/static/M2fVTXw3QfAG86fuwGUgu/_middlewareManifest.js" defer=""></script><style id="__jsx-400ec7965926e858">.dropdown-item.jsx-400ec7965926e858 {white-space:nowrap;
line-height:2;
width:100%;
padding:0 1.5rem;
cursor:pointer}
.dropdown-item.jsx-400ec7965926e858:hover {background-color:#e9ecef}
.dropdown-item.active.jsx-400ec7965926e858 {font-weight:400;
padding-left:.75rem}
.dropdown-item.has-active-siblings.jsx-400ec7965926e858:not(.active) {padding-left:calc(0.75rem + 16px + 0.5em)}
.dropdown-item.jsx-400ec7965926e858 .dropdown-check-icon.jsx-400ec7965926e858 {width:16px;
margin-right:.5em;
margin-top:1px}</style><style id="__jsx-6650573c8f14945d">.dropdown.jsx-6650573c8f14945d {position:relative;
display:inline-block}
.dropdown.jsx-6650573c8f14945d .dropdown-title.jsx-6650573c8f14945d {margin-right:0;
cursor:pointer;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d {position:absolute;
background-color:#f8f9fa;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
border-radius:.8rem;
list-style-type:none;
padding:.6666666667rem 0;
margin:.25rem 0 0 0;
z-index:100;
display:none;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a {color:#4d4d4d;
-webkit-text-decoration:none;
text-decoration:none;
font-weight:300}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.align-right.jsx-6650573c8f14945d {right:0}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.visible.jsx-6650573c8f14945d {display:block}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a.jsx-6650573c8f14945d:hover {color:inherit}
.dropdown.jsx-6650573c8f14945d svg {margin-bottom:2px}</style><style id="__jsx-f705e145f931f504">.navbar {position:absolute;
top:2.75rem;
width:100%}
.navbar a {color:#3c3c3b}
.navbar a.navbar-menu-item, .navbar .dropdown-title {text-transform:uppercase}
.navbar a.navbar-menu-item:hover, .navbar .dropdown-title:hover {-webkit-text-decoration:none;
text-decoration:none;
color:#898987;
-webkit-transition:color .15s ease-in-out;
transition:color .15s ease-in-out}
.navbar .navbar-content {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
position:relative}
.navbar .navbar-content .navbar-logo {-webkit-flex:1;
-ms-flex:1;
flex:1}
.navbar .navbar-content .navbar-logo img {width:8.3rem}
.navbar .navbar-content .navbar-collapse-button {display:none;
cursor:pointer}
@media (max-width:1000px) {.navbar .navbar-content .navbar-collapse-button {display:inline-block}}
.navbar .navbar-content .navbar-collapse-button span {display:block;
width:33px;
height:4px;
margin-bottom:5px;
position:relative;
background:#3c3c3b;
border-radius:3px;
z-index:1;
transform-origin:4px 0;
-webkit-transition:-webkit-transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease;
transition:transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease}
.navbar .navbar-content .navbar-collapse-button span:first-child {transform-origin:0% 0%}
.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2) {transform-origin:0% 100%}
.navbar .navbar-content .navbar-right {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline;
margin-bottom:10px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-right {max-height:0;
-webkit-transition:max-height 200ms ease-in-out;
transition:max-height 200ms ease-in-out;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:absolute;
top:2.75rem;
left:.8rem;
right:.8rem;
background-color:#f8f9fa;
overflow-x:auto;
overflow-y:hidden}}
.navbar .navbar-content .navbar-menu .navbar-menu-item {font-weight:400;
margin-right:2.5rem}
.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down {margin-right:1.8rem}
@media (max-width:1250px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {margin-right:1.5rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu .navbar-menu-item {display:block;
margin-bottom:1rem;
font-size:1.2rem}}
.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon {margin-left:.25em}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
padding:1rem}}
.navbar .navbar-content .navbar-social {margin-left:1.6rem;
font-size:.875rem}
.navbar .navbar-content .navbar-social svg {height:16px;
margin-bottom:2px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social svg {height:1rem}}
@media (max-width:1250px) {.navbar .navbar-content .navbar-social {margin-left:1rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social {margin-left:auto;
padding:0 1rem 1rem 0;
font-size:1rem}}
@media (max-width:768px) {.navbar {top:1rem}}
.page .navbar {top:0;
padding-top:1.5rem;
padding-bottom:1rem;
position:fixed;
background-color:#fff;
z-index:2}</style><style id="__jsx-20d862052e50feff">.search input {color:#adb5bd;
border:1px solid #dee2e6;
border-radius:.4rem;
font-size:.875rem;
padding:.25rem 1.8rem .35rem 1.8rem;
width:100%;
-webkit-transition:color .15s ease-in-out, border-color .15s ease-in-out;
transition:color .15s ease-in-out, border-color .15s ease-in-out}
.search input:focus {border-color:#adb5bd;
color:#3c3c3b}
.search .search-icon, .search .search-icon-delete {position:absolute;
top:.55rem;
height:1rem;
stroke:#adb5bd;
-webkit-transition:stroke .15s ease-in-out;
transition:stroke .15s ease-in-out}
.search .search-icon {left:.4rem}
.search input:focus +.search-icon {stroke:#6f6970}
.search .search-icon-delete {stroke:#6f6970;
right:.4rem;
height:.75rem;
top:.7rem;
opacity:0;
-webkit-transition:opacity .15s ease-in-out;
transition:opacity .15s ease-in-out;
cursor:text}
.search.has-content .search-icon-delete {opacity:1;
cursor:pointer}</style><style id="__jsx-117e429f22e394dc">.search-results, .search-results-none {font-size:.875rem;
overflow:auto;
list-style-type:none;
padding-left:0;
display:none}
.search-results.visible, .search-results-none.visible {display:block}
.search-results {list-style-type:none;
padding:0;
margin-bottom:0}
.search-results li {display:block;
padding:.5rem;
margin-bottom:1rem;
border-radius:.4rem;
border:1px solid transparent;
cursor:pointer}
.search-results li.active {background-color:#f8f9fa;
border:1px solid #e9ecef}
.search-results li h5 {margin:0 0 .5rem 0;
font-size:1em}
.search-results li .search-results-highlight {background-color:#ff0}
.search-results-none {padding:1rem .5rem;
text-align:center;
width:100%}</style><style id="__jsx-d1843944f2d67b">.search-panel {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:relative}</style><style id="__jsx-d38685edc31911e0">.github-stars.jsx-d38685edc31911e0 {display:inline-block}
.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0 {margin-right:.25em}
.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0 svg {height:1rem}</style><style id="__jsx-aeedcf66895f49d7">footer {font-size:.875rem;
padding-top:3rem;
padding-bottom:4rem;
background-color:#f8f9fa;
border-top:1px solid #dee2e6;
margin-top:1rem;
color:#6f6970}
footer h5 {font-size:1rem;
margin-top:0;
margin-bottom:1rem;
color:#3c3c3b;
text-transform:uppercase}
footer ul {padding:0;
list-style:none;
line-height:2}
footer a {color:#6f6970}
footer .footer-logo img, footer .footer-copyright-eclipse-logo img {-webkit-filter:grayscale(100);
filter:grayscale(100);
opacity:.5;
-webkit-transition:all .15s ease-in-out;
transition:all .15s ease-in-out}
footer .footer-logo img:hover, footer .footer-copyright-eclipse-logo img:hover {-webkit-filter:grayscale(0);
filter:grayscale(0);
opacity:1}
footer .footer-nav-section {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
margin-bottom:6rem}
footer .footer-nav-section .footer-logo {margin-top:.4rem}
footer .footer-nav-section .footer-logo img {width:8.3rem}
footer .footer-nav-section .footer-nav-list {width:20%}
footer .footer-copyright {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
footer .footer-copyright a {white-space:nowrap}
footer .footer-copyright .footer-copyright-eclipse-logo {width:17%;
margin-bottom:.5rem}
@media (max-width:1250px) {footer .footer-copyright .footer-copyright-break {display:none}
footer .footer-copyright .footer-copyright-eclipse-logo {width:30%}}
@media (max-width:1000px) {footer .footer-nav-section .footer-nav-list {width:25%}
footer .footer-copyright .footer-copyright-break {display:inline-block}
footer .footer-copyright .footer-copyright-eclipse-logo {width:40%}}
@media (max-width:768px) {footer .footer-nav-section {max-width:100%;
margin-left:auto;
margin-right:auto}}
@media (max-width:640px) {footer .footer-nav-section {max-width:80%;
margin-bottom:3rem;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
footer .footer-nav-section h5 {cursor:pointer}
footer .footer-nav-section h5::after {display:inline-block;
content:"";
border-top:.4em solid;
border-right:.4em solid transparent;
border-bottom:0;
border-left:.4em solid transparent;
position:absolute;
top:.75rem;
right:0}
footer .footer-nav-section .footer-nav-list {width:100%;
position:relative}
footer .footer-nav-section .footer-nav-list ul {overflow-y:hidden;
max-height:0;
-webkit-transition:all 200ms ease-in-out;
transition:all 200ms ease-in-out}
footer .footer-nav-section .footer-nav-list ul.visible {margin-bottom:2rem}
footer .footer-nav-section .footer-logo {margin:0 auto 3rem auto;
width:auto}
footer .footer-copyright {max-width:80%;
text-align:center;
margin-left:auto;
margin-right:auto;
-webkit-flex-direction:column-reverse;
-ms-flex-direction:column-reverse;
flex-direction:column-reverse}
footer .footer-copyright .footer-copyright-eclipse-logo {width:7.6rem;
margin-bottom:1rem}}</style><style id="__jsx-efcc50be384cabc7">.page-content {margin-top:6em;
margin-bottom:8rem}
.docs .docs-content .docs-content-wrapper {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between}
.docs .docs-content .docs-content-wrapper aside {-webkit-flex:0 0 17rem;
-ms-flex:0 0 17rem;
flex:0 0 17rem}
.docs .docs-content .docs-content-wrapper aside .docs-content-wrapper-sidebar {position:-webkit-sticky;
position:sticky;
top:7em}
.docs .docs-content .docs-content-wrapper aside .search-panel {margin-top:1rem;
width:100%}
.docs .docs-content .docs-content-wrapper aside .search-panel .search-results {max-height:calc(100vh - 10rem - 1px)}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc {margin-top:1rem;
overflow-y:auto;
max-height:calc(100vh - 10rem - 3px)}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc #toctitle {display:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul {margin-top:0;
padding-left:0;
list-style-type:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul.sectlevel2 {display:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul li {padding:.3333333333rem 0}
.docs .docs-content .docs-content-wrapper aside.docs-has-search-results .docs-content-toc {display:none}
@media (max-width:1250px) {.docs .docs-content .docs-content-wrapper aside {-webkit-flex:0 0 15rem;
-ms-flex:0 0 15rem;
flex:0 0 15rem}}
@media (max-width:1000px) {.docs .docs-content .docs-content-wrapper aside {z-index:1;
position:fixed;
top:0;
right:0;
width:25rem;
height:100vh;
max-width:100%;
padding-top:6rem;
padding-left:2rem;
padding-right:2rem;
background-color:#fff;
border-left:1px solid #dee2e6;
-webkit-transform:translateX(100%);
-moz-transform:translateX(100%);
-ms-transform:translateX(100%);
transform:translateX(100%);
-webkit-transition:-webkit-transform 200ms ease-in-out;
transition:transform 200ms ease-in-out;
will-change:transform}
.docs .docs-content .docs-content-wrapper aside.collapse {-webkit-transform:translateX(0%);
-moz-transform:translateX(0%);
-ms-transform:translateX(0%);
transform:translateX(0%)}}
@media (max-width:640px) {.docs .docs-content .docs-content-wrapper aside {min-width:100%;
border-left:none}}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle {z-index:1000;
cursor:pointer;
display:none;
position:fixed;
-webkit-justify-content:center;
justify-content:center;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
right:2rem;
bottom:2rem;
color:#fff;
background-color:#4d4d4d;
padding:.5rem;
border-radius:.8rem;
-webkit-transition:background-color .15s ease-in-out;
transition:background-color .15s ease-in-out}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-list, .docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x {display:block}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x {position:absolute;
left:0;
top:0;
opacity:0;
-webkit-transition:opacity .15s ease-in-out;
transition:opacity .15s ease-in-out}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle:hover {background-color:#3c3c3b}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-list {opacity:0}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-x {opacity:1}
@media (max-width:1000px) {.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}}
@media (max-width:640px) {.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle {right:1rem;
bottom:1rem}}
.docs .docs-content .docs-content-inner {max-width:calc(100% - 19.5rem);
overflow:hidden}
.docs .docs-content .docs-content-inner .docs-content-metadata {margin-top:1.2rem;
margin-bottom:1.2rem;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
flex-wrap:wrap;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata {-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-repo {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
-webkit-flex:1;
-ms-flex:1;
flex:1}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left >* {margin-right:2rem}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left >*:last-child {margin-right:0}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
color:#6f6970;
white-space:nowrap}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a:hover {color:#782b90}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a .feather {margin-right:.25em;
height:1rem}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left {flex-wrap:wrap;
margin-bottom:1rem}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version {-webkit-flex:1;
-ms-flex:1;
flex:1;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}
@media (min-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version {-webkit-box-pack:end;
-ms-flex-pack:end;
-webkit-justify-content:flex-end;
justify-content:flex-end}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg {height:16px;
margin-bottom:-2px}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg {height:1rem;
margin-bottom:-1px}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a {-webkit-text-decoration:none;
text-decoration:none}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a:hover {color:#6f6970}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-label {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-left:2rem}
.docs .docs-content .docs-content-inner h1 {padding-top:0;
margin-top:.6rem;
line-height:1.2}
.docs .docs-content .docs-content-inner h1::after {content:"";
width:30%;
display:block;
border:2px solid #782b90;
border-radius:2px;
margin-top:1.1rem}
.docs .docs-content .docs-content-inner .ulist >ul {padding-left:1.1rem}
.docs .docs-content .docs-content-inner h2 {border-top:1px solid #dee2e6;
margin-top:5rem;
padding-top:2rem}
.docs .docs-content .docs-content-inner h3, .docs .docs-content .docs-content-inner h4 {margin-top:3rem}
@media (max-width:1250px) {.docs .docs-content .docs-content-inner {max-width:calc(100% - 17.5rem)}}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner {max-width:100%}}
.docs .docs-content .admonitionblock {border-top-right-radius:.8rem;
border-bottom-right-radius:.8rem;
background-color:#f8f9fa;
padding:1rem;
margin:1.5rem 0;
border-left:9px solid transparent}
.docs .docs-content .admonitionblock.note, .docs .docs-content .admonitionblock.tip {border-color:#6cb9f0}
.docs .docs-content .admonitionblock.important, .docs .docs-content .admonitionblock.warning, .docs .docs-content .admonitionblock.caution {border-color:#f0a46c}
.docs .docs-content .admonitionblock tr {display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.docs .docs-content .admonitionblock .title {font-weight:400}
.docs .docs-content .admonitionblock .title::after {content:":"}
.docs .docs-content dt {font-weight:400}
.docs .docs-content .anchor {opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.docs .docs-content .anchor::after {content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.docs .docs-content .anchor:hover {opacity:1}
.docs .docs-content h2:hover .anchor, .docs .docs-content h3:hover .anchor, .docs .docs-content h4:hover .anchor, .docs .docs-content h5:hover .anchor, .docs .docs-content h6:hover .anchor {opacity:1}
.docs .docs-content h1 .anchor {display:none}
.docs .docs-content h4 .anchor::after, .docs .docs-content h5 .anchor::after, .docs .docs-content h6 .anchor::after {padding-right:.6rem}</style><style id="__jsx-7824b3ad3820c879">html {line-height:1.15;
-webkit-text-size-adjust:100%}
body {margin:0}
main {display:block}
h1 {font-size:2em;
margin:.67em 0}
hr {box-sizing:content-box;
height:0;
overflow:visible}
pre {font-family:monospace, monospace;
font-size:1em}
a {background-color:transparent}
abbr[title] {border-bottom:none;
text-decoration:underline;
text-decoration:underline dotted}
b, strong {font-weight:bolder}
code, kbd, samp {font-family:monospace, monospace;
font-size:1em}
small {font-size:80%}
sub, sup {font-size:75%;
line-height:0;
position:relative;
vertical-align:baseline}
sub {bottom:-0.25em}
sup {top:-0.5em}
img {border-style:none}
button, input, optgroup, select, textarea {font-family:inherit;
font-size:100%;
line-height:1.15;
margin:0}
button, input {overflow:visible}
button, select {text-transform:none}
button, [type=button], [type=reset], [type=submit] {-webkit-appearance:button}
button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner {border-style:none;
padding:0}
button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring {outline:1px dotted ButtonText}
fieldset {padding:.35em .75em .625em}
legend {box-sizing:border-box;
color:inherit;
display:table;
max-width:100%;
padding:0;
white-space:normal}
progress {vertical-align:baseline}
textarea {overflow:auto}
[type=checkbox], [type=radio] {box-sizing:border-box;
padding:0}
[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button {height:auto}
[type=search] {-webkit-appearance:textfield;
outline-offset:-2px}
[type=search]::-webkit-search-decoration {-webkit-appearance:none}
::-webkit-file-upload-button {-webkit-appearance:button;
font:inherit}
details {display:block}
summary {display:list-item}
template {display:none}
[hidden] {display:none}
.hljs, pre {display:block;
overflow-x:auto;
padding:.5em;
background:#3a2840;
color:#fff}
.hljs.language-shell :not(.bash) +.bash, .hljs.language-better-shell :not(.bash) +.bash, pre.language-shell :not(.bash) +.bash, pre.language-better-shell :not(.bash) +.bash {color:#d2a8e0}
pre {border-radius:.8rem;
padding:1rem;
font-size:.875rem;
margin:1.5rem 0}
.hljs-keyword, .hljs-selector-tag, .hljs-tag {color:#d2a8e0}
.hljs-template-tag {color:red}
.hljs-number {color:#6cb9f0}
.hljs-variable, .hljs-template-variable, .hljs-attribute, .hljs-literal {color:#c9e5f9}
.hljs-subst {color:red}
.hljs-title, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-section, .hljs-type {color:#f0a46c}
.hljs-symbol, .hljs-bullet, .hljs-link {color:#d2a8e0}
.hljs-deletion, .hljs-string, .hljs-built_in, .hljs-builtin-name {color:#6cb9f0}
.hljs-addition, .hljs-comment, .hljs-quote, .hljs-meta {color:#adb5bd}
.hljs-emphasis {font-style:italic}
.hljs-strong {font-weight:bold}
#nprogress {pointer-events:none}
#nprogress .bar {background:#29d;
position:fixed;
z-index:1031;
top:0;
left:0;
width:100%;
height:2px}
#nprogress .peg {display:block;
position:absolute;
right:0px;
width:100px;
height:100%;
box-shadow:0 0 10px #29d, 0 0 5px #29d;
opacity:1;
-webkit-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
-webkit-transform:rotate(3deg) translate(0px, -4px);
-moz-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
transform:rotate(3deg) translate(0px, -4px)}
#nprogress .spinner {display:block;
position:fixed;
z-index:1031;
top:15px;
right:15px}
#nprogress .spinner-icon {width:18px;
height:18px;
box-sizing:border-box;
border:solid 2px transparent;
border-top-color:#29d;
border-left-color:#29d;
border-radius:50%;
-webkit-animation:nprogress-spinner 400ms linear infinite;
-webkit-animation:nprogress-spinner 400ms linear infinite;
animation:nprogress-spinner 400ms linear infinite}
.nprogress-custom-parent {overflow:hidden;
position:relative}
.nprogress-custom-parent #nprogress .spinner, .nprogress-custom-parent #nprogress .bar {position:absolute}
@keyframes nprogress-spinner {0% {-webkit-transform:rotate(0deg)}100% {-webkit-transform:rotate(360deg)}}
@keyframes nprogress-spinner {0% {transform:rotate(0deg)}100% {transform:rotate(360deg)}}
#nprogress .bar {background:#782b90}
#nprogress .peg {box-shadow:0 0 10px #782b90, 0 0 5px #782b90}
#nprogress .spinner-icon {border-top-color:#782b90;
border-left-color:#782b90}
html {box-sizing:border-box}
*, *::before, *::after {box-sizing:inherit}
:root {font-size:18px}
@media (max-width:1000px) {:root {font-size:17.1px}}
@media (max-width:768px) {:root {font-size:16.2px}}
@media (max-width:640px) {:root {font-size:15.3px}}
body, input {font-family:Roboto, sans-serif;
font-weight:300;
line-height:1.7;
color:#3c3c3b}
input {outline:none}
h1, h2, h3, h4, h5, h6 {font-weight:400}
h1 {font-size:2.5rem}
h2 {font-size:2rem}
h3 {font-size:1.75rem}
h4 {font-size:1.5rem}
h5 {font-size:1.25rem}
h6 {font-size:1.1rem}
.container {width:100%;
padding-right:.8rem;
padding-left:.8rem;
margin-right:auto;
margin-left:auto}
@media (min-width:640px) {.container {max-width:620px}}
@media (min-width:768px) {.container {max-width:738px}}
@media (min-width:1000px) {.container {max-width:950px}}
@media (min-width:1250px) {.container {max-width:1180px}}
@media (min-width:1250px) {.container-narrow {max-width:950px}}
.img-fluid {max-width:100%}
a {-webkit-text-decoration:none;
text-decoration:none;
color:#782b90}
a:hover {text-decoration:underline;
color:#571f69}
img {vertical-align:middle}
svg {overflow:hidden;
vertical-align:middle}
code, pre {font-family:"Roboto Mono", SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
p code {display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
max-width:100%;
overflow:auto}
.heading-anchor {opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.heading-anchor::after {content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.heading-anchor:hover {opacity:1}
h2:hover .heading-anchor, h3:hover .heading-anchor, h4:hover .heading-anchor, h5:hover .heading-anchor, h6:hover .heading-anchor {opacity:1}
h1 .heading-anchor {display:none}
h4 .heading-anchor::after, h5 .heading-anchor::after, h6 .heading-anchor::after {padding-right:.6rem}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v19/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2021-12-24T02:13:30.113Z" data-build-commit-id="f3c2519f6d4119c4d26af1bae0ee1d515d4ad298" data-build-run-id="1617770784"><div id="__next" data-reactroot=""><main class="jsx-efcc50be384cabc7 page docs"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">简介</li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">文档</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">答疑</li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">博客</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">社区</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/translation/">翻译团队</a></div><div class="jsx-f705e145f931f504 navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" title="Stack Overflow" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>stackoverflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" title="YouTube" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>youtube</title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a><a href="https://discord.gg/KzEMwP2" title="Discord" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>discord</title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="jsx-efcc50be384cabc7 page-content docs-content"><div class="jsx-efcc50be384cabc7 container"><div class="jsx-efcc50be384cabc7 docs-content-wrapper"><aside class="jsx-efcc50be384cabc7 "><div class="jsx-efcc50be384cabc7 docs-content-wrapper-sidebar"><div class="jsx-d1843944f2d67b search-panel"><div class="jsx-20d862052e50feff search"><input type="text" placeholder="Search..." value="" class="jsx-20d862052e50feff"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-117e429f22e394dc search-results"></ul><div class="jsx-117e429f22e394dc search-results-none">No results.</div></div><div class="jsx-efcc50be384cabc7 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_vert_x_common_sql_interface">Vert.x Common SQL interface</a></li>
<li><a href="#_simple_sql_operations">Simple SQL Operations</a></li>
<li><a href="#_the_sql_connection">The SQL Connection</a>
<ul class="sectlevel2">
<li><a href="#_auto_commit">Auto-commit</a></li>
<li><a href="#_executing_queries">Executing queries</a></li>
<li><a href="#_prepared_statement_queries">Prepared statement queries</a></li>
<li><a href="#_executing_insert_update_or_delete">Executing INSERT, UPDATE or DELETE</a></li>
<li><a href="#_prepared_statement_updates">Prepared statement updates</a></li>
<li><a href="#_callable_statements">Callable statements</a></li>
<li><a href="#_batch_operations">Batch operations</a></li>
<li><a href="#_executing_other_operations">Executing other operations</a></li>
<li><a href="#_multiple_resultset_responses">Multiple ResultSet responses</a></li>
<li><a href="#_streaming">Streaming</a></li>
<li><a href="#_using_transactions">Using transactions</a></li>
<li><a href="#_closing_connections">Closing connections</a></li>
</ul>
</li>
<li><a href="#_rxjava_2_api">RxJava 2 API</a>
<ul class="sectlevel2">
<li><a href="#_sql_transaction_management_with_rxjava">SQL Transaction management with RxJava</a></li>
</ul>
</li>
</ul>
</div></div></div></aside><div class="jsx-efcc50be384cabc7 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-efcc50be384cabc7"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-efcc50be384cabc7 docs-content-inner"><div class="jsx-efcc50be384cabc7 docs-content-metadata"><div class="jsx-efcc50be384cabc7 docs-content-metadata-left"><div class="jsx-efcc50be384cabc7 docs-content-metadata-repo"><div class="jsx-d38685edc31911e0 github-stars"><a href="https://github.com/vert-x3/vertx-sql-common" class="jsx-d38685edc31911e0"><div class="jsx-d38685edc31911e0 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->null stars</a></div></div><div class="jsx-efcc50be384cabc7"><a href="https://vertx.io/docs/apidocs" class="jsx-efcc50be384cabc7"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="jsx-efcc50be384cabc7 docs-content-metadata-edit"><a href="https://github.com/vert-x3/vertx-sql-common/tree/3.9/src/main/asciidoc"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> 改进翻译</a></div><span class="jsx-efcc50be384cabc7 docs-content-metadata-version"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">v4.2.3<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu align-right"><a href="/docs/3.9.12/vertx-sql-common/java/"><li class="jsx-400ec7965926e858 dropdown-item">v<!-- -->3.9.12</li></a></ul></div></span></div></div><div class="jsx-efcc50be384cabc7">
<div class="sect1">
<h2 id="_vert_x_common_sql_interface"><a class="anchor" href="#_vert_x_common_sql_interface"></a>Vert.x Common SQL interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The common SQL interface is used to interact with Vert.x SQL services.</p>
</div>
<div class="paragraph">
<p>You obtain a connection to the database via the service interface for the specific SQL service that
you are using (e.g. JDBC/MySQL/PostgreSQL).</p>
</div>
<div class="paragraph">
<p>To use this project, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-sql-common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.7<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">&#x27;io.vertx:vertx-sql-common:3.9.7&#x27;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simple_sql_operations"><a class="anchor" href="#_simple_sql_operations"></a>Simple SQL Operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are times when you will want to run a single SQL operation, e.g.: a single select of a row, or a update to a
set of rows which do not require to be part of a transaction or have dependencies on the previous or next operation.</p>
</div>
<div class="paragraph">
<p>For these cases, clients provide a boilerplate-less API <code><a href="../../apidocs/io/vertx/ext/sql/SQLOperations.html">SQLOperations</a></code>. This interface will
perform the following steps for you:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>acquire a connection from the connection pool</p>
</li>
<li>
<p>perform your action</p>
</li>
<li>
<p>close and return the connection to the connection pool</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An example where users get loaded from the <code>USERS</code> table could be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">client.query(<span class="hljs-string">&quot;SELECT * FROM USERS&quot;</span>, ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.succeeded()) {
    <span class="hljs-keyword">if</span> (ar.succeeded()) {
      ResultSet result = ar.result();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// Failed!</span>
    }
    <span class="hljs-comment">// NOTE that you don&#x27;t need to worry about</span>
    <span class="hljs-comment">// the connection management (e.g.: close)</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can perform the following operations as a simple one "shot" method call:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#query-java.lang.String-io.vertx.core.Handler-">query</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#queryWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">queryWithParams</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLOperations.html#querySingle-java.lang.String-io.vertx.core.Handler-">querySingle</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLOperations.html#querySingleWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">querySingleWithParams</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#update-java.lang.String-io.vertx.core.Handler-">update</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#updateWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">updateWithParams</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#call-java.lang.String-io.vertx.core.Handler-">call</a></code></p>
</li>
<li>
<p><code><a href="../../apidocs/io/vertx/ext/sql/SQLClient.html#callWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">callWithParams</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For further details on these API please refer to the <code><a href="../../apidocs/io/vertx/ext/sql/SQLOperations.html">SQLOperations</a></code> interface.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_sql_connection"><a class="anchor" href="#_the_sql_connection"></a>The SQL Connection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A connection to the database is represented by <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html">SQLConnection</a></code>.</p>
</div>
<div class="sect2">
<h3 id="_auto_commit"><a class="anchor" href="#_auto_commit"></a>Auto-commit</h3>
<div class="paragraph">
<p>When you obtain a connection auto commit is set to <code>true</code>. This means that each operation you perform will effectively
execute in its own transaction.</p>
</div>
<div class="paragraph">
<p>If you wish to perform multiple operations in a single transaction you should set auto commit to false with
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#setAutoCommit-boolean-io.vertx.core.Handler-">setAutoCommit</a></code>.</p>
</div>
<div class="paragraph">
<p>When the operation is complete, the handler will be called:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.setAutoCommit(<span class="hljs-keyword">false</span>, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// OK!</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executing_queries"><a class="anchor" href="#_executing_queries"></a>Executing queries</h3>
<div class="paragraph">
<p>To execute a query use <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#query-java.lang.String-io.vertx.core.Handler-">query</a></code></p>
</div>
<div class="paragraph">
<p>The query string is raw SQL that is passed through without changes to the actual database.</p>
</div>
<div class="paragraph">
<p>The handler will be called with the results, represented by <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html">ResultSet</a></code> when the query has
been run.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.query(<span class="hljs-string">&quot;SELECT ID, FNAME, LNAME, SHOE_SIZE from PEOPLE&quot;</span>, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Get the result set</span>
    ResultSet resultSet = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html">ResultSet</a></code> instance represents the results of a query.</p>
</div>
<div class="paragraph">
<p>The list of column names are available with <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html#getColumnNames--">getColumnNames</a></code>, and the actual results
available with <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html#getResults--">getResults</a></code></p>
</div>
<div class="paragraph">
<p>The results are a list of <code><a href="../../apidocs/io/vertx/core/json/JsonArray.html">JsonArray</a></code> instances, one for each row of the results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;String&gt; columnNames = resultSet.getColumnNames();

List&lt;JsonArray&gt; results = resultSet.getResults();

<span class="hljs-keyword">for</span> (JsonArray row : results) {

  String id = row.getString(<span class="hljs-number">0</span>);
  String fName = row.getString(<span class="hljs-number">1</span>);
  String lName = row.getString(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">int</span> shoeSize = row.getInteger(<span class="hljs-number">3</span>);

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also retrieve the rows as a list of Json object instances with <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html#getRows--">getRows</a></code> -
this can give you a somewhat simpler API to work with, but please be aware that SQL results can contain duplicate
column names - if that&#8217;s the case you should use <code><a href="../../apidocs/io/vertx/ext/sql/ResultSet.html#getResults--">getResults</a></code> instead.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of iterating through the results as Json object instances:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;JsonObject&gt; rows = resultSet.getRows();

<span class="hljs-keyword">for</span> (JsonObject row : rows) {

  String id = row.getString(<span class="hljs-string">&quot;ID&quot;</span>);
  String fName = row.getString(<span class="hljs-string">&quot;FNAME&quot;</span>);
  String lName = row.getString(<span class="hljs-string">&quot;LNAME&quot;</span>);
  <span class="hljs-keyword">int</span> shoeSize = row.getInteger(<span class="hljs-string">&quot;SHOE_SIZE&quot;</span>);

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_prepared_statement_queries"><a class="anchor" href="#_prepared_statement_queries"></a>Prepared statement queries</h3>
<div class="paragraph">
<p>To execute a prepared statement query you can use
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#queryWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">queryWithParams</a></code>.</p>
</div>
<div class="paragraph">
<p>This takes the query, containing the parameter place holders, and a <code><a href="../../apidocs/io/vertx/core/json/JsonArray.html">JsonArray</a></code> or parameter
values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String query = <span class="hljs-string">&quot;SELECT ID, FNAME, LNAME, SHOE_SIZE from PEOPLE WHERE LNAME=? AND SHOE_SIZE &gt; ?&quot;</span>;
JsonArray params = <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;Fox&quot;</span>).add(<span class="hljs-number">9</span>);

connection.queryWithParams(query, params, res -&gt; {

  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Get the result set</span>
    ResultSet resultSet = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executing_insert_update_or_delete"><a class="anchor" href="#_executing_insert_update_or_delete"></a>Executing INSERT, UPDATE or DELETE</h3>
<div class="paragraph">
<p>To execute an operation which updates the database use <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#update-java.lang.String-io.vertx.core.Handler-">update</a></code>.</p>
</div>
<div class="paragraph">
<p>The update string is raw SQL that is passed through without changes to the actual database.</p>
</div>
<div class="paragraph">
<p>The handler will be called with the results, represented by <code><a href="../../apidocs/io/vertx/ext/sql/UpdateResult.html">UpdateResult</a></code> when the update has
been run.</p>
</div>
<div class="paragraph">
<p>The update result holds the number of rows updated with <code><a href="../../apidocs/io/vertx/ext/sql/UpdateResult.html#getUpdated--">getUpdated</a></code>, and
if the update generated keys, they are available with <code><a href="../../apidocs/io/vertx/ext/sql/UpdateResult.html#getKeys--">getKeys</a></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.update(<span class="hljs-string">&quot;INSERT INTO PEOPLE VALUES (null, &#x27;john&#x27;, &#x27;smith&#x27;, 9)&quot;</span>, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {

    UpdateResult result = res.result();
    System.out.println(<span class="hljs-string">&quot;Updated no. of rows: &quot;</span> + result.getUpdated());
    System.out.println(<span class="hljs-string">&quot;Generated keys: &quot;</span> + result.getKeys());

  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_prepared_statement_updates"><a class="anchor" href="#_prepared_statement_updates"></a>Prepared statement updates</h3>
<div class="paragraph">
<p>To execute a prepared statement update you can use
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#updateWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">updateWithParams</a></code>.</p>
</div>
<div class="paragraph">
<p>This takes the update, containing the parameter place holders, and a <code><a href="../../apidocs/io/vertx/core/json/JsonArray.html">JsonArray</a></code> or parameter
values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String update = <span class="hljs-string">&quot;UPDATE PEOPLE SET SHOE_SIZE = 10 WHERE LNAME=?&quot;</span>;
JsonArray params = <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;Fox&quot;</span>);

connection.updateWithParams(update, params, res -&gt; {

  <span class="hljs-keyword">if</span> (res.succeeded()) {

    UpdateResult updateResult = res.result();

    System.out.println(<span class="hljs-string">&quot;No. of rows updated: &quot;</span> + updateResult.getUpdated());

  } <span class="hljs-keyword">else</span> {

    <span class="hljs-comment">// Failed!</span>

  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_callable_statements"><a class="anchor" href="#_callable_statements"></a>Callable statements</h3>
<div class="paragraph">
<p>To execute a callable statement (either SQL functions or SQL procedures) you can use
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#callWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.json.JsonArray-io.vertx.core.Handler-">callWithParams</a></code>.</p>
</div>
<div class="paragraph">
<p>This takes the callable statement using the standard JDBC format <code>{ call func_proc_name() }</code>, optionally including
parameter place holders e.g.: <code>{ call func_proc_name(?, ?) }</code>, a <code><a href="../../apidocs/io/vertx/core/json/JsonArray.html">JsonArray</a></code> containing the
parameter values and finally a <code><a href="../../apidocs/io/vertx/core/json/JsonArray.html">JsonArray</a></code> containing the
output types e.g.: <code>[null, 'VARCHAR']</code>.</p>
</div>
<div class="paragraph">
<p>Note that the index of the output type is as important as the params array. If the return value is the second
argument then the output array must contain a null value as the first element.</p>
</div>
<div class="paragraph">
<p>A SQL function returns some output using the <code>return</code> keyword, and in this case one can call it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String func = <span class="hljs-string">&quot;{ call one_hour_ago() }&quot;</span>;

connection.call(func, res -&gt; {

  <span class="hljs-keyword">if</span> (res.succeeded()) {
    ResultSet result = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>When working with Procedures you and still return values from your procedures via its arguments, in the case you do
not return anything the usage is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String func = <span class="hljs-string">&quot;{ call new_customer(?, ?) }&quot;</span>;

connection.callWithParams(func, <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;John&quot;</span>).add(<span class="hljs-string">&quot;Doe&quot;</span>), <span class="hljs-keyword">null</span>, res -&gt; {

  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Success!</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>However you can also return values like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String func = <span class="hljs-string">&quot;{ call customer_lastname(?, ?) }&quot;</span>;

connection.callWithParams(func, <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;John&quot;</span>), <span class="hljs-keyword">new</span> JsonArray().addNull().add(<span class="hljs-string">&quot;VARCHAR&quot;</span>), res -&gt; {

  <span class="hljs-keyword">if</span> (res.succeeded()) {
    ResultSet result = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the index of the arguments matches the index of the <code>?</code> and that the output parameters expect to be a
String describing the type you want to receive.</p>
</div>
<div class="paragraph">
<p>To avoid ambiguation the implementations are expected to follow the following rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When a place holder in the <code>IN</code> array is <code>NOT NULL</code> it will be taken</p>
</li>
<li>
<p>When the <code>IN</code> value is NULL a check is performed on the OUT
When the <code>OUT</code> value is not null it will be registered as a output parameter
When the <code>OUT</code> is also null it is expected that the IN value is the <code>NULL</code> value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The registered <code>OUT</code> parameters will be available as an array in the result set under the output property.</p>
</div>
</div>
<div class="sect2">
<h3 id="_batch_operations"><a class="anchor" href="#_batch_operations"></a>Batch operations</h3>
<div class="paragraph">
<p>The SQL common interface also defines how to execute batch operations. There are 3 types of batch operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Batched statements <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#batch-java.util.List-io.vertx.core.Handler-">batch</a></code></p>
</li>
<li>
<p>Batched prepared statements <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#batchWithParams-java.lang.String-java.util.List-io.vertx.core.Handler-">batchWithParams</a></code></p>
</li>
<li>
<p>Batched callable statements <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#batchCallableWithParams-java.lang.String-java.util.List-java.util.List-io.vertx.core.Handler-">batchCallableWithParams</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A batches statement will exeucte a list of sql statements as for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;String&gt; batch = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
batch.add(<span class="hljs-string">&quot;INSERT INTO emp (NAME) VALUES (&#x27;JOE&#x27;)&quot;</span>);
batch.add(<span class="hljs-string">&quot;INSERT INTO emp (NAME) VALUES (&#x27;JANE&#x27;)&quot;</span>);

connection.batch(batch, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    List&lt;Integer&gt; result = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>While a prepared or callable statement batch will reuse the sql statement and take an list of arguments as for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">List&lt;JsonArray&gt; batch = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
batch.add(<span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;joe&quot;</span>));
batch.add(<span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">&quot;jane&quot;</span>));

connection.batchWithParams(<span class="hljs-string">&quot;INSERT INTO emp (name) VALUES (?)&quot;</span>, batch, res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    List&lt;Integer&gt; result = res.result();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_executing_other_operations"><a class="anchor" href="#_executing_other_operations"></a>Executing other operations</h3>
<div class="paragraph">
<p>To execute any other database operation, e.g. a <code>CREATE TABLE</code> you can use
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#execute-java.lang.String-io.vertx.core.Handler-">execute</a></code>.</p>
</div>
<div class="paragraph">
<p>The string is passed through without changes to the actual database. The handler is called when the operation
is complete</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">String sql = <span class="hljs-string">&quot;CREATE TABLE PEOPLE (ID int generated by default as identity (start with 1 increment by 1) not null,&quot;</span> +
  <span class="hljs-string">&quot;FNAME varchar(255), LNAME varchar(255), SHOE_SIZE int);&quot;</span>;

connection.execute(sql, execute -&gt; {
  <span class="hljs-keyword">if</span> (execute.succeeded()) {
    System.out.println(<span class="hljs-string">&quot;Table created !&quot;</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_resultset_responses"><a class="anchor" href="#_multiple_resultset_responses"></a>Multiple ResultSet responses</h3>
<div class="paragraph">
<p>In some cases your query might return more than one result set, in this case and to preserve the compatibility when
the returned result set object is converted to pure json, the next result sets are chained to the current result set
under the property <code>next</code>. A simple walk of all result sets can be achieved like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-keyword">while</span> (rs != <span class="hljs-keyword">null</span>) {
  <span class="hljs-comment">// do something with the result set...</span>

  <span class="hljs-comment">// next step</span>
  rs = rs.getNext();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_streaming"><a class="anchor" href="#_streaming"></a>Streaming</h3>
<div class="paragraph">
<p>When dealing with large data sets, it is not advised to use API just described but to stream data since it avoids
inflating the whole response into memory and JSON and data is just processed on a row by row basis, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.queryStream(<span class="hljs-string">&quot;SELECT * FROM large_table&quot;</span>, stream -&gt; {
  <span class="hljs-keyword">if</span> (stream.succeeded()) {
    stream.result().handler(row -&gt; {
      <span class="hljs-comment">// do something with the row...</span>
    });
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>You still have full control on when the stream is pauses, resumed and ended. For cases where your query returns
multiple result sets you should use the result set ended event to fetch the next one if available. If there is more
data the stream handler will receive the new data, otherwise the end handler is invoked.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.queryStream(<span class="hljs-string">&quot;SELECT * FROM large_table; SELECT * FROM other_table&quot;</span>, stream -&gt; {
  <span class="hljs-keyword">if</span> (stream.succeeded()) {
    SQLRowStream sqlRowStream = stream.result();

    sqlRowStream
      .resultSetClosedHandler(v -&gt; {
        <span class="hljs-comment">// will ask to restart the stream with the new result set if any</span>
        sqlRowStream.moreResults();
      })
      .handler(row -&gt; {
        <span class="hljs-comment">// do something with the row...</span>
      })
      .endHandler(v -&gt; {
        <span class="hljs-comment">// no more data available...</span>
      });
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_transactions"><a class="anchor" href="#_using_transactions"></a>Using transactions</h3>
<div class="paragraph">
<p>To use transactions first set auto-commit to false with <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#setAutoCommit-boolean-io.vertx.core.Handler-">setAutoCommit</a></code>.</p>
</div>
<div class="paragraph">
<p>You then do your transactional operations and when you want to commit or rollback use
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#commit-io.vertx.core.Handler-">commit</a></code> or
<code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#rollback-io.vertx.core.Handler-">rollback</a></code>.</p>
</div>
<div class="paragraph">
<p>Once the commit/rollback is complete the handler will be called and the next transaction will be automatically started.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">connection.commit(res -&gt; {
  <span class="hljs-keyword">if</span> (res.succeeded()) {
    <span class="hljs-comment">// Committed OK!</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Failed!</span>
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_closing_connections"><a class="anchor" href="#_closing_connections"></a>Closing connections</h3>
<div class="paragraph">
<p>When you&#8217;ve done with the connection you should return it to the pool with <code><a href="../../apidocs/io/vertx/ext/sql/SQLConnection.html#close-io.vertx.core.Handler-">close</a></code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rxjava_2_api"><a class="anchor" href="#_rxjava_2_api"></a>RxJava 2 API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sql_transaction_management_with_rxjava"><a class="anchor" href="#_sql_transaction_management_with_rxjava"></a>SQL Transaction management with RxJava</h3>
<div class="paragraph">
<p>Managing SQL transactions manually with the Rxified <code>SQLConnection</code> requires quite a lot of boilerplate code.</p>
</div>
<div class="paragraph">
<p>Vert.x provides <em>observable transformers</em> that you can apply to your flows with <a href="http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#compose-io.reactivex.FlowableTransformer-"><code>compose</code></a> to make them transactional:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SQLClientHelper#txFlowableTransformer</code></p>
</li>
<li>
<p><code>SQLClientHelper#txObservableTransformer</code></p>
</li>
<li>
<p><code>SQLClientHelper#txSingleTransformer</code></p>
</li>
<li>
<p><code>SQLClientHelper#txMaybeTransformer</code></p>
</li>
<li>
<p><code>SQLClientHelper#txCompletableTransformer</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These <em>transformers</em> wrap the corresponding source of events with SQL transaction management. Let&#8217;s take an example.</p>
</div>
<div class="paragraph">
<p>In your music library application, you need to insert a row in table <code>albums</code>, then some rows in table <code>tracks</code>.
These two steps shall be part of the same atomic transaction.
If it succeeds, the application must return results from a query involving both tables.</p>
</div>
<div class="paragraph">
<p>After your got an instance of <code>io.vertx.reactivex.ext.sql.SQLConnection</code>, you can use it to perform the SQL operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">conn.rxExecute(<span class="hljs-string">&quot;... insert into album ...&quot;</span>)
  .andThen(conn.rxExecute(<span class="hljs-string">&quot;... insert into tracks ...&quot;</span>))
  .compose(SQLClientHelper.txCompletableTransformer(conn)) <b class="conum">(1)</b>
  .andThen(conn.rxQuery(<span class="hljs-string">&quot;... select from album, tracks ...&quot;</span>).map(ResultSet::getResults))
  .subscribe(rows -&gt; {
    <span class="hljs-comment">// send to client</span>
  }, throwable -&gt; {
    <span class="hljs-comment">// handle error</span>
  });</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Transaction management appplied to the <code>Completable</code> source</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Source <em>transformers</em> provide maximum flexibility: you are still able to execute operations with the connection after the transaction completes.</p>
</div>
<div class="paragraph">
<p>But more often than not, you do not need the connection after the changes are <em>commited</em> or <em>rollbacked</em>.
In this case, you may simply create you source observable with one of the transactional helper methods in <code>io.vertx.reactivex.ext.sql.SQLClientHelper</code>.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s rewrite the previous example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">SQLClientHelper.inTransactionSingle(sqlClient, conn -&gt; {
  <span class="hljs-keyword">return</span> conn.rxExecute(<span class="hljs-string">&quot;... insert into album ...&quot;</span>)
    .andThen(conn.rxExecute(<span class="hljs-string">&quot;... insert into tracks ...&quot;</span>))
    .andThen(conn.rxQuery(<span class="hljs-string">&quot;... select from album, tracks ...&quot;</span>).map(ResultSet::getResults)); <b class="conum">(1)</b>
}).subscribe(rows -&gt; {
  <span class="hljs-comment">// send to client</span>
}, throwable -&gt; {
  <span class="hljs-comment">// handle error</span>
});</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>the <code>SELECT</code> query is now part of the transaction</p>
</li>
</ol>
</div>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-aeedcf66895f49d7"><div class="jsx-aeedcf66895f49d7 container"><div class="jsx-aeedcf66895f49d7 footer-nav-section"><div class="jsx-aeedcf66895f49d7 footer-nav-list footer-logo"><a class="jsx-aeedcf66895f49d7" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-aeedcf66895f49d7"/></a></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse Vert.x</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7 navbar-menu-item" href="/docs/">文档</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/download/">下载</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/blog/">博客</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/community/">社区</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/translation/">翻译团队</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-aeedcf66895f49d7">GitHub</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/vertx-china/vertx-web-site" class="jsx-aeedcf66895f49d7">翻译GitHub</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">资源</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/faq/">答疑</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/channels/">联系渠道</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://how-to.vertx.io/" class="jsx-aeedcf66895f49d7">操作指南</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://start.vertx.io/" class="jsx-aeedcf66895f49d7">应用生成器</a></li><li class="jsx-aeedcf66895f49d7"><a href="/.well-known/security.txt" class="jsx-aeedcf66895f49d7">security.txt</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/" class="jsx-aeedcf66895f49d7">Eclipse 基金会</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-aeedcf66895f49d7">隐私政策</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-aeedcf66895f49d7">使用条款</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-aeedcf66895f49d7">版权代理</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/" class="jsx-aeedcf66895f49d7">法律资源</a></li></ul></div></div><div class="jsx-aeedcf66895f49d7 footer-copyright"><div class="jsx-aeedcf66895f49d7 footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x™<br class="jsx-aeedcf66895f49d7"/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Apache License 2.0</a>协议下获得了双重许可。<br class="jsx-aeedcf66895f49d7 footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Michel Krämer</a> 设计。</div><div class="jsx-aeedcf66895f49d7 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-aeedcf66895f49d7"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.9.7/vertx-sql-common/java","title":"Vert.x Common SQL interface","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_vert_x_common_sql_interface\"\u003eVert.x Common SQL interface\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_simple_sql_operations\"\u003eSimple SQL Operations\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_the_sql_connection\"\u003eThe SQL Connection\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_auto_commit\"\u003eAuto-commit\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_executing_queries\"\u003eExecuting queries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_prepared_statement_queries\"\u003ePrepared statement queries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_executing_insert_update_or_delete\"\u003eExecuting INSERT, UPDATE or DELETE\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_prepared_statement_updates\"\u003ePrepared statement updates\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_callable_statements\"\u003eCallable statements\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_batch_operations\"\u003eBatch operations\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_executing_other_operations\"\u003eExecuting other operations\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_multiple_resultset_responses\"\u003eMultiple ResultSet responses\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_streaming\"\u003eStreaming\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_transactions\"\u003eUsing transactions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_closing_connections\"\u003eClosing connections\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_rxjava_2_api\"\u003eRxJava 2 API\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_sql_transaction_management_with_rxjava\"\u003eSQL Transaction management with RxJava\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_vert_x_common_sql_interface\"\u003e\u003ca class=\"anchor\" href=\"#_vert_x_common_sql_interface\"\u003e\u003c/a\u003eVert.x Common SQL interface\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe common SQL interface is used to interact with Vert.x SQL services.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou obtain a connection to the database via the service interface for the specific SQL service that\nyou are using (e.g. JDBC/MySQL/PostgreSQL).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use this project, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-sql-common\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.7\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-sql-common:3.9.7\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_simple_sql_operations\"\u003e\u003ca class=\"anchor\" href=\"#_simple_sql_operations\"\u003e\u003c/a\u003eSimple SQL Operations\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThere are times when you will want to run a single SQL operation, e.g.: a single select of a row, or a update to a\nset of rows which do not require to be part of a transaction or have dependencies on the previous or next operation.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor these cases, clients provide a boilerplate-less API \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLOperations.html\"\u003eSQLOperations\u003c/a\u003e\u003c/code\u003e. This interface will\nperform the following steps for you:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"olist arabic\"\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\n\u003cp\u003eacquire a connection from the connection pool\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eperform your action\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eclose and return the connection to the connection pool\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAn example where users get loaded from the \u003ccode\u003eUSERS\u003c/code\u003e table could be:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eclient.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM USERS\u0026quot;\u003c/span\u003e, ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.succeeded()) {\n      ResultSet result = ar.result();\n    } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n      \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n    }\n    \u003cspan class=\"hljs-comment\"\u003e// NOTE that you don\u0026#x27;t need to worry about\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// the connection management (e.g.: close)\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can perform the following operations as a simple one \"shot\" method call:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#query-java.lang.String-io.vertx.core.Handler-\"\u003equery\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#queryWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003equeryWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLOperations.html#querySingle-java.lang.String-io.vertx.core.Handler-\"\u003equerySingle\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLOperations.html#querySingleWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003equerySingleWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#update-java.lang.String-io.vertx.core.Handler-\"\u003eupdate\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#updateWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003eupdateWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#call-java.lang.String-io.vertx.core.Handler-\"\u003ecall\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLClient.html#callWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003ecallWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eFor further details on these API please refer to the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLOperations.html\"\u003eSQLOperations\u003c/a\u003e\u003c/code\u003e interface.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_the_sql_connection\"\u003e\u003ca class=\"anchor\" href=\"#_the_sql_connection\"\u003e\u003c/a\u003eThe SQL Connection\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA connection to the database is represented by \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html\"\u003eSQLConnection\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_auto_commit\"\u003e\u003ca class=\"anchor\" href=\"#_auto_commit\"\u003e\u003c/a\u003eAuto-commit\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you obtain a connection auto commit is set to \u003ccode\u003etrue\u003c/code\u003e. This means that each operation you perform will effectively\nexecute in its own transaction.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you wish to perform multiple operations in a single transaction you should set auto commit to false with\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#setAutoCommit-boolean-io.vertx.core.Handler-\"\u003esetAutoCommit\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen the operation is complete, the handler will be called:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.setAutoCommit(\u003cspan class=\"hljs-keyword\"\u003efalse\u003c/span\u003e, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// OK!\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_executing_queries\"\u003e\u003ca class=\"anchor\" href=\"#_executing_queries\"\u003e\u003c/a\u003eExecuting queries\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute a query use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#query-java.lang.String-io.vertx.core.Handler-\"\u003equery\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe query string is raw SQL that is passed through without changes to the actual database.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe handler will be called with the results, represented by \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html\"\u003eResultSet\u003c/a\u003e\u003c/code\u003e when the query has\nbeen run.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.query(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT ID, FNAME, LNAME, SHOE_SIZE from PEOPLE\u0026quot;\u003c/span\u003e, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Get the result set\u003c/span\u003e\n    ResultSet resultSet = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html\"\u003eResultSet\u003c/a\u003e\u003c/code\u003e instance represents the results of a query.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe list of column names are available with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html#getColumnNames--\"\u003egetColumnNames\u003c/a\u003e\u003c/code\u003e, and the actual results\navailable with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html#getResults--\"\u003egetResults\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe results are a list of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonArray.html\"\u003eJsonArray\u003c/a\u003e\u003c/code\u003e instances, one for each row of the results.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eList\u0026lt;String\u0026gt; columnNames = resultSet.getColumnNames();\n\nList\u0026lt;JsonArray\u0026gt; results = resultSet.getResults();\n\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (JsonArray row : results) {\n\n  String id = row.getString(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e);\n  String fName = row.getString(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n  String lName = row.getString(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e shoeSize = row.getInteger(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e);\n\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also retrieve the rows as a list of Json object instances with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html#getRows--\"\u003egetRows\u003c/a\u003e\u003c/code\u003e -\nthis can give you a somewhat simpler API to work with, but please be aware that SQL results can contain duplicate\ncolumn names - if that\u0026#8217;s the case you should use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/ResultSet.html#getResults--\"\u003egetResults\u003c/a\u003e\u003c/code\u003e instead.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHere\u0026#8217;s an example of iterating through the results as Json object instances:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eList\u0026lt;JsonObject\u0026gt; rows = resultSet.getRows();\n\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (JsonObject row : rows) {\n\n  String id = row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;ID\u0026quot;\u003c/span\u003e);\n  String fName = row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;FNAME\u0026quot;\u003c/span\u003e);\n  String lName = row.getString(\u003cspan class=\"hljs-string\"\u003e\u0026quot;LNAME\u0026quot;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e shoeSize = row.getInteger(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SHOE_SIZE\u0026quot;\u003c/span\u003e);\n\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_prepared_statement_queries\"\u003e\u003ca class=\"anchor\" href=\"#_prepared_statement_queries\"\u003e\u003c/a\u003ePrepared statement queries\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute a prepared statement query you can use\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#queryWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003equeryWithParams\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis takes the query, containing the parameter place holders, and a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonArray.html\"\u003eJsonArray\u003c/a\u003e\u003c/code\u003e or parameter\nvalues.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString query = \u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT ID, FNAME, LNAME, SHOE_SIZE from PEOPLE WHERE LNAME=? AND SHOE_SIZE \u0026gt; ?\u0026quot;\u003c/span\u003e;\nJsonArray params = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Fox\u0026quot;\u003c/span\u003e).add(\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e);\n\nconnection.queryWithParams(query, params, res -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Get the result set\u003c/span\u003e\n    ResultSet resultSet = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_executing_insert_update_or_delete\"\u003e\u003ca class=\"anchor\" href=\"#_executing_insert_update_or_delete\"\u003e\u003c/a\u003eExecuting INSERT, UPDATE or DELETE\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute an operation which updates the database use \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#update-java.lang.String-io.vertx.core.Handler-\"\u003eupdate\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe update string is raw SQL that is passed through without changes to the actual database.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe handler will be called with the results, represented by \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/UpdateResult.html\"\u003eUpdateResult\u003c/a\u003e\u003c/code\u003e when the update has\nbeen run.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe update result holds the number of rows updated with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/UpdateResult.html#getUpdated--\"\u003egetUpdated\u003c/a\u003e\u003c/code\u003e, and\nif the update generated keys, they are available with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/UpdateResult.html#getKeys--\"\u003egetKeys\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.update(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO PEOPLE VALUES (null, \u0026#x27;john\u0026#x27;, \u0026#x27;smith\u0026#x27;, 9)\u0026quot;\u003c/span\u003e, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n\n    UpdateResult result = res.result();\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Updated no. of rows: \u0026quot;\u003c/span\u003e + result.getUpdated());\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Generated keys: \u0026quot;\u003c/span\u003e + result.getKeys());\n\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_prepared_statement_updates\"\u003e\u003ca class=\"anchor\" href=\"#_prepared_statement_updates\"\u003e\u003c/a\u003ePrepared statement updates\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute a prepared statement update you can use\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#updateWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003eupdateWithParams\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis takes the update, containing the parameter place holders, and a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonArray.html\"\u003eJsonArray\u003c/a\u003e\u003c/code\u003e or parameter\nvalues.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString update = \u003cspan class=\"hljs-string\"\u003e\u0026quot;UPDATE PEOPLE SET SHOE_SIZE = 10 WHERE LNAME=?\u0026quot;\u003c/span\u003e;\nJsonArray params = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Fox\u0026quot;\u003c/span\u003e);\n\nconnection.updateWithParams(update, params, res -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n\n    UpdateResult updateResult = res.result();\n\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;No. of rows updated: \u0026quot;\u003c/span\u003e + updateResult.getUpdated());\n\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_callable_statements\"\u003e\u003ca class=\"anchor\" href=\"#_callable_statements\"\u003e\u003c/a\u003eCallable statements\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute a callable statement (either SQL functions or SQL procedures) you can use\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#callWithParams-java.lang.String-io.vertx.core.json.JsonArray-io.vertx.core.json.JsonArray-io.vertx.core.Handler-\"\u003ecallWithParams\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis takes the callable statement using the standard JDBC format \u003ccode\u003e{ call func_proc_name() }\u003c/code\u003e, optionally including\nparameter place holders e.g.: \u003ccode\u003e{ call func_proc_name(?, ?) }\u003c/code\u003e, a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonArray.html\"\u003eJsonArray\u003c/a\u003e\u003c/code\u003e containing the\nparameter values and finally a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonArray.html\"\u003eJsonArray\u003c/a\u003e\u003c/code\u003e containing the\noutput types e.g.: \u003ccode\u003e[null, 'VARCHAR']\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote that the index of the output type is as important as the params array. If the return value is the second\nargument then the output array must contain a null value as the first element.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA SQL function returns some output using the \u003ccode\u003ereturn\u003c/code\u003e keyword, and in this case one can call it like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString func = \u003cspan class=\"hljs-string\"\u003e\u0026quot;{ call one_hour_ago() }\u0026quot;\u003c/span\u003e;\n\nconnection.call(func, res -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    ResultSet result = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen working with Procedures you and still return values from your procedures via its arguments, in the case you do\nnot return anything the usage is as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString func = \u003cspan class=\"hljs-string\"\u003e\u0026quot;{ call new_customer(?, ?) }\u0026quot;\u003c/span\u003e;\n\nconnection.callWithParams(func, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;John\u0026quot;\u003c/span\u003e).add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Doe\u0026quot;\u003c/span\u003e), \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e, res -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Success!\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHowever you can also return values like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString func = \u003cspan class=\"hljs-string\"\u003e\u0026quot;{ call customer_lastname(?, ?) }\u0026quot;\u003c/span\u003e;\n\nconnection.callWithParams(func, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;John\u0026quot;\u003c/span\u003e), \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().addNull().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;VARCHAR\u0026quot;\u003c/span\u003e), res -\u0026gt; {\n\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    ResultSet result = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNote that the index of the arguments matches the index of the \u003ccode\u003e?\u003c/code\u003e and that the output parameters expect to be a\nString describing the type you want to receive.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo avoid ambiguation the implementations are expected to follow the following rules:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eWhen a place holder in the \u003ccode\u003eIN\u003c/code\u003e array is \u003ccode\u003eNOT NULL\u003c/code\u003e it will be taken\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWhen the \u003ccode\u003eIN\u003c/code\u003e value is NULL a check is performed on the OUT\nWhen the \u003ccode\u003eOUT\u003c/code\u003e value is not null it will be registered as a output parameter\nWhen the \u003ccode\u003eOUT\u003c/code\u003e is also null it is expected that the IN value is the \u003ccode\u003eNULL\u003c/code\u003e value.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe registered \u003ccode\u003eOUT\u003c/code\u003e parameters will be available as an array in the result set under the output property.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_batch_operations\"\u003e\u003ca class=\"anchor\" href=\"#_batch_operations\"\u003e\u003c/a\u003eBatch operations\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe SQL common interface also defines how to execute batch operations. There are 3 types of batch operations:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eBatched statements \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#batch-java.util.List-io.vertx.core.Handler-\"\u003ebatch\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBatched prepared statements \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#batchWithParams-java.lang.String-java.util.List-io.vertx.core.Handler-\"\u003ebatchWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eBatched callable statements \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#batchCallableWithParams-java.lang.String-java.util.List-java.util.List-io.vertx.core.Handler-\"\u003ebatchCallableWithParams\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA batches statement will exeucte a list of sql statements as for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eList\u0026lt;String\u0026gt; batch = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ArrayList\u0026lt;\u0026gt;();\nbatch.add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO emp (NAME) VALUES (\u0026#x27;JOE\u0026#x27;)\u0026quot;\u003c/span\u003e);\nbatch.add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO emp (NAME) VALUES (\u0026#x27;JANE\u0026#x27;)\u0026quot;\u003c/span\u003e);\n\nconnection.batch(batch, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    List\u0026lt;Integer\u0026gt; result = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhile a prepared or callable statement batch will reuse the sql statement and take an list of arguments as for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eList\u0026lt;JsonArray\u0026gt; batch = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ArrayList\u0026lt;\u0026gt;();\nbatch.add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;joe\u0026quot;\u003c/span\u003e));\nbatch.add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\u0026quot;jane\u0026quot;\u003c/span\u003e));\n\nconnection.batchWithParams(\u003cspan class=\"hljs-string\"\u003e\u0026quot;INSERT INTO emp (name) VALUES (?)\u0026quot;\u003c/span\u003e, batch, res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    List\u0026lt;Integer\u0026gt; result = res.result();\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_executing_other_operations\"\u003e\u003ca class=\"anchor\" href=\"#_executing_other_operations\"\u003e\u003c/a\u003eExecuting other operations\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo execute any other database operation, e.g. a \u003ccode\u003eCREATE TABLE\u003c/code\u003e you can use\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#execute-java.lang.String-io.vertx.core.Handler-\"\u003eexecute\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe string is passed through without changes to the actual database. The handler is called when the operation\nis complete\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eString sql = \u003cspan class=\"hljs-string\"\u003e\u0026quot;CREATE TABLE PEOPLE (ID int generated by default as identity (start with 1 increment by 1) not null,\u0026quot;\u003c/span\u003e +\n  \u003cspan class=\"hljs-string\"\u003e\u0026quot;FNAME varchar(255), LNAME varchar(255), SHOE_SIZE int);\u0026quot;\u003c/span\u003e;\n\nconnection.execute(sql, execute -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (execute.succeeded()) {\n    System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Table created !\u0026quot;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_multiple_resultset_responses\"\u003e\u003ca class=\"anchor\" href=\"#_multiple_resultset_responses\"\u003e\u003c/a\u003eMultiple ResultSet responses\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn some cases your query might return more than one result set, in this case and to preserve the compatibility when\nthe returned result set object is converted to pure json, the next result sets are chained to the current result set\nunder the property \u003ccode\u003enext\u003c/code\u003e. A simple walk of all result sets can be achieved like this:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-keyword\"\u003ewhile\u003c/span\u003e (rs != \u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// do something with the result set...\u003c/span\u003e\n\n  \u003cspan class=\"hljs-comment\"\u003e// next step\u003c/span\u003e\n  rs = rs.getNext();\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_streaming\"\u003e\u003ca class=\"anchor\" href=\"#_streaming\"\u003e\u003c/a\u003eStreaming\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen dealing with large data sets, it is not advised to use API just described but to stream data since it avoids\ninflating the whole response into memory and JSON and data is just processed on a row by row basis, for example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.queryStream(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM large_table\u0026quot;\u003c/span\u003e, stream -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (stream.succeeded()) {\n    stream.result().handler(row -\u0026gt; {\n      \u003cspan class=\"hljs-comment\"\u003e// do something with the row...\u003c/span\u003e\n    });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou still have full control on when the stream is pauses, resumed and ended. For cases where your query returns\nmultiple result sets you should use the result set ended event to fetch the next one if available. If there is more\ndata the stream handler will receive the new data, otherwise the end handler is invoked.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.queryStream(\u003cspan class=\"hljs-string\"\u003e\u0026quot;SELECT * FROM large_table; SELECT * FROM other_table\u0026quot;\u003c/span\u003e, stream -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (stream.succeeded()) {\n    SQLRowStream sqlRowStream = stream.result();\n\n    sqlRowStream\n      .resultSetClosedHandler(v -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// will ask to restart the stream with the new result set if any\u003c/span\u003e\n        sqlRowStream.moreResults();\n      })\n      .handler(row -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// do something with the row...\u003c/span\u003e\n      })\n      .endHandler(v -\u0026gt; {\n        \u003cspan class=\"hljs-comment\"\u003e// no more data available...\u003c/span\u003e\n      });\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_using_transactions\"\u003e\u003ca class=\"anchor\" href=\"#_using_transactions\"\u003e\u003c/a\u003eUsing transactions\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use transactions first set auto-commit to false with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#setAutoCommit-boolean-io.vertx.core.Handler-\"\u003esetAutoCommit\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou then do your transactional operations and when you want to commit or rollback use\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#commit-io.vertx.core.Handler-\"\u003ecommit\u003c/a\u003e\u003c/code\u003e or\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#rollback-io.vertx.core.Handler-\"\u003erollback\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce the commit/rollback is complete the handler will be called and the next transaction will be automatically started.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econnection.commit(res -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (res.succeeded()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Committed OK!\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed!\u003c/span\u003e\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_closing_connections\"\u003e\u003ca class=\"anchor\" href=\"#_closing_connections\"\u003e\u003c/a\u003eClosing connections\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen you\u0026#8217;ve done with the connection you should return it to the pool with \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/sql/SQLConnection.html#close-io.vertx.core.Handler-\"\u003eclose\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_rxjava_2_api\"\u003e\u003ca class=\"anchor\" href=\"#_rxjava_2_api\"\u003e\u003c/a\u003eRxJava 2 API\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_sql_transaction_management_with_rxjava\"\u003e\u003ca class=\"anchor\" href=\"#_sql_transaction_management_with_rxjava\"\u003e\u003c/a\u003eSQL Transaction management with RxJava\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eManaging SQL transactions manually with the Rxified \u003ccode\u003eSQLConnection\u003c/code\u003e requires quite a lot of boilerplate code.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x provides \u003cem\u003eobservable transformers\u003c/em\u003e that you can apply to your flows with \u003ca href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#compose-io.reactivex.FlowableTransformer-\"\u003e\u003ccode\u003ecompose\u003c/code\u003e\u003c/a\u003e to make them transactional:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSQLClientHelper#txFlowableTransformer\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSQLClientHelper#txObservableTransformer\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSQLClientHelper#txSingleTransformer\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSQLClientHelper#txMaybeTransformer\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eSQLClientHelper#txCompletableTransformer\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThese \u003cem\u003etransformers\u003c/em\u003e wrap the corresponding source of events with SQL transaction management. Let\u0026#8217;s take an example.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn your music library application, you need to insert a row in table \u003ccode\u003ealbums\u003c/code\u003e, then some rows in table \u003ccode\u003etracks\u003c/code\u003e.\nThese two steps shall be part of the same atomic transaction.\nIf it succeeds, the application must return results from a query involving both tables.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAfter your got an instance of \u003ccode\u003eio.vertx.reactivex.ext.sql.SQLConnection\u003c/code\u003e, you can use it to perform the SQL operations:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003econn.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... insert into album ...\u0026quot;\u003c/span\u003e)\n  .andThen(conn.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... insert into tracks ...\u0026quot;\u003c/span\u003e))\n  .compose(SQLClientHelper.txCompletableTransformer(conn)) \u003cb class=\"conum\"\u003e(1)\u003c/b\u003e\n  .andThen(conn.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... select from album, tracks ...\u0026quot;\u003c/span\u003e).map(ResultSet::getResults))\n  .subscribe(rows -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// send to client\u003c/span\u003e\n  }, throwable -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// handle error\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"colist arabic\"\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eTransaction management appplied to the \u003ccode\u003eCompletable\u003c/code\u003e source\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSource \u003cem\u003etransformers\u003c/em\u003e provide maximum flexibility: you are still able to execute operations with the connection after the transaction completes.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBut more often than not, you do not need the connection after the changes are \u003cem\u003ecommited\u003c/em\u003e or \u003cem\u003erollbacked\u003c/em\u003e.\nIn this case, you may simply create you source observable with one of the transactional helper methods in \u003ccode\u003eio.vertx.reactivex.ext.sql.SQLClientHelper\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eLet\u0026#8217;s rewrite the previous example:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSQLClientHelper.inTransactionSingle(sqlClient, conn -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e conn.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... insert into album ...\u0026quot;\u003c/span\u003e)\n    .andThen(conn.rxExecute(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... insert into tracks ...\u0026quot;\u003c/span\u003e))\n    .andThen(conn.rxQuery(\u003cspan class=\"hljs-string\"\u003e\u0026quot;... select from album, tracks ...\u0026quot;\u003c/span\u003e).map(ResultSet::getResults)); \u003cb class=\"conum\"\u003e(1)\u003c/b\u003e\n}).subscribe(rows -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// send to client\u003c/span\u003e\n}, throwable -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// handle error\u003c/span\u003e\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"colist arabic\"\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003eSELECT\u003c/code\u003e query is now part of the transaction\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"3.9.7"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.9.7","vertx-sql-common","java"]},"buildId":"M2fVTXw3QfAG86fuwGUgu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>