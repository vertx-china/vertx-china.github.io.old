<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Vert.x Mail client (SMTP client implementation) | Eclipse Vert.x</title><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/styles.bee17d6f.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.bee17d6f.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.2c5d42edba8dda0b0ba3.js" as="script"/><link rel="preload" href="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.7689a0583e30048c05ff.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-3a425d1828d3af7aa498.js" as="script"/></head><body data-build-time="2021-06-04T01:09:57.744Z" data-build-commit-id="ba74b6efe74f632ab33e7bf2ab686c514a575bc4" data-build-run-id="904722328"><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/introduction-to-vertx-and-reactive/"><li class="dropdown-item">简介</li></a><a href="/get-started/"><li class="dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/docs/">文档</a><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/faq/"><li class="dropdown-item">答疑</li></a><a href="/channels/"><li class="dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer"><li class="dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/blog/">博客</a><a class="navbar-menu-item" href="/community/">社区</a><a class="navbar-menu-item" href="/translation/">翻译团队</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" class="navbar-social-link" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="docs-content-wrapper"><aside class=""><div class="docs-content-wrapper-sidebar"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="search-results"></ul><div class="search-results-none">No results.</div></div><div class="docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_creating_a_client">Creating a client</a></li>
<li><a href="#_sending_mails">Sending mails</a></li>
<li><a href="#_mail_client_data_objects">Mail-client data objects</a>
<ul class="sectlevel2">
<li><a href="#_mailmessage_properties">MailMessage properties</a></li>
<li><a href="#_mailattachment_properties">MailAttachment properties</a></li>
<li><a href="#_mailconfig_options">MailConfig options</a></li>
<li><a href="#_mailresult_object">MailResult object</a></li>
</ul>
</li>
</ul>
</div></div></div></aside><div class="docs-content-sidebar-toggle"><div style="position:relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="docs-content-inner"><div class="docs-content-metadata"><div class="docs-content-metadata-left"><div><a href="https://vertx.io/docs/apidocs"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><span class="docs-content-metadata-version"><div class="dropdown"><a class="dropdown-title">v4.1.0<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu align-right"></ul></div></span></div></div><div><h1>Vert.x Mail client (SMTP client implementation)</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x client for sending SMTP emails via a local mail server
(e.g. postfix) or by external mail server (e.g. googlemail or aol).</p>
</div>
<div class="paragraph">
<p>The client supports a few additional auth methods like DIGEST-MD5 and has full
support for TLS and SSL and is completely asynchronous. The client supports
connection pooling to keep connections open to be reused.</p>
</div>
<div class="paragraph">
<p>To use this project, add the following dependency to the <em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-mail-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${maven.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-mail-client:${maven.version}'</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_client"><a class="anchor" href="#_creating_a_client"></a>Creating a client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can send mails by creating a client that opens SMTP connections from the local jvm.</p>
</div>
<div class="paragraph">
<p>The client uses a configuration object, the default config is created as empty
object and will connect to localhost port 25, which should be ok in a standard
Linux environment where you have Postfix or similar mail server running on
the local machine. For all possible properties of the config object, see below.</p>
</div>
<div class="paragraph">
<p>The client can use a connection pool of the SMTP connections to get rid of the overhead of
connecting each time to the server, negotiating TLS and login (this function can be
turned off by setting keepAlive = false). A client can either be shared or non-shared,
if it is shared, the same connection pool will be used for all clients using the same identifier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> config = <span class="hljs-type">MailConfig</span>()
<span class="hljs-keyword">var</span> mailClient = <span class="hljs-type">MailClient</span>.createShared(vertx, config, <span class="hljs-string">"exampleclient"</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first call to MailClient.createShared will actually create the pool with the specified config.
Subsequent calls will return a new client instance that uses the same pool, so the configuration won&#8217;t be used.</p>
</div>
<div class="paragraph">
<p>If you leave out the pool identifier, a default pool will be created. Note that the clients are
shared in the scope of a vertx instance only (so two different vertx will have different pools with the
same identifier).</p>
</div>
<div class="paragraph">
<p>The unshared client can be created the same way leaving out the identifier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> config = <span class="hljs-type">MailConfig</span>()
<span class="hljs-keyword">var</span> mailClient = <span class="hljs-type">MailClient</span>.create(vertx, config)</code></pre>
</div>
</div>
<div class="paragraph">
<p>A more elaborate example using a mailserver that requires login via TLS</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> config = <span class="hljs-type">MailConfig</span>()
config.setHostname(<span class="hljs-string">"mail.example.com"</span>)
config.setPort(<span class="hljs-number">587</span>)
config.setStarttls(<span class="hljs-type">StartTLSOptions</span>.<span class="hljs-type">REQUIRED</span>)
config.setUsername(<span class="hljs-string">"user"</span>)
config.setPassword(<span class="hljs-string">"password"</span>)
<span class="hljs-keyword">var</span> mailClient = <span class="hljs-type">MailClient</span>.create(vertx, config)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sending_mails"><a class="anchor" href="#_sending_mails"></a>Sending mails</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the client object is created, you can use it to send mails. Since the
sending of the mails works asynchronous in vert.x, the result handler will be
called when the mail operation finishes. You can start many mail send operations
in parallel, the connection pool will limit the number of concurrent operations
so that new operations will wait in queue if no slots are available.</p>
</div>
<div class="paragraph">
<p>A mail message is constructed as JSON. The MailMessage object has
properties from, to, cc, bcc, subject, text, html etc. Depending on which values are set, the
format of the generated MIME message will vary. The recipient address properties
can either be a single address or a list of addresses.</p>
</div>
<div class="paragraph">
<p>The MIME encoder supports us-ascii (7bit) headers/messages and utf8 (usually
quoted-printable) headers/messages</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> message = <span class="hljs-type">MailMessage</span>()
message.setFrom(<span class="hljs-string">"user@example.com (Example User)"</span>)
message.setTo(<span class="hljs-string">"recipient@example.org"</span>)
message.setCc(<span class="hljs-string">"Another User &lt;another@example.net&gt;"</span>)
message.setText(<span class="hljs-string">"this is the plain message text"</span>)
message.setHtml(<span class="hljs-string">"this is html text &lt;a href=\"http://vertx.io\"&gt;vertx.io&lt;/a&gt;"</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attachments can be created by the MailAttachment object using data stored in a Buffer,
this supports base64 attachments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> attachment = <span class="hljs-type">MailAttachment</span>()
attachment.setContentType(<span class="hljs-string">"text/plain"</span>)
attachment.setData(<span class="hljs-type">Buffer</span>.buffer(<span class="hljs-string">"attachment file"</span>))

message.setAttachment(attachment)</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using inline attachments (usually images), it is possible to reference the images within a html message
to display html with the images included in the mail.
Images can be referenced as &lt;img src="cid:contentid@domain"&gt; in the html text, the corresponding image has Disposition:
inline and the Content-ID header as "&lt;contentid@domain&gt;". Please note that RFC 2392 requires Content-ID values to be structured
like a Message-ID with angle brackets and a local and domain part using URL compatible encoding. None of this is not enforced
and most mail clients supports IDs without angle brackets or without domain part, the best practice is to use the strict format.
A valid example for a Content-ID value is "&lt;<a href="mailto:filename%201.jpg@example.org">filename%201.jpg@example.org</a>&gt;"</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala"><span class="hljs-keyword">var</span> attachment = <span class="hljs-type">MailAttachment</span>()
attachment.setContentType(<span class="hljs-string">"image/jpeg"</span>)
attachment.setData(<span class="hljs-type">Buffer</span>.buffer(<span class="hljs-string">"image data"</span>))
attachment.setDisposition(<span class="hljs-string">"inline"</span>)
attachment.setContentId(<span class="hljs-string">"&lt;image1@example.com&gt;"</span>)

message.setInlineAttachment(attachment)</code></pre>
</div>
</div>
<div class="paragraph">
<p>When sending the mail, you can provide a AsyncResult&lt;MailResult&gt; handler that will be called when
the send operation is finished or it failed.</p>
</div>
<div class="paragraph">
<p>A mail is sent as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-scala" data-lang="scala">mailClient.sendMailFuture(message).onComplete{
  <span class="hljs-keyword">case</span> <span class="hljs-type">Success</span>(result) =&gt; {
    println(result)
  }
  <span class="hljs-keyword">case</span> <span class="hljs-type">Failure</span>(cause) =&gt; {
    println(<span class="hljs-string">s"<span class="hljs-subst">$cause</span>"</span>)
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mail_client_data_objects"><a class="anchor" href="#_mail_client_data_objects"></a>Mail-client data objects</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_mailmessage_properties"><a class="anchor" href="#_mailmessage_properties"></a>MailMessage properties</h3>
<div class="paragraph">
<p>Email fields are Strings using the common formats for email with or without real
name</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>username@example.com</code></p>
</li>
<li>
<p><code>username@example.com (Firstname Lastname)</code></p>
</li>
<li>
<p><code>Firstname Lastname &lt;<a href="mailto:username@example.com">username@example.com</a>&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The MailMessage object has the following properties</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>from</code> String representing the From address and the MAIL FROM field</p>
</li>
<li>
<p><code>to</code> String or list of String representing the To addresses and the RCPT TO fields</p>
</li>
<li>
<p><code>cc</code> same as to</p>
</li>
<li>
<p><code>bcc</code> same as to</p>
</li>
<li>
<p><code>bounceAddress</code> String representing the error address (MAIL FROM), if not set from is used</p>
</li>
<li>
<p><code>text</code> String representing the text/plain part of the mail</p>
</li>
<li>
<p><code>html</code> String representing the text/html part of the mail</p>
</li>
<li>
<p><code>attachment</code> MailAttachment or list of MailAttachment attachments of the message</p>
</li>
<li>
<p><code>inlineAttachment</code> MailAttachment or list of MailAttachment of inline attachments of the message (usually images)</p>
</li>
<li>
<p><code>headers</code> MultiMap representing headers to be added in addition to the headers necessary for the MIME Message</p>
</li>
<li>
<p><code>fixedHeaders</code> boolean if true, only the headers provided as headers property will be set in the generated message</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>the last two properties allow manipulating the generate messages with custom headers, e.g. providing
a message-id chosen by the calling program or setting different headers than would be generated by default. Unless you know
what you are doing, this may generate invalid messages.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mailattachment_properties"><a class="anchor" href="#_mailattachment_properties"></a>MailAttachment properties</h3>
<div class="paragraph">
<p>The MailAttachment object has the following properties</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>data</code> Buffer containing the binary data of the attachment</p>
</li>
<li>
<p><code>contentType</code> String of the Content-Type of the attachment (e.g. text/plain or text/plain; charset="UTF8", default is application/octet-stream)</p>
</li>
<li>
<p><code>description</code> String describing the attachment (this is put in the description header of the attachment), optional</p>
</li>
<li>
<p><code>disposition</code> String describing the disposition of the attachment (this is either "inline" or "attachment", default is attachment)</p>
</li>
<li>
<p><code>name</code> String filename of the attachment (this is put into the disposition and in the Content-Type headers of the attachment), optional</p>
</li>
<li>
<p><code>contentId</code> String describing the Content-Id of the attachment (this is used to identify inline images), optional</p>
</li>
<li>
<p><code>headers</code> MultiMap of headers for the attachment in addition to the default ones, optional</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_mailconfig_options"><a class="anchor" href="#_mailconfig_options"></a>MailConfig options</h3>
<div class="paragraph">
<p>The configuration has the following properties</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hostname</code> the hostname of the smtp server to connect to (default is localhost)</p>
</li>
<li>
<p><code>port</code> the port of the smtp server to connect to (default is 25)</p>
</li>
<li>
<p><code>startTLS</code> StartTLSOptions either DISABLED, OPTIONAL or REQUIRED, default is OPTIONAL</p>
</li>
<li>
<p><code>login</code> LoginOption either DISABLED, NONE or REQUIRED, default is NONE</p>
</li>
<li>
<p><code>username</code> String of the username to be used for login (required only when LoginOption is REQUIRED)</p>
</li>
<li>
<p><code>password</code> String of the password to be used for login (required only when LoginOption is REQUIRED)</p>
</li>
<li>
<p><code>ssl</code> boolean whether to use ssl on connect to the mail server (default is false), set this to use a port 465 ssl connection (default is false)</p>
</li>
<li>
<p><code>ehloHostname</code> String to used in EHLO and for creating the message-id, if not set, the own hostname will be used, which may not be a good choice if it doesn&#8217;t contain a FQDN or is localhost (optional)</p>
</li>
<li>
<p><code>authMethods</code> String space separated list of allowed auth methods, this can be used to disallow some auth methods or define one required auth method (optional)</p>
</li>
<li>
<p><code>keepAlive</code> boolean if connection pooling is enabled (default is true)</p>
</li>
<li>
<p><code>maxPoolSize</code> int max number of open connections kept in the pool or to be opened at one time (regardless if pooling is enabled or not), default is 10</p>
</li>
<li>
<p><code>trustAll</code> boolean whether to accept all certs from the server (default is false)</p>
</li>
<li>
<p><code>keyStore</code> String the key store filename, this can be used to trust a server cert that is custom generated (optional)</p>
</li>
<li>
<p><code>keyStorePassword</code> String password used to decrypt the key store (optional)</p>
</li>
<li>
<p><code>allowRcptErrors</code> boolean if true, sending continues if a recipient address is not accepted and the mail will be sent if at least one address is accepted (default false)</p>
</li>
<li>
<p><code>disableEsmtp</code> boolean if true, ESMTP-related commands will not be used (set if your smtp server doesn&#8217;t even give a proper error response code for the EHLO command) (default false)</p>
</li>
<li>
<p><code>userAgent</code> String represents the Mail User Agent(MUA) name used to generate email boundaries for multipart emails and message-id, default is <code>vertxmail</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_mailresult_object"><a class="anchor" href="#_mailresult_object"></a>MailResult object</h3>
<div class="paragraph">
<p>The MailResult object has the following members</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>messageID</code> the Message-ID of the generated mail</p>
</li>
<li>
<p><code>recipients</code> the list of recipients the mail was sent to (if allowRcptErrors is true, this may be fewer than the intended recipients)</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMjMyLjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3ptNDE0LTI2Ni45aC0xNS4zdjQyLjJoLTguNVY2LjloLTE1LjJWMGgzOXY2Ljl6TTExOTMgMGwxNC4yIDM3LjdMMTIyMS4zIDBoMTF2NDkuMWgtOC41VjMyLjlsLjgtMjEuNy0xNC41IDM3LjloLTYuMWwtMTQuNS0zNy44LjggMjEuNnYxNi4yaC04LjVWMGgxMS4yeiIvPjwvc3ZnPg==" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">文档</a></li><li><a href="/download/">下载</a></li><li><a href="/blog/">博客</a></li><li><a href="/community/">社区</a></li><li><a href="/translation/">翻译团队</a></li><li><a href="https://github.com/eclipse-vertx/vert.x">GitHub</a></li><li><a href="https://github.com/vertx-china/vertx-web-site">翻译GitHub</a></li></ul></div><div class="footer-nav-list"><h5>资源</h5><ul class=""><li><a href="/faq/">答疑</a></li><li><a href="/channels/">联系渠道</a></li><li><a href="https://how-to.vertx.io/">操作指南</a></li><li><a href="https://start.vertx.io/">应用生成器</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse 基金会</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">隐私政策</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">使用条款</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">版权代理</a></li><li><a href="https://www.eclipse.org/legal/">法律资源</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x™<br/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>协议下获得了双重许可。<br class="footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a> 设计。</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.9.7/vertx-mail-client/scala","title":"Vert.x Mail client (SMTP client implementation)","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_creating_a_client\"\u003eCreating a client\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_sending_mails\"\u003eSending mails\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mail_client_data_objects\"\u003eMail-client data objects\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_mailmessage_properties\"\u003eMailMessage properties\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mailattachment_properties\"\u003eMailAttachment properties\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mailconfig_options\"\u003eMailConfig options\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_mailresult_object\"\u003eMailResult object\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x Mail client (SMTP client implementation)\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x client for sending SMTP emails via a local mail server\n(e.g. postfix) or by external mail server (e.g. googlemail or aol).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client supports a few additional auth methods like DIGEST-MD5 and has full\nsupport for TLS and SSL and is completely asynchronous. The client supports\nconnection pooling to keep connections open to be reused.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use this project, add the following dependency to the \u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-mail-client\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e${maven.version}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-mail-client:${maven.version}'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_creating_a_client\"\u003e\u003ca class=\"anchor\" href=\"#_creating_a_client\"\u003e\u003c/a\u003eCreating a client\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can send mails by creating a client that opens SMTP connections from the local jvm.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client uses a configuration object, the default config is created as empty\nobject and will connect to localhost port 25, which should be ok in a standard\nLinux environment where you have Postfix or similar mail server running on\nthe local machine. For all possible properties of the config object, see below.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe client can use a connection pool of the SMTP connections to get rid of the overhead of\nconnecting each time to the server, negotiating TLS and login (this function can be\nturned off by setting keepAlive = false). A client can either be shared or non-shared,\nif it is shared, the same connection pool will be used for all clients using the same identifier.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e config = \u003cspan class=\"hljs-type\"\u003eMailConfig\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e mailClient = \u003cspan class=\"hljs-type\"\u003eMailClient\u003c/span\u003e.createShared(vertx, config, \u003cspan class=\"hljs-string\"\u003e\"exampleclient\"\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe first call to MailClient.createShared will actually create the pool with the specified config.\nSubsequent calls will return a new client instance that uses the same pool, so the configuration won\u0026#8217;t be used.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you leave out the pool identifier, a default pool will be created. Note that the clients are\nshared in the scope of a vertx instance only (so two different vertx will have different pools with the\nsame identifier).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe unshared client can be created the same way leaving out the identifier.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e config = \u003cspan class=\"hljs-type\"\u003eMailConfig\u003c/span\u003e()\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e mailClient = \u003cspan class=\"hljs-type\"\u003eMailClient\u003c/span\u003e.create(vertx, config)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA more elaborate example using a mailserver that requires login via TLS\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e config = \u003cspan class=\"hljs-type\"\u003eMailConfig\u003c/span\u003e()\nconfig.setHostname(\u003cspan class=\"hljs-string\"\u003e\"mail.example.com\"\u003c/span\u003e)\nconfig.setPort(\u003cspan class=\"hljs-number\"\u003e587\u003c/span\u003e)\nconfig.setStarttls(\u003cspan class=\"hljs-type\"\u003eStartTLSOptions\u003c/span\u003e.\u003cspan class=\"hljs-type\"\u003eREQUIRED\u003c/span\u003e)\nconfig.setUsername(\u003cspan class=\"hljs-string\"\u003e\"user\"\u003c/span\u003e)\nconfig.setPassword(\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e mailClient = \u003cspan class=\"hljs-type\"\u003eMailClient\u003c/span\u003e.create(vertx, config)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_sending_mails\"\u003e\u003ca class=\"anchor\" href=\"#_sending_mails\"\u003e\u003c/a\u003eSending mails\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce the client object is created, you can use it to send mails. Since the\nsending of the mails works asynchronous in vert.x, the result handler will be\ncalled when the mail operation finishes. You can start many mail send operations\nin parallel, the connection pool will limit the number of concurrent operations\nso that new operations will wait in queue if no slots are available.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA mail message is constructed as JSON. The MailMessage object has\nproperties from, to, cc, bcc, subject, text, html etc. Depending on which values are set, the\nformat of the generated MIME message will vary. The recipient address properties\ncan either be a single address or a list of addresses.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe MIME encoder supports us-ascii (7bit) headers/messages and utf8 (usually\nquoted-printable) headers/messages\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e message = \u003cspan class=\"hljs-type\"\u003eMailMessage\u003c/span\u003e()\nmessage.setFrom(\u003cspan class=\"hljs-string\"\u003e\"user@example.com (Example User)\"\u003c/span\u003e)\nmessage.setTo(\u003cspan class=\"hljs-string\"\u003e\"recipient@example.org\"\u003c/span\u003e)\nmessage.setCc(\u003cspan class=\"hljs-string\"\u003e\"Another User \u0026lt;another@example.net\u0026gt;\"\u003c/span\u003e)\nmessage.setText(\u003cspan class=\"hljs-string\"\u003e\"this is the plain message text\"\u003c/span\u003e)\nmessage.setHtml(\u003cspan class=\"hljs-string\"\u003e\"this is html text \u0026lt;a href=\\\"http://vertx.io\\\"\u0026gt;vertx.io\u0026lt;/a\u0026gt;\"\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eAttachments can be created by the MailAttachment object using data stored in a Buffer,\nthis supports base64 attachments.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e attachment = \u003cspan class=\"hljs-type\"\u003eMailAttachment\u003c/span\u003e()\nattachment.setContentType(\u003cspan class=\"hljs-string\"\u003e\"text/plain\"\u003c/span\u003e)\nattachment.setData(\u003cspan class=\"hljs-type\"\u003eBuffer\u003c/span\u003e.buffer(\u003cspan class=\"hljs-string\"\u003e\"attachment file\"\u003c/span\u003e))\n\nmessage.setAttachment(attachment)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen using inline attachments (usually images), it is possible to reference the images within a html message\nto display html with the images included in the mail.\nImages can be referenced as \u0026lt;img src=\"cid:contentid@domain\"\u0026gt; in the html text, the corresponding image has Disposition:\ninline and the Content-ID header as \"\u0026lt;contentid@domain\u0026gt;\". Please note that RFC 2392 requires Content-ID values to be structured\nlike a Message-ID with angle brackets and a local and domain part using URL compatible encoding. None of this is not enforced\nand most mail clients supports IDs without angle brackets or without domain part, the best practice is to use the strict format.\nA valid example for a Content-ID value is \"\u0026lt;\u003ca href=\"mailto:filename%201.jpg@example.org\"\u003efilename%201.jpg@example.org\u003c/a\u003e\u0026gt;\"\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003e\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e attachment = \u003cspan class=\"hljs-type\"\u003eMailAttachment\u003c/span\u003e()\nattachment.setContentType(\u003cspan class=\"hljs-string\"\u003e\"image/jpeg\"\u003c/span\u003e)\nattachment.setData(\u003cspan class=\"hljs-type\"\u003eBuffer\u003c/span\u003e.buffer(\u003cspan class=\"hljs-string\"\u003e\"image data\"\u003c/span\u003e))\nattachment.setDisposition(\u003cspan class=\"hljs-string\"\u003e\"inline\"\u003c/span\u003e)\nattachment.setContentId(\u003cspan class=\"hljs-string\"\u003e\"\u0026lt;image1@example.com\u0026gt;\"\u003c/span\u003e)\n\nmessage.setInlineAttachment(attachment)\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen sending the mail, you can provide a AsyncResult\u0026lt;MailResult\u0026gt; handler that will be called when\nthe send operation is finished or it failed.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA mail is sent as follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-scala\" data-lang=\"scala\"\u003emailClient.sendMailFuture(message).onComplete{\n  \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eSuccess\u003c/span\u003e(result) =\u0026gt; {\n    println(result)\n  }\n  \u003cspan class=\"hljs-keyword\"\u003ecase\u003c/span\u003e \u003cspan class=\"hljs-type\"\u003eFailure\u003c/span\u003e(cause) =\u0026gt; {\n    println(\u003cspan class=\"hljs-string\"\u003es\"\u003cspan class=\"hljs-subst\"\u003e$cause\u003c/span\u003e\"\u003c/span\u003e)\n  }\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_mail_client_data_objects\"\u003e\u003ca class=\"anchor\" href=\"#_mail_client_data_objects\"\u003e\u003c/a\u003eMail-client data objects\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_mailmessage_properties\"\u003e\u003ca class=\"anchor\" href=\"#_mailmessage_properties\"\u003e\u003c/a\u003eMailMessage properties\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eEmail fields are Strings using the common formats for email with or without real\nname\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eusername@example.com\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eusername@example.com (Firstname Lastname)\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eFirstname Lastname \u0026lt;\u003ca href=\"mailto:username@example.com\"\u003eusername@example.com\u003c/a\u003e\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe MailMessage object has the following properties\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003efrom\u003c/code\u003e String representing the From address and the MAIL FROM field\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eto\u003c/code\u003e String or list of String representing the To addresses and the RCPT TO fields\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ecc\u003c/code\u003e same as to\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebcc\u003c/code\u003e same as to\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebounceAddress\u003c/code\u003e String representing the error address (MAIL FROM), if not set from is used\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003etext\u003c/code\u003e String representing the text/plain part of the mail\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ehtml\u003c/code\u003e String representing the text/html part of the mail\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eattachment\u003c/code\u003e MailAttachment or list of MailAttachment attachments of the message\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003einlineAttachment\u003c/code\u003e MailAttachment or list of MailAttachment of inline attachments of the message (usually images)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eheaders\u003c/code\u003e MultiMap representing headers to be added in addition to the headers necessary for the MIME Message\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003efixedHeaders\u003c/code\u003e boolean if true, only the headers provided as headers property will be set in the generated message\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ethe last two properties allow manipulating the generate messages with custom headers, e.g. providing\na message-id chosen by the calling program or setting different headers than would be generated by default. Unless you know\nwhat you are doing, this may generate invalid messages.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_mailattachment_properties\"\u003e\u003ca class=\"anchor\" href=\"#_mailattachment_properties\"\u003e\u003c/a\u003eMailAttachment properties\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe MailAttachment object has the following properties\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003edata\u003c/code\u003e Buffer containing the binary data of the attachment\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econtentType\u003c/code\u003e String of the Content-Type of the attachment (e.g. text/plain or text/plain; charset=\"UTF8\", default is application/octet-stream)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003edescription\u003c/code\u003e String describing the attachment (this is put in the description header of the attachment), optional\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003edisposition\u003c/code\u003e String describing the disposition of the attachment (this is either \"inline\" or \"attachment\", default is attachment)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ename\u003c/code\u003e String filename of the attachment (this is put into the disposition and in the Content-Type headers of the attachment), optional\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econtentId\u003c/code\u003e String describing the Content-Id of the attachment (this is used to identify inline images), optional\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eheaders\u003c/code\u003e MultiMap of headers for the attachment in addition to the default ones, optional\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_mailconfig_options\"\u003e\u003ca class=\"anchor\" href=\"#_mailconfig_options\"\u003e\u003c/a\u003eMailConfig options\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe configuration has the following properties\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ehostname\u003c/code\u003e the hostname of the smtp server to connect to (default is localhost)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eport\u003c/code\u003e the port of the smtp server to connect to (default is 25)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003estartTLS\u003c/code\u003e StartTLSOptions either DISABLED, OPTIONAL or REQUIRED, default is OPTIONAL\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003elogin\u003c/code\u003e LoginOption either DISABLED, NONE or REQUIRED, default is NONE\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eusername\u003c/code\u003e String of the username to be used for login (required only when LoginOption is REQUIRED)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003epassword\u003c/code\u003e String of the password to be used for login (required only when LoginOption is REQUIRED)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003essl\u003c/code\u003e boolean whether to use ssl on connect to the mail server (default is false), set this to use a port 465 ssl connection (default is false)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eehloHostname\u003c/code\u003e String to used in EHLO and for creating the message-id, if not set, the own hostname will be used, which may not be a good choice if it doesn\u0026#8217;t contain a FQDN or is localhost (optional)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eauthMethods\u003c/code\u003e String space separated list of allowed auth methods, this can be used to disallow some auth methods or define one required auth method (optional)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ekeepAlive\u003c/code\u003e boolean if connection pooling is enabled (default is true)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emaxPoolSize\u003c/code\u003e int max number of open connections kept in the pool or to be opened at one time (regardless if pooling is enabled or not), default is 10\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003etrustAll\u003c/code\u003e boolean whether to accept all certs from the server (default is false)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ekeyStore\u003c/code\u003e String the key store filename, this can be used to trust a server cert that is custom generated (optional)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ekeyStorePassword\u003c/code\u003e String password used to decrypt the key store (optional)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eallowRcptErrors\u003c/code\u003e boolean if true, sending continues if a recipient address is not accepted and the mail will be sent if at least one address is accepted (default false)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003edisableEsmtp\u003c/code\u003e boolean if true, ESMTP-related commands will not be used (set if your smtp server doesn\u0026#8217;t even give a proper error response code for the EHLO command) (default false)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003euserAgent\u003c/code\u003e String represents the Mail User Agent(MUA) name used to generate email boundaries for multipart emails and message-id, default is \u003ccode\u003evertxmail\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_mailresult_object\"\u003e\u003ca class=\"anchor\" href=\"#_mailresult_object\"\u003e\u003c/a\u003eMailResult object\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe MailResult object has the following members\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessageID\u003c/code\u003e the Message-ID of the generated mail\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003erecipients\u003c/code\u003e the list of recipients the mail was sent to (if allowRcptErrors is true, this may be fewer than the intended recipients)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"3.9.7"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.9.7","vertx-mail-client","scala"]},"buildId":"xfOizayQv8xUR-6mMuL-2","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-9a5c89434732593ca2fd.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.2c5d42edba8dda0b0ba3.js" async=""></script><script src="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.7689a0583e30048c05ff.js" async=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-3a425d1828d3af7aa498.js" async=""></script><script src="/_next/static/xfOizayQv8xUR-6mMuL-2/_buildManifest.js" async=""></script><script src="/_next/static/xfOizayQv8xUR-6mMuL-2/_ssgManifest.js" async=""></script></body></html>