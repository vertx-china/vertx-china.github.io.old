<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>Dropwizard 指标监控 | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-dropwizard-metrics" as="fetch" crossorigin="anonymous" class="jsx-d38685edc31911e0"/><meta name="next-head-count" content="14"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-6853d859ade043b9.js" defer=""></script><script src="/_next/static/chunks/framework-01395af778c6fb71.js" defer=""></script><script src="/_next/static/chunks/main-2ea7ab41ab691905.js" defer=""></script><script src="/_next/static/chunks/pages/_app-155bbedc7d6c4b74.js" defer=""></script><script src="/_next/static/chunks/778-5eaf13e353ab0b06.js" defer=""></script><script src="/_next/static/chunks/619-34d9218a66d5b123.js" defer=""></script><script src="/_next/static/chunks/629-5a87bb724d19315e.js" defer=""></script><script src="/_next/static/chunks/923-dea171df96c248df.js" defer=""></script><script src="/_next/static/chunks/434-be9324d6e5b718aa.js" defer=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-b6a025bc5d4ae207.js" defer=""></script><script src="/_next/static/nVFUqslJoQvsJs_b_GmkE/_buildManifest.js" defer=""></script><script src="/_next/static/nVFUqslJoQvsJs_b_GmkE/_ssgManifest.js" defer=""></script><script src="/_next/static/nVFUqslJoQvsJs_b_GmkE/_middlewareManifest.js" defer=""></script><style id="__jsx-400ec7965926e858">.dropdown-item.jsx-400ec7965926e858{white-space:nowrap;
line-height:2;
width:100%;
padding:0 1.5rem;
cursor:pointer}
.dropdown-item.jsx-400ec7965926e858:hover{background-color:#e9ecef}
.dropdown-item.active.jsx-400ec7965926e858{font-weight:400;
padding-left:.75rem}
.dropdown-item.has-active-siblings.jsx-400ec7965926e858:not(.active){padding-left:calc(0.75rem + 16px + 0.5em)}
.dropdown-item.jsx-400ec7965926e858 .dropdown-check-icon.jsx-400ec7965926e858{width:16px;
margin-right:.5em;
margin-top:1px}</style><style id="__jsx-6650573c8f14945d">.dropdown.jsx-6650573c8f14945d{position:relative;
display:inline-block}
.dropdown.jsx-6650573c8f14945d .dropdown-title.jsx-6650573c8f14945d{margin-right:0;
cursor:pointer;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d{position:absolute;
background-color:#f8f9fa;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
border-radius:.8rem;
list-style-type:none;
padding:.6666666667rem 0;
margin:.25rem 0 0 0;
z-index:100;
display:none;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a{color:#4d4d4d;
-webkit-text-decoration:none;
text-decoration:none;
font-weight:300}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.align-right.jsx-6650573c8f14945d{right:0}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.visible.jsx-6650573c8f14945d{display:block}
.dropdown.jsx-6650573c8f14945d .dropdown-menu.jsx-6650573c8f14945d a.jsx-6650573c8f14945d:hover{color:inherit}
.dropdown.jsx-6650573c8f14945d svg{margin-bottom:2px}</style><style id="__jsx-75cbc16d79a176fb">.tooltip.jsx-75cbc16d79a176fb{font-size:.75rem;
color:#4d4d4d;
background-color:#f8f9fa;
border-radius:.4rem;
padding:0 .4rem;
box-shadow:0 0 5px rgba(0, 0, 0, .3);
display:none;
white-space:nowrap;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none}
.tooltip.visible.jsx-75cbc16d79a176fb{display:block}
.tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb, .tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb::before{position:absolute;
width:8px;
height:8px;
z-index:-1}
.tooltip.jsx-75cbc16d79a176fb .tooltip-arrow.jsx-75cbc16d79a176fb::before{content:"";
-webkit-transform:rotate(45deg);
-moz-transform:rotate(45deg);
-ms-transform:rotate(45deg);
transform:rotate(45deg);
background:#f8f9fa;
box-shadow:-2px -2px 2px rgba(0, 0, 0, .1)}
.tooltip[data-popper-placement^=top].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{bottom:-4px}
.tooltip[data-popper-placement^=top].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(225deg);
-moz-transform:rotate(225deg);
-ms-transform:rotate(225deg);
transform:rotate(225deg)}
.tooltip[data-popper-placement^=bottom].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{top:-4px}
.tooltip[data-popper-placement^=left].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{right:-4px}
.tooltip[data-popper-placement^=left].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(135deg);
-moz-transform:rotate(135deg);
-ms-transform:rotate(135deg);
transform:rotate(135deg)}
.tooltip[data-popper-placement^=right].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb{left:-4px}
.tooltip[data-popper-placement^=right].jsx-75cbc16d79a176fb>.tooltip-arrow.jsx-75cbc16d79a176fb::before{-webkit-transform:rotate(315deg);
-moz-transform:rotate(315deg);
-ms-transform:rotate(315deg);
transform:rotate(315deg)}</style><style id="__jsx-f705e145f931f504">.navbar{position:absolute;
top:2.75rem;
width:100%}
.navbar a{color:#3c3c3b}
.navbar a.navbar-menu-item, .navbar .dropdown-title{text-transform:uppercase}
.navbar a.navbar-menu-item:hover, .navbar .dropdown-title:hover{-webkit-text-decoration:none;
text-decoration:none;
color:#898987;
-webkit-transition:color .15s ease-in-out;
transition:color .15s ease-in-out}
.navbar .navbar-content{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
position:relative}
.navbar .navbar-content .navbar-logo{-webkit-flex:1;
-ms-flex:1;
flex:1}
.navbar .navbar-content .navbar-logo img{width:8.3rem}
.navbar .navbar-content .navbar-collapse-button{display:none;
cursor:pointer}
@media (max-width:1000px) {.navbar .navbar-content .navbar-collapse-button{display:inline-block}}
.navbar .navbar-content .navbar-collapse-button span{display:block;
width:33px;
height:4px;
margin-bottom:5px;
position:relative;
background:#3c3c3b;
border-radius:3px;
z-index:1;
transform-origin:4px 0;
-webkit-transition:-webkit-transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease;
transition:transform .5s cubic-bezier(0.77, 0.2, 0.05, 1), background .5s cubic-bezier(0.77, 0.2, 0.05, 1), opacity .55s ease}
.navbar .navbar-content .navbar-collapse-button span:first-child{transform-origin:0% 0%}
.navbar .navbar-content .navbar-collapse-button span:nth-last-child(2){transform-origin:0% 100%}
.navbar .navbar-content .navbar-right{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline;
margin-bottom:10px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-right{max-height:0;
-webkit-transition:max-height 200ms ease-in-out;
transition:max-height 200ms ease-in-out;
box-shadow:0 2px 5px 0 rgba(0, 0, 0, .1);
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:absolute;
top:2.75rem;
left:.8rem;
right:.8rem;
background-color:#f8f9fa;
overflow-x:auto;
overflow-y:hidden}}
.navbar .navbar-content .navbar-menu .navbar-menu-item{font-weight:400;
margin-right:2.5rem}
.navbar .navbar-content .navbar-menu .navbar-menu-item.with-drop-down{margin-right:1.8rem}
@media (max-width:1250px) {.navbar .navbar-content .navbar-menu .navbar-menu-item{margin-right:1.5rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu .navbar-menu-item{display:block;
margin-bottom:1rem;
font-size:1.2rem}}
.navbar .navbar-content .navbar-menu .navbar-menu-item .external-link-icon{margin-left:.25em}
@media (max-width:1000px) {.navbar .navbar-content .navbar-menu{-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
padding:1rem}}
.navbar .navbar-content .navbar-social{margin-left:1.6rem;
font-size:.875rem}
.navbar .navbar-content .navbar-social svg{height:16px;
margin-bottom:2px}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social svg{height:1rem}}
@media (max-width:1250px) {.navbar .navbar-content .navbar-social{margin-left:1rem}}
@media (max-width:1000px) {.navbar .navbar-content .navbar-social{margin-left:auto;
padding:0 1rem 1rem 0;
font-size:1rem}}
@media (max-width:768px) {.navbar{top:1rem}}
.page .navbar{top:0;
padding-top:1.5rem;
padding-bottom:1rem;
position:fixed;
background-color:#fff;
z-index:2}</style><style id="__jsx-bf3edc7191e82cb">.search{position:relative}
.search input{color:#adb5bd;
border:1px solid #dee2e6;
border-radius:.4rem;
font-size:.875rem;
padding:.25rem 1.8rem .35rem 1.8rem;
width:100%;
-webkit-transition:color .15s ease-in-out, border-color .15s ease-in-out;
transition:color .15s ease-in-out, border-color .15s ease-in-out;
background-color:transparent}
.search input:focus{border-color:#adb5bd;
color:#3c3c3b}
.search .autosuggest{position:absolute;
top:0;
-webkit-user-select:none;
-moz-user-select:none;
-ms-user-select:none;
user-select:none;
z-index:-100;
opacity:.5}
.search .search-icon, .search .search-icon-delete{position:absolute;
top:.55rem;
height:1rem;
stroke:#adb5bd;
-webkit-transition:stroke .15s ease-in-out;
transition:stroke .15s ease-in-out}
.search .search-icon{left:.4rem}
.search input:focus+.search-icon{stroke:#6f6970}
.search .search-icon-delete{stroke:#6f6970;
right:.4rem;
height:.75rem;
top:.7rem;
opacity:0;
-webkit-transition:opacity .15s ease-in-out;
transition:opacity .15s ease-in-out;
cursor:text}
.search.has-content .search-icon-delete{opacity:1;
cursor:pointer}</style><style id="__jsx-9ece789f808ef724">.search-results, .search-results-none{font-size:.875rem;
overflow:auto;
list-style-type:none;
padding-left:0;
display:none}
.search-results.visible, .search-results-none.visible{display:block}
.search-results{list-style-type:none;
padding:0;
margin-bottom:0}
.search-results li{display:block;
padding:.5rem;
margin-bottom:1rem;
border-radius:.4rem;
border:1px solid transparent;
cursor:pointer;
max-width:17rem;
overflow-x:hidden}
.search-results li.active{background-color:#f8f9fa;
border:1px solid #e9ecef}
.search-results li h5{margin:0 0 .5rem 0;
font-size:1em}
.search-results li .search-results-highlight{background-color:#ff0}
.search-results-none{padding:1rem .5rem;
text-align:center;
width:100%}</style><style id="__jsx-d1843944f2d67b">.search-panel{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column;
position:relative}</style><style id="__jsx-d38685edc31911e0">.github-stars.jsx-d38685edc31911e0{display:inline-block}
.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0{margin-right:.25em}
.github-stars.jsx-d38685edc31911e0 .icon.jsx-d38685edc31911e0 svg{height:1rem}</style><style id="__jsx-aeedcf66895f49d7">footer{font-size:.875rem;
padding-top:3rem;
padding-bottom:4rem;
background-color:#f8f9fa;
border-top:1px solid #dee2e6;
margin-top:1rem;
color:#6f6970}
footer h5{font-size:1rem;
margin-top:0;
margin-bottom:1rem;
color:#3c3c3b;
text-transform:uppercase}
footer ul{padding:0;
list-style:none;
line-height:2}
footer a{color:#6f6970}
footer .footer-logo img, footer .footer-copyright-eclipse-logo img{-webkit-filter:grayscale(100);
filter:grayscale(100);
opacity:.5;
-webkit-transition:all .15s ease-in-out;
transition:all .15s ease-in-out}
footer .footer-logo img:hover, footer .footer-copyright-eclipse-logo img:hover{-webkit-filter:grayscale(0);
filter:grayscale(0);
opacity:1}
footer .footer-nav-section{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
margin-bottom:6rem}
footer .footer-nav-section .footer-logo{margin-top:.4rem}
footer .footer-nav-section .footer-logo img{width:8.3rem}
footer .footer-nav-section .footer-nav-list{width:20%}
footer .footer-copyright{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:row;
-ms-flex-direction:row;
flex-direction:row;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center}
footer .footer-copyright a{white-space:nowrap}
footer .footer-copyright .footer-copyright-eclipse-logo{width:17%;
margin-bottom:.5rem}
@media (max-width:1250px) {footer .footer-copyright .footer-copyright-break{display:none}
footer .footer-copyright .footer-copyright-eclipse-logo{width:30%}}
@media (max-width:1000px) {footer .footer-nav-section .footer-nav-list{width:25%}
footer .footer-copyright .footer-copyright-break{display:inline-block}
footer .footer-copyright .footer-copyright-eclipse-logo{width:40%}}
@media (max-width:768px) {footer .footer-nav-section{max-width:100%;
margin-left:auto;
margin-right:auto}}
@media (max-width:640px) {footer .footer-nav-section{max-width:80%;
margin-bottom:3rem;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
footer .footer-nav-section h5{cursor:pointer}
footer .footer-nav-section h5::after{display:inline-block;
content:"";
border-top:.4em solid;
border-right:.4em solid transparent;
border-bottom:0;
border-left:.4em solid transparent;
position:absolute;
top:.75rem;
right:0}
footer .footer-nav-section .footer-nav-list{width:100%;
position:relative}
footer .footer-nav-section .footer-nav-list ul{overflow-y:hidden;
max-height:0;
-webkit-transition:all 200ms ease-in-out;
transition:all 200ms ease-in-out}
footer .footer-nav-section .footer-nav-list ul.visible{margin-bottom:2rem}
footer .footer-nav-section .footer-logo{margin:0 auto 3rem auto;
width:auto}
footer .footer-copyright{max-width:80%;
text-align:center;
margin-left:auto;
margin-right:auto;
-webkit-flex-direction:column-reverse;
-ms-flex-direction:column-reverse;
flex-direction:column-reverse}
footer .footer-copyright .footer-copyright-eclipse-logo{width:7.6rem;
margin-bottom:1rem}}</style><style id="__jsx-efcc50be384cabc7">.page-content{margin-top:6em;
margin-bottom:8rem}
.docs .docs-content .docs-content-wrapper{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-box-pack:justify;
-webkit-justify-content:space-between;
justify-content:space-between}
.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 17rem;
-ms-flex:0 0 17rem;
flex:0 0 17rem}
.docs .docs-content .docs-content-wrapper aside .docs-content-wrapper-sidebar{position:-webkit-sticky;
position:sticky;
top:7em}
.docs .docs-content .docs-content-wrapper aside .search-panel{margin-top:1rem;
width:100%}
.docs .docs-content .docs-content-wrapper aside .search-panel .search-results{max-height:calc(100vh - 10rem - 1px)}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc{margin-top:1rem;
overflow-y:auto;
max-height:calc(100vh - 10rem - 3px)}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc #toctitle{display:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul{margin-top:0;
padding-left:0;
list-style-type:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul.sectlevel2{display:none}
.docs .docs-content .docs-content-wrapper aside .docs-content-toc ul li{padding:.3333333333rem 0}
.docs .docs-content .docs-content-wrapper aside.docs-has-search-results .docs-content-toc{display:none}
@media (max-width:1250px) {.docs .docs-content .docs-content-wrapper aside{-webkit-flex:0 0 15rem;
-ms-flex:0 0 15rem;
flex:0 0 15rem}}
@media (max-width:1000px) {.docs .docs-content .docs-content-wrapper aside{z-index:1;
position:fixed;
top:0;
right:0;
width:25rem;
height:100vh;
max-width:100%;
padding-top:6rem;
padding-left:2rem;
padding-right:2rem;
background-color:#fff;
border-left:1px solid #dee2e6;
-webkit-transform:translateX(100%);
-moz-transform:translateX(100%);
-ms-transform:translateX(100%);
transform:translateX(100%);
-webkit-transition:-webkit-transform 200ms ease-in-out;
transition:transform 200ms ease-in-out;
will-change:transform}
.docs .docs-content .docs-content-wrapper aside.collapse{-webkit-transform:translateX(0%);
-moz-transform:translateX(0%);
-ms-transform:translateX(0%);
transform:translateX(0%)}}
@media (max-width:640px) {.docs .docs-content .docs-content-wrapper aside{min-width:100%;
border-left:none}}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{z-index:1000;
cursor:pointer;
display:none;
position:fixed;
-webkit-justify-content:center;
justify-content:center;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
right:2rem;
bottom:2rem;
color:#fff;
background-color:#4d4d4d;
padding:.5rem;
border-radius:.8rem;
-webkit-transition:background-color .15s ease-in-out;
transition:background-color .15s ease-in-out}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-list, .docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{display:block}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle .feather-x{position:absolute;
left:0;
top:0;
opacity:0;
-webkit-transition:opacity .15s ease-in-out;
transition:opacity .15s ease-in-out}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle:hover{background-color:#3c3c3b}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-list{opacity:0}
.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle.collapse .feather-x{opacity:1}
@media (max-width:1000px) {.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}}
@media (max-width:640px) {.docs .docs-content .docs-content-wrapper .docs-content-sidebar-toggle{right:1rem;
bottom:1rem}}
.docs .docs-content .docs-content-inner{max-width:calc(100% - 19.5rem);
overflow:hidden}
.docs .docs-content .docs-content-inner .docs-content-metadata{margin-top:1.2rem;
margin-bottom:1.2rem;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
flex-wrap:wrap;
-webkit-align-items:baseline;
-webkit-box-align:baseline;
-ms-flex-align:baseline;
align-items:baseline}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata{-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-repo{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
-webkit-flex:1;
-ms-flex:1;
flex:1}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*{margin-right:2rem}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left>*:last-child{margin-right:0}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-align-items:center;
-webkit-box-align:center;
-ms-flex-align:center;
align-items:center;
color:#6f6970;
white-space:nowrap}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a:hover{color:#782b90}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left a .feather{margin-right:.25em;
height:1rem}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-left{flex-wrap:wrap;
margin-bottom:1rem}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-flex:1;
-ms-flex:1;
flex:1;
display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex}
@media (min-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version{-webkit-box-pack:end;
-ms-flex-pack:end;
-webkit-justify-content:flex-end;
justify-content:flex-end}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:16px;
margin-bottom:-2px}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version svg{height:1rem;
margin-bottom:-1px}}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a{-webkit-text-decoration:none;
text-decoration:none}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-version .dropdown-menu a:hover{color:#6f6970}
.docs .docs-content .docs-content-inner .docs-content-metadata .docs-content-metadata-label{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
margin-left:2rem}
.docs .docs-content .docs-content-inner h1{padding-top:0;
margin-top:.6rem;
line-height:1.2}
.docs .docs-content .docs-content-inner h1::after{content:"";
width:30%;
display:block;
border:2px solid #782b90;
border-radius:2px;
margin-top:1.1rem}
.docs .docs-content .docs-content-inner .ulist>ul{padding-left:1.1rem}
.docs .docs-content .docs-content-inner h2{border-top:1px solid #dee2e6;
margin-top:5rem;
padding-top:2rem}
.docs .docs-content .docs-content-inner h3, .docs .docs-content .docs-content-inner h4{margin-top:3rem}
@media (max-width:1250px) {.docs .docs-content .docs-content-inner{max-width:calc(100% - 17.5rem)}}
@media (max-width:1000px) {.docs .docs-content .docs-content-inner{max-width:100%}}
.docs .docs-content .admonitionblock{border-top-right-radius:.8rem;
border-bottom-right-radius:.8rem;
background-color:#f8f9fa;
padding:1rem;
margin:1.5rem 0;
border-left:9px solid transparent}
.docs .docs-content .admonitionblock.note, .docs .docs-content .admonitionblock.tip{border-color:#6cb9f0}
.docs .docs-content .admonitionblock.important, .docs .docs-content .admonitionblock.warning, .docs .docs-content .admonitionblock.caution{border-color:#f0a46c}
.docs .docs-content .admonitionblock tr{display:-webkit-box;
display:-webkit-flex;
display:-ms-flexbox;
display:flex;
-webkit-flex-direction:column;
-ms-flex-direction:column;
flex-direction:column}
.docs .docs-content .admonitionblock .title{font-weight:400}
.docs .docs-content .admonitionblock .title::after{content:":"}
.docs .docs-content dt{font-weight:400}
.docs .docs-content .anchor{opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.docs .docs-content .anchor::after{content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.docs .docs-content .anchor:hover{opacity:1}
.docs .docs-content h2:hover .anchor, .docs .docs-content h3:hover .anchor, .docs .docs-content h4:hover .anchor, .docs .docs-content h5:hover .anchor, .docs .docs-content h6:hover .anchor{opacity:1}
.docs .docs-content h1 .anchor{display:none}
.docs .docs-content h4 .anchor::after, .docs .docs-content h5 .anchor::after, .docs .docs-content h6 .anchor::after{padding-right:.6rem}</style><style id="__jsx-7824b3ad3820c879">html{line-height:1.15;
-webkit-text-size-adjust:100%}
body{margin:0}
main{display:block}
h1{font-size:2em;
margin:.67em 0}
hr{box-sizing:content-box;
height:0;
overflow:visible}
pre{font-family:monospace, monospace;
font-size:1em}
a{background-color:transparent}
abbr[title]{border-bottom:none;
text-decoration:underline;
text-decoration:underline dotted}
b, strong{font-weight:bolder}
code, kbd, samp{font-family:monospace, monospace;
font-size:1em}
small{font-size:80%}
sub, sup{font-size:75%;
line-height:0;
position:relative;
vertical-align:baseline}
sub{bottom:-0.25em}
sup{top:-0.5em}
img{border-style:none}
button, input, optgroup, select, textarea{font-family:inherit;
font-size:100%;
line-height:1.15;
margin:0}
button, input{overflow:visible}
button, select{text-transform:none}
button, [type=button], [type=reset], [type=submit]{-webkit-appearance:button}
button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner{border-style:none;
padding:0}
button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring{outline:1px dotted ButtonText}
fieldset{padding:.35em .75em .625em}
legend{box-sizing:border-box;
color:inherit;
display:table;
max-width:100%;
padding:0;
white-space:normal}
progress{vertical-align:baseline}
textarea{overflow:auto}
[type=checkbox], [type=radio]{box-sizing:border-box;
padding:0}
[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button{height:auto}
[type=search]{-webkit-appearance:textfield;
outline-offset:-2px}
[type=search]::-webkit-search-decoration{-webkit-appearance:none}
::-webkit-file-upload-button{-webkit-appearance:button;
font:inherit}
details{display:block}
summary{display:list-item}
template{display:none}
[hidden]{display:none}
.hljs, pre{display:block;
overflow-x:auto;
padding:.5em;
background:#3a2840;
color:#fff}
.hljs.language-shell :not(.bash)+.bash, .hljs.language-better-shell :not(.bash)+.bash, pre.language-shell :not(.bash)+.bash, pre.language-better-shell :not(.bash)+.bash{color:#d2a8e0}
pre{border-radius:.8rem;
padding:1rem;
font-size:.875rem;
margin:1.5rem 0}
.hljs-keyword, .hljs-selector-tag, .hljs-tag{color:#d2a8e0}
.hljs-template-tag{color:red}
.hljs-number{color:#6cb9f0}
.hljs-variable, .hljs-template-variable, .hljs-attribute, .hljs-literal{color:#c9e5f9}
.hljs-subst{color:red}
.hljs-title, .hljs-name, .hljs-selector-id, .hljs-selector-class, .hljs-section, .hljs-type{color:#f0a46c}
.hljs-symbol, .hljs-bullet, .hljs-link{color:#d2a8e0}
.hljs-deletion, .hljs-string, .hljs-built_in, .hljs-builtin-name{color:#6cb9f0}
.hljs-addition, .hljs-comment, .hljs-quote, .hljs-meta{color:#adb5bd}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:bold}
#nprogress{pointer-events:none}
#nprogress .bar{background:#29d;
position:fixed;
z-index:1031;
top:0;
left:0;
width:100%;
height:2px}
#nprogress .peg{display:block;
position:absolute;
right:0px;
width:100px;
height:100%;
box-shadow:0 0 10px #29d, 0 0 5px #29d;
opacity:1;
-webkit-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
-webkit-transform:rotate(3deg) translate(0px, -4px);
-moz-transform:rotate(3deg) translate(0px, -4px);
-ms-transform:rotate(3deg) translate(0px, -4px);
transform:rotate(3deg) translate(0px, -4px)}
#nprogress .spinner{display:block;
position:fixed;
z-index:1031;
top:15px;
right:15px}
#nprogress .spinner-icon{width:18px;
height:18px;
box-sizing:border-box;
border:solid 2px transparent;
border-top-color:#29d;
border-left-color:#29d;
border-radius:50%;
-webkit-animation:nprogress-spinner 400ms linear infinite;
-webkit-animation:nprogress-spinner 400ms linear infinite;
animation:nprogress-spinner 400ms linear infinite}
.nprogress-custom-parent{overflow:hidden;
position:relative}
.nprogress-custom-parent #nprogress .spinner, .nprogress-custom-parent #nprogress .bar{position:absolute}
@keyframes nprogress-spinner {0% {-webkit-transform:rotate(0deg)}100% {-webkit-transform:rotate(360deg)}}
@keyframes nprogress-spinner {0% {transform:rotate(0deg)}100% {transform:rotate(360deg)}}
#nprogress .bar{background:#782b90}
#nprogress .peg{box-shadow:0 0 10px #782b90, 0 0 5px #782b90}
#nprogress .spinner-icon{border-top-color:#782b90;
border-left-color:#782b90}
html{box-sizing:border-box}
*, *::before, *::after{box-sizing:inherit}
:root{font-size:18px}
@media (max-width:1000px) {:root{font-size:17.1px}}
@media (max-width:768px) {:root{font-size:16.2px}}
@media (max-width:640px) {:root{font-size:15.3px}}
body, input{font-family:Roboto, sans-serif;
font-weight:300;
line-height:1.7;
color:#3c3c3b}
input{outline:none}
h1, h2, h3, h4, h5, h6{font-weight:400}
h1{font-size:2.5rem}
h2{font-size:2rem}
h3{font-size:1.75rem}
h4{font-size:1.5rem}
h5{font-size:1.25rem}
h6{font-size:1.1rem}
.container{width:100%;
padding-right:.8rem;
padding-left:.8rem;
margin-right:auto;
margin-left:auto}
@media (min-width:640px) {.container{max-width:620px}}
@media (min-width:768px) {.container{max-width:738px}}
@media (min-width:1000px) {.container{max-width:950px}}
@media (min-width:1250px) {.container{max-width:1180px}}
@media (min-width:1250px) {.container-narrow{max-width:950px}}
.img-fluid{max-width:100%}
a{-webkit-text-decoration:none;
text-decoration:none;
color:#782b90}
a:hover{text-decoration:underline;
color:#571f69}
img{vertical-align:middle}
svg{overflow:hidden;
vertical-align:middle}
code, pre{font-family:"Roboto Mono", SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
p code{display:-webkit-inline-box;
display:-webkit-inline-flex;
display:-ms-inline-flexbox;
display:inline-flex;
max-width:100%;
overflow:auto}
.heading-anchor{opacity:0;
-webkit-align-self:flex-start;
-ms-flex-item-align:flex-start;
align-self:flex-start;
outline:none}
.heading-anchor::after{content:"#";
position:absolute;
margin-left:-1.5rem;
color:#ced4da;
padding-right:.45rem}
.heading-anchor:hover{opacity:1}
h2:hover .heading-anchor, h3:hover .heading-anchor, h4:hover .heading-anchor, h5:hover .heading-anchor, h6:hover .heading-anchor{opacity:1}
h1 .heading-anchor{display:none}
h4 .heading-anchor::after, h5 .heading-anchor::after, h6 .heading-anchor::after{padding-right:.6rem}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap">@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZKCA.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-59Y.woff) format('woff')}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCkYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCAYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCgYb9lecyVC4A.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCcYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCsYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCoYb9lecyVC4A.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVi2ZhZI2eCN5jzbjEETS9weq8-33mZGCQYb9lecyU.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-19-7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-19a7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-1967DQk6YvNkeg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-19G7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-1927DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-19y7DQk6YvNkeg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Condensed';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotocondensed/v24/ieVl2ZhZI2eCN5jzbjEETS9weq8-19K7DQk6YvM.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap">@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SeW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_QOW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_R-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_S-W-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW-AJi8SJQtQ4Y.woff) format('woff');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW-AJi8SJQt.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body data-build-time="2022-04-15T06:48:44.999Z" data-build-commit-id="727e8d5cb9827e48fbe0574d1aa4a8238be6988a" data-build-run-id="2171328785"><div id="__next" data-reactroot=""><main class="jsx-efcc50be384cabc7 page docs"><header><div class="jsx-f705e145f931f504 navbar"><div class="jsx-f705e145f931f504 navbar-content container"><div class="jsx-f705e145f931f504 navbar-logo"><a class="jsx-f705e145f931f504" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-f705e145f931f504"/></a></div><div class="jsx-f705e145f931f504 navbar-collapse-button"><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span><span class="jsx-f705e145f931f504"></span></div><div class="jsx-f705e145f931f504 navbar-right"><div class="jsx-f705e145f931f504 navbar-menu"><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/introduction-to-vertx-and-reactive/"><li class="jsx-400ec7965926e858 dropdown-item">简介</li></a><a class="jsx-f705e145f931f504" href="/get-started/"><li class="jsx-400ec7965926e858 dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/docs/">文档</a><span class="jsx-f705e145f931f504 navbar-menu-item with-drop-down"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu"><a class="jsx-f705e145f931f504" href="/faq/"><li class="jsx-400ec7965926e858 dropdown-item">答疑</li></a><a class="jsx-f705e145f931f504" href="/channels/"><li class="jsx-400ec7965926e858 dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/advanced-vertx-guide" target="_blank" rel="noreferrer" class="jsx-f705e145f931f504"><li class="jsx-400ec7965926e858 dropdown-item">Advanced Vert.x Guide <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="jsx-f705e145f931f504 navbar-menu-item" href="/blog/">博客</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/community/">社区</a><a class="jsx-f705e145f931f504 navbar-menu-item" href="/translation/">翻译团队</a></div><div class="jsx-f705e145f931f504 navbar-social"><span class="jsx-75cbc16d79a176fb "><a href="https://github.com/vert-x3/vertx-awesome" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title></title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Awesome Vert.x<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://stackoverflow.com/questions/tagged/vert.x" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title></title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Stack Overflow<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title></title><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">YouTube<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://discord.gg/KzEMwP2" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title></title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Discord<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title></title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Vert.x User Group<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://qm.qq.com/cgi-bin/qm/qr?k=QFrKfwIVTuShDdh7puvfJWjqOx4C014c&amp;jump_from=webapi" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title></title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Vert.x中国用户组QQ群<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div><span class="jsx-75cbc16d79a176fb "><a href="https://qun.qq.com/qqweb/qunpro/share?_wv=3&amp;_wwv=128&amp;inviteCode=1reLvB&amp;from=246610&amp;biz=ka" target="_blank" rel="noopener noreferrer" class="jsx-f705e145f931f504 navbar-social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 200 200" aria-label=""><title>Vert.x中国用户组QQ群</title><path d="M13 73L16 49L52 49L58 14L82 14L77 49L135 49L141 14L166 14L160 49L195 49L192 73L157 73L148 124L184 124L181 149L144 149L137 193L90 149L61 149L55 185L31 185L36 149L0 149L6 124L100 124L120 144L131 75L72 75L64 124L40 124L48 73Z"></path></svg></a></span><div class="jsx-75cbc16d79a176fb tooltip">Vert.x中国用户组QQ频道<div data-popper-arrow="true" class="jsx-75cbc16d79a176fb tooltip-arrow"></div></div></div></div></div></div></header><div class="jsx-efcc50be384cabc7 page-content docs-content"><div class="jsx-efcc50be384cabc7 container"><div class="jsx-efcc50be384cabc7 docs-content-wrapper"><aside class="jsx-efcc50be384cabc7 "><div class="jsx-efcc50be384cabc7 docs-content-wrapper-sidebar"><div class="jsx-d1843944f2d67b search-panel"><div class="jsx-bf3edc7191e82cb search"><input type="text" disabled="" class="jsx-bf3edc7191e82cb autosuggest"/><input type="text" placeholder="Search..." value="" class="jsx-bf3edc7191e82cb"/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="jsx-9ece789f808ef724 search-results"></ul><div class="jsx-9ece789f808ef724 search-results-none">No results.</div></div><div class="jsx-efcc50be384cabc7 docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_features">特性</a></li>
<li><a href="#_getting_started">入门</a></li>
<li><a href="#_command_line_activation">命令行模式激活指标监控</a></li>
<li><a href="#_metrics_service">指标监控服务</a>
<ul class="sectlevel2">
<li><a href="#_naming">监控指标命名</a></li>
<li><a href="#_retrieving_metrics">获取监控指标</a></li>
</ul>
</li>
<li><a href="#_data">指标数据</a>
<ul class="sectlevel2">
<li><a href="#gauge">测量值</a></li>
<li><a href="#counter">计数器</a></li>
<li><a href="#histogram">柱状图</a></li>
<li><a href="#meter">仪表（Meter）</a></li>
<li><a href="#throughput_meter">吞吐量统计</a></li>
<li><a href="#timer">计时器</a></li>
<li><a href="#throughput_timer">吞吐量计时器</a></li>
</ul>
</li>
<li><a href="#_the_metrics">监控指标</a>
<ul class="sectlevel2">
<li><a href="#_vertx_metrics">Vert.x 指标</a></li>
<li><a href="#_event_bus_metrics">Event bus 指标</a></li>
<li><a href="#http-server-metrics">Http server 指标</a></li>
<li><a href="#_http_client_metrics">Http 客户端指标</a></li>
<li><a href="#net-server-metrics">Net 服务指标</a></li>
<li><a href="#_net_client_metrics">Net 客户端指标</a></li>
<li><a href="#_client_metrics">客户端指标</a></li>
<li><a href="#_datagram_socket_metrics">数据报套接字指标</a></li>
<li><a href="#_pool_metrics">池的指标</a></li>
</ul>
</li>
<li><a href="#jmx">JMX</a></li>
<li><a href="#_enabling_remote_jmx">启用远程 JMX</a></li>
<li><a href="#dropwizard-registry">访问 Dropwizard Registry</a></li>
<li><a href="#_using_already_existing_dropwizard_registry">使用已有的 Dropwizard Registry</a></li>
<li><a href="#_using_jolokia_and_hawtio">使用 Jolokia 和 Hawtio</a></li>
<li><a href="#_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios">使用 Jolokia 和 JMX4Perl 向 Nagios 开放监控指标</a></li>
<li><a href="#_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service">在 Vert.x Shell 服务中通过 Telnet 或 SSH 执行的监控指标命令</a></li>
</ul>
</div></div></div></aside><div class="jsx-efcc50be384cabc7 docs-content-sidebar-toggle"><div style="position:relative" class="jsx-efcc50be384cabc7"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="jsx-efcc50be384cabc7 docs-content-inner"><div class="jsx-efcc50be384cabc7 docs-content-metadata"><div class="jsx-efcc50be384cabc7 docs-content-metadata-left"><div class="jsx-efcc50be384cabc7 docs-content-metadata-repo"><div class="jsx-d38685edc31911e0 github-stars"><a href="https://github.com/vert-x3/vertx-dropwizard-metrics" class="jsx-d38685edc31911e0"><div class="jsx-d38685edc31911e0 icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></div> <!-- -->null stars</a></div></div><div class="jsx-efcc50be384cabc7"><a href="https://vertx.io/docs/apidocs" class="jsx-efcc50be384cabc7"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="jsx-efcc50be384cabc7 docs-content-metadata-examples"><a href="https://github.com/vert-x3/vertx-examples/tree/4.x/metrics-examples"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg> Examples</a></div><div class="jsx-efcc50be384cabc7 docs-content-metadata-edit"><a href="https://github.com/vertx-china/vertx-web-site/tree/master/docs/translation/vertx-dropwizard-metrics/java"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> 改进翻译</a></div><span class="jsx-efcc50be384cabc7 docs-content-metadata-version"><div class="jsx-6650573c8f14945d dropdown"><a class="jsx-6650573c8f14945d dropdown-title">v4.2.7<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="jsx-6650573c8f14945d dropdown-menu align-right"><a href="/docs/vertx-dropwizard-metrics/java/"><li class="jsx-400ec7965926e858 dropdown-item active has-active-siblings"><span class="jsx-400ec7965926e858 dropdown-check-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg></span>Latest (v<!-- -->4.2.7<!-- -->)</li></a><a href="/docs/4.1.8/vertx-dropwizard-metrics/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.1.8</li></a><a href="/docs/4.0.3/vertx-dropwizard-metrics/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->4.0.3</li></a><a href="/docs/3.9.13/vertx-dropwizard-metrics/java/"><li class="jsx-400ec7965926e858 dropdown-item has-active-siblings">v<!-- -->3.9.13</li></a></ul></div></span></div></div><div class="jsx-efcc50be384cabc7"><h1>Metrics</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>本项目基于 <a href="https://github.com/dropwizard/metrics">Dropwizard metrics</a>
实现了 Vert.x 指标监控的SPI（Service Provider Interface，服务供应接口）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features"><a class="anchor" href="#_features"></a>特性</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x 提供了一个相当易用的API接口 <code><a href="../../apidocs/io/vertx/core/metrics/Measured.html">Measured</a></code> 用于查询监控指标，
很多 Vert.x 组件都实现了这个接口，包括 <code><a href="../../apidocs/io/vertx/core/http/HttpServer.html">HttpServer</a></code>，
<code><a href="../../apidocs/io/vertx/core/net/NetServer.html">NetServer</a></code>，以及 <code><a href="../../apidocs/io/vertx/core/Vertx.html">Vertx</a></code> 本身等等。</p>
</div>
<div class="paragraph">
<p>本项目基于 Dropwizard 实现了可配置的 JMX 上报服务，可将 Vert.x 作为 JMX 的 MBean 使用。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>入门</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 Vert.x 指标监控需要在您项目的构建配置增加以下 <em>依赖</em> ：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven（位于 <code>pom.xml</code>）：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-dropwizard-metrics<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle（位于 <code>build.gradle</code>）：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">&#x27;io.vertx:vertx-dropwizard-metrics:4.1.4&#x27;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>创建 Vertx 实例时通过 <code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html">DropwizardMetricsOptions</a></code> 启用指标监控：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setEnabled(<span class="hljs-literal">true</span>)
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>也可以启用 JMX 支持：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setJmxEnabled(<span class="hljs-literal">true</span>)
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>更多关于 JMX 的信息请参阅文末的 <a href="#jmx">JMX</a> 章节。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_activation"><a class="anchor" href="#_command_line_activation"></a>命令行模式激活指标监控</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在命令行模式（Vert.x CLI）启动的 Vert.x 应用可以通过 JVM 系统属性启用指标监控。
<em>vertx.metrics.options.</em> 开头的系统属性会被传递到指标监控的配置。</p>
</div>
<div class="paragraph">
<p><em>vertx.metrics.options.enabled</em> 是一个标准 Vert.x Core 配置，用于启用指标监控，
（欲启用指标监控）此选项必须设置为 <code>true</code> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar your-fat-jar -Dvertx.metrics.options.enabled=true</pre>
</div>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setRegistryName-java.lang.String-">vertx.metrics.options.registryName</a></code>
配置项用于设置要使用的（现存的） <a href="#dropwizard-registry">Dropwizard Registry</a> ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar your-fat-jar -Dvertx.metrics.options.enabled=true -Dvertx.metrics.options.registryName=my-registry</pre>
</div>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setJmxEnabled-boolean-">vertx.metrics.options.jmxEnabled</a></code> 和
<code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setJmxDomain-java.lang.String-">vertx.metrics.options.jmxDomain</a></code>
配置项用于配置 <a href="#jmx">JMX</a> 注册信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar your-fat-jar -Dvertx.metrics.options.enabled=true -Dvertx.metrics.options.jmxEnabled=true ...</pre>
</div>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setConfigPath-java.lang.String-">vertx.metrics.options.configPath</a></code>
配置项用于指定监控配置文件。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metrics_service"><a class="anchor" href="#_metrics_service"></a>指标监控服务</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x core 定了了上报监控指标的 SPI （本项目已实现），
但并没有定义读取监控指标的 API （因为某些指标监控的实现只上报监控指标，不做其他事情）。</p>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/ext/dropwizard/MetricsService.html">MetricsService</a></code> 封装了 Dropwizard Registry，
提供了获取监控指标快照（snapshot）的API。</p>
</div>
<div class="sect2">
<h3 id="_naming"><a class="anchor" href="#_naming"></a>监控指标命名</h3>
<div class="paragraph">
<p>下面列出的每个可监控组件（Vertx除外）都有与之关联的基本指标名（baseName，译者注：即指标名的前缀）。
所有监控指标都可以通过 Vertx 对象，使用全限定指标名 &lt;fqn&gt; （<code>baseName</code> + <code>.</code> + <code>metricName</code>）获取。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">JsonObject</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> metricsService.getMetricsSnapshot(vertx);
metrics.getJsonObject(<span class="hljs-string">&quot;vertx.eventbus.handlers&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者通过要监控的组件对象，使用指标名（<code>metricName</code>）获取监控指标：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">EventBus</span> <span class="hljs-variable">eventBus</span> <span class="hljs-operator">=</span> vertx.eventBus();
<span class="hljs-type">JsonObject</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> metricsService.getMetricsSnapshot(eventBus);
metrics.getJsonObject(<span class="hljs-string">&quot;handlers&quot;</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>更多关于从指定组件对象获取/使用监控指标的例子，请参见下文。</p>
</div>
<div class="paragraph">
<p>您可以可以列出所有监控指标名：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Set&lt;String&gt; metricsNames = metricsService.metricsNames();
<span class="hljs-keyword">for</span> (String metricsName : metricsNames) {
  System.out.println(<span class="hljs-string">&quot;Known metrics name &quot;</span> + metricsName);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>基本指标名（<code>baseName</code>） 默认是 <code>vertx</code>，但也可以自定义一个基本指标名：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">DropwizardMetricsOptions</span> <span class="hljs-variable">metricsOptions</span> <span class="hljs-operator">=</span>
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setBaseName(<span class="hljs-string">&quot;foo&quot;</span>);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_retrieving_metrics"><a class="anchor" href="#_retrieving_metrics"></a>获取监控指标</h3>
<div class="paragraph">
<p>启用指标监控后， <code><a href="../../apidocs/io/vertx/ext/dropwizard/MetricsService.html">MetricsService</a></code> 可以从
<code><a href="../../apidocs/io/vertx/core/metrics/Measured.html">Measured</a></code> 实例获取监控指标的快照（snapshot）；
快照是一个键为指标名、值为指标值的 <code><a href="../../apidocs/io/vertx/core/json/JsonObject.html">JsonObject</a></code> 对象。
下面的例子打印了 Vertx 实例所有的监控指标（快照）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MetricsService</span> <span class="hljs-variable">metricsService</span> <span class="hljs-operator">=</span> MetricsService.create(vertx);
<span class="hljs-type">JsonObject</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> metricsService.getMetricsSnapshot(vertx);
System.out.println(metrics);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
有关 <code><a href="../../apidocs/io/vertx/core/json/JsonObject.html">JsonObject</a></code> 快照实例包含的实际内容（实际监控指标）详情，
请参阅具体指标实现的文档，如 <a href="https://github.com/vert-x3/vertx-metrics">vertx-metrics</a>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>通常您只需获取特定组件（例如 http 服务器）的特定指标，
而不必知道每个指标的命名细节（留给 SPI 的实现处理）。</p>
</div>
<div class="paragraph">
<p><code><a href="../../apidocs/io/vertx/core/http/HttpServer.html">HttpServer</a></code> 实现了 <code><a href="../../apidocs/io/vertx/core/metrics/Measured.html">Measured</a></code>，
因此您可以轻松获取到指定 http 服务器的所有监控指标。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MetricsService</span> <span class="hljs-variable">metricsService</span> <span class="hljs-operator">=</span> MetricsService.create(vertx);
<span class="hljs-type">HttpServer</span> <span class="hljs-variable">server</span> <span class="hljs-operator">=</span> vertx.createHttpServer();
<span class="hljs-comment">// 设置 HTTP 服务器</span>
<span class="hljs-type">JsonObject</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> metricsService.getMetricsSnapshot(server);</code></pre>
</div>
</div>
<div class="paragraph">
<p>使用基本指标名（baseName）也可以获取到监控指标：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MetricsService</span> <span class="hljs-variable">metricsService</span> <span class="hljs-operator">=</span> MetricsService.create(vertx);
<span class="hljs-type">JsonObject</span> <span class="hljs-variable">metrics</span> <span class="hljs-operator">=</span> metricsService.getMetricsSnapshot(<span class="hljs-string">&quot;vertx.eventbus.message&quot;</span>);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data"><a class="anchor" href="#_data"></a>指标数据</h2>
<div class="sectionbody">
<div class="paragraph">
<p>下面是（快照）JSON 中的所有 dropwizard 监控指标。
每个监控指标的详情请参阅 <a href="https://github.com/dropwizard/metrics">Dropwizard metrics</a> 文档。</p>
</div>
<div class="sect2">
<h3 id="gauge"><a class="anchor" href="#gauge"></a>测量值</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
 <span class="hljs-string">&quot;type&quot;</span>  : <span class="hljs-string">&quot;gauge&quot;</span>,
 <span class="hljs-string">&quot;value&quot;</span> : value <span class="hljs-comment">// 任一json值（译者注：数字、字符串、数组、对象等）</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="counter"><a class="anchor" href="#counter"></a>计数器</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{
 <span class="hljs-string">&quot;type&quot;</span>  : <span class="hljs-string">&quot;counter&quot;</span>,
 <span class="hljs-string">&quot;count&quot;</span> : <span class="hljs-number">1</span> <span class="hljs-comment">// 数字</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="histogram"><a class="anchor" href="#histogram"></a>柱状图</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">{
 <span class="hljs-string">&quot;type&quot;</span>   : <span class="hljs-string">&quot;histogram&quot;</span>,
 <span class="hljs-string">&quot;count&quot;</span>  : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;min&quot;</span>    : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;max&quot;</span>    : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;mean&quot;</span>   : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;stddev&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;median&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;75%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;95%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;98%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99.9%&quot;</span>  : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="meter"><a class="anchor" href="#meter"></a>仪表（Meter）</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{
 <span class="hljs-string">&quot;type&quot;</span>              : <span class="hljs-string">&quot;meter&quot;</span>,
 <span class="hljs-string">&quot;count&quot;</span>             : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;meanRate&quot;</span>          : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;oneMinuteRate&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fiveMinuteRate&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fifteenMinuteRate&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;rate&quot;</span>              : <span class="hljs-string">&quot;events/second&quot;</span> <span class="hljs-comment">// 速率，字符串</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="throughput_meter"><a class="anchor" href="#throughput_meter"></a>吞吐量统计</h3>
<div class="paragraph">
<p>即时吞吐量统计，扩展自 <a href="#meter">仪表</a> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{
 <span class="hljs-string">&quot;type&quot;</span>              : <span class="hljs-string">&quot;meter&quot;</span>,
 <span class="hljs-string">&quot;count&quot;</span>             : <span class="hljs-number">40</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;meanRate&quot;</span>          : <span class="hljs-number">2.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;oneSecondRate&quot;</span>     : <span class="hljs-number">3</span> <span class="hljs-comment">// long - 最近一秒的取值</span>
 <span class="hljs-string">&quot;oneMinuteRate&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fiveMinuteRate&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fifteenMinuteRate&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;rate&quot;</span>              : <span class="hljs-string">&quot;events/second&quot;</span> <span class="hljs-comment">// 速率，字符串</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="timer"><a class="anchor" href="#timer"></a>计时器</h3>
<div class="paragraph">
<p>A timer is basically a combination of Histogram + Meter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{
 <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;timer&quot;</span>,

 <span class="hljs-comment">// 柱状图数据</span>
 <span class="hljs-string">&quot;count&quot;</span>  : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;min&quot;</span>    : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;max&quot;</span>    : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;mean&quot;</span>   : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;stddev&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;median&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;75%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;95%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;98%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99%&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99.9%&quot;</span>  : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>

 <span class="hljs-comment">// 仪表（meter）数据</span>
 <span class="hljs-string">&quot;meanRate&quot;</span>          : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;oneMinuteRate&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fiveMinuteRate&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fifteenMinuteRate&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;rate&quot;</span>              : <span class="hljs-string">&quot;events/second&quot;</span> <span class="hljs-comment">// 速率，字符串</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="throughput_timer"><a class="anchor" href="#throughput_timer"></a>吞吐量计时器</h3>
<div class="paragraph">
<p>扩展了 <a href="#timer">计时器</a> ，可提供即时吞吐量指标。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">{
 <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;timer&quot;</span>,

 <span class="hljs-comment">// 柱状图数据</span>
 <span class="hljs-string">&quot;count&quot;</span>      : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;min&quot;</span>        : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;max&quot;</span>        : <span class="hljs-number">1</span> <span class="hljs-comment">// long</span>
 <span class="hljs-string">&quot;mean&quot;</span>       : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;stddev&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;median&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;75%&quot;</span>        : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;95%&quot;</span>        : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;98%&quot;</span>        : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99%&quot;</span>        : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;99.9%&quot;</span>      : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>

 <span class="hljs-comment">// 仪表（meter）数据</span>
 <span class="hljs-string">&quot;meanRate&quot;</span>          : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;oneSecondRate&quot;</span>     : <span class="hljs-number">3</span> <span class="hljs-comment">// long - 最近一秒的取值</span>
 <span class="hljs-string">&quot;oneMinuteRate&quot;</span>     : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fiveMinuteRate&quot;</span>    : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;fifteenMinuteRate&quot;</span> : <span class="hljs-number">1.0</span> <span class="hljs-comment">// double</span>
 <span class="hljs-string">&quot;rate&quot;</span>              : <span class="hljs-string">&quot;events/second&quot;</span> <span class="hljs-comment">// 速率，字符串</span>
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_metrics"><a class="anchor" href="#_the_metrics"></a>监控指标</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x 目前提供以下指标。</p>
</div>
<div class="sect2">
<h3 id="_vertx_metrics"><a class="anchor" href="#_vertx_metrics"></a>Vert.x 指标</h3>
<div class="paragraph">
<p>目前提供以下指标：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>vertx.event-loop-size</code> - 类型：<a href="#gauge">测量值</a>，含义：event-loop 线程池的线程数量</p>
</li>
<li>
<p><code>vertx.worker-pool-size</code> - 类型：<a href="#gauge">测量值</a>，含义：worker-pool 线程池的线程数量</p>
</li>
<li>
<p><code>vertx.cluster-host</code> - 类型：<a href="#gauge">测量值</a>，含义：cluster-host 配置值</p>
</li>
<li>
<p><code>vertx.cluster-port</code> - 类型：<a href="#gauge">测量值</a>，含义：cluster-port 配置值</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_event_bus_metrics"><a class="anchor" href="#_event_bus_metrics"></a>Event bus 指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.eventbus</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>handlers</code> - 类型：<a href="#counter">计数器</a>，含义：eventbus 中已注册的处理器数量</p>
</li>
<li>
<p><code>handlers.myaddress</code> - 类型：<a href="#timer">计时器</a>，含义：名为 <em>myaddress</em> 的处理器处理消息的速率</p>
</li>
<li>
<p><code>messages.bytes-read</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：接收到的远程消息总字节量</p>
</li>
<li>
<p><code>messages.bytes-written</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：发送到远程地址的消息总字节量</p>
</li>
<li>
<p><code>messages.pending</code> - 类型：<a href="#counter">计数器</a>，含义：已经被 eventbus 接收，但是还未被处理器所处理的消息数。</p>
</li>
<li>
<p><code>messages.pending-local</code> - 类型：<a href="#counter">计数器</a>，含义：已经被本地 eventbus 接收，但是还未被处理器所处理的消息数。</p>
</li>
<li>
<p><code>messages.pending-remote</code> - 类型：<a href="#counter">计数器</a>，含义：已经被远程 eventbus 接收，但是还未被处理器所处理的消息数。</p>
</li>
<li>
<p><code>messages.discarded</code> - 类型：<a href="#counter">计数器</a>，含义：已被处理器丢弃的消息数</p>
</li>
<li>
<p><code>messages.discarded-local</code> - 类型：<a href="#counter">计数器</a>，含义：已被本地处理器丢弃的消息数</p>
</li>
<li>
<p><code>messages.discarded-remote</code> - 类型：<a href="#counter">计数器</a>，含义：已被远程处理器丢弃的消息数</p>
</li>
<li>
<p><code>messages.received</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：接受消息的速率</p>
</li>
<li>
<p><code>messages.received-local</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：接受本地消息的速率</p>
</li>
<li>
<p><code>messages.received-remote</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：接受远程消息的速率</p>
</li>
<li>
<p><code>messages.delivered</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：消息被传递到处理器的速率</p>
</li>
<li>
<p><code>messages.delivered-local</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：本地消息被传递到处理器的速率</p>
</li>
<li>
<p><code>messages.delivered-remote</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：远程消息被传递到处理器的速率</p>
</li>
<li>
<p><code>messages.sent</code> - 类型：<a href="#throughput_metert">[throughput_metert]</a>，含义：发送消息的速率</p>
</li>
<li>
<p><code>messages.sent-local</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：本地发送消息的速率</p>
</li>
<li>
<p><code>messages.sent-remote</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：远程发送消息的速率</p>
</li>
<li>
<p><code>messages.published</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：发布消息的速率</p>
</li>
<li>
<p><code>messages.published-local</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：本地发布消息的速率</p>
</li>
<li>
<p><code>messages.published-remote</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：远程发布消息的速率</p>
</li>
<li>
<p><code>messages.reply-failures</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：回复消息失败的速率</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>可以通过 Event Bus 订阅地址的字符串匹配设置需要监控的 Event Bus 处理器。
Vert.x 可能注册了大量的 Event Bus ，
因此最佳的监控默认配置是不监控任何 Event Bus 处理器。</p>
</div>
<div class="paragraph">
<p>使用 <code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html">DropwizardMetricsOptions</a></code>
可以通过字符串匹配或正则匹配设置需要监控的 Event Bus 处理器。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
        setEnabled(<span class="hljs-literal">true</span>).
        addMonitoredEventBusHandler(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;some-address&quot;</span>)).
        addMonitoredEventBusHandler(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;business-.*&quot;</span>).setType(MatchType.REGEX))
));</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">警告</div>
</td>
<td class="content">
使用正则匹配时，错误的正则表达式可能会匹配上很多处理器。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="http-server-metrics"><a class="anchor" href="#http-server-metrics"></a>Http server 指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.http.servers.&lt;host&gt;:&lt;port&gt;</code></p>
</div>
<div class="paragraph">
<p>Http 服务器的指标包括 <a href="#net-server-metrics">Net 服务</a> 的所有指标以及以下内容：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>requests</code> - 类型：<a href="#throughput_timer">吞吐量计时器</a>，含义：单个请求及其出现的频率</p>
</li>
<li>
<p><code>&lt;http-method&gt;-requests</code> - 类型：<a href="#throughput_timer">吞吐量计时器</a>，含义：指定 HTTP 方法（译者注：由 &lt;http-method&gt; 指定）的请求及其频率。</p>
<div class="ulist">
<ul>
<li>
<p>例如： <code>get-requests</code>， <code>post-requests</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>&lt;http-method&gt;-requests./&lt;uri&gt;</code> - 类型：<a href="#throughput_timer">吞吐量计时器</a>，含义：指定 HTTP 方法和 URI 的请求及其频率。</p>
<div class="ulist">
<ul>
<li>
<p>例如： <code>get-requests./some/uri</code>， <code>post-requests./some/uri?foo=bar</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>&lt;http-method&gt;-requests./&lt;route&gt;</code> - 类型：<a href="#throughput_timer">吞吐量计时器</a>，含义：指定 HTTP 方法和路由的请求及其频率。</p>
<div class="ulist">
<ul>
<li>
<p>例如： <code>get-requests./route1</code>, <code>post-requests./resource/:id</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><code>responses-1xx</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：1xx响应的频次</p>
</li>
<li>
<p><code>responses-2xx</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：2xx响应的频次</p>
</li>
<li>
<p><code>responses-3xx</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：3xx响应的频次</p>
</li>
<li>
<p><code>responses-4xx</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：4xx响应的频次</p>
</li>
<li>
<p><code>responses-5xx</code> - 类型：<a href="#throughput_meter">吞吐量统计</a>，含义：5xx响应的频次</p>
</li>
<li>
<p><code>open-websockets</code> - 类型：<a href="#counter">计数器</a>，含义：打开的网络套接字连接数量</p>
</li>
<li>
<p><code>open-websockets.&lt;remote-host&gt;</code> - 类型：<a href="#counter">计数器</a>，含义：连接到指定远程主机（译者注：由 &lt;remote-host&gt; 指定）所打开网络套接字的连接数量</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Http URI 指标必须在 MetricsOptions 中显式配置，可以使用完全匹配或正则表达式匹配：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
        setEnabled(<span class="hljs-literal">true</span>).
        addMonitoredHttpServerUri(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;/&quot;</span>)).
        addMonitoredHttpServerUri(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;/foo/.*&quot;</span>).setType(MatchType.REGEX))
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>对于带路径参数的 uri，如 <code>/users/:userId</code>，每个用户ID对应的入口 uri 分别注册监控指标没有意义
（比如 <code>get-requests./users/1</code> ， <code>get-requests./users/2</code> 等等），应该统一注册一个监控 uri。
为此，可以为 Match 实例设置别名，该别名将作为注册指标名的一部分，如： <code>&lt;http-method&gt;-requests.&lt;别名&gt;</code> 。
此外，对于已定义别名的监控 uri，每个响应组有单独的监控指标（计数器），如： <code>responses-&lt;code&gt;.&lt;别名&gt;</code> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
        setEnabled(<span class="hljs-literal">true</span>).
        addMonitoredHttpServerUri(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;/users/.*&quot;</span>).setAlias(<span class="hljs-string">&quot;users&quot;</span>).setType(MatchType.REGEX))
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>每个 HTTP 请求的请求路由可以由 HTTP 框架（如 vertx-web）上报，换而言之 Vert.x core 本身不会上报任何路由信息。
与 URI 监控指标一样，路由监控指标必须在以下选项中显式配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
    setEnabled(<span class="hljs-literal">true</span>).
    addMonitoredHttpServerRoute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;/users/.*&quot;</span>).setType(MatchType.REGEX))
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>与 URI 监控指标类似，请求路由监控也可以提供监控指标别名，但通常请求路由本身已经提供了足够和适当的 URI 语义分组。
请注意，单个 HTTP 请求可以多次路由（例如由于 vertx-web 子路由器的作用），
而每个请求的所有路由在监控中将用 <code>&gt;</code> 拼接在一起（例如 <code>/internal_api&gt;/resource/:id</code> ）。</p>
</div>
<div class="paragraph">
<p><strong><code>bytes-read</code> 和 <code>bytes-written</code> 监控指标只统计了请求体/响应体的字节数，不包括 header 等。</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="_http_client_metrics"><a class="anchor" href="#_http_client_metrics"></a>Http 客户端指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.http.clients</code> （默认），或 <code>vertx.http.clients.&lt;id&gt;</code> ，其中 <code>&lt;id&gt;</code> 是由
<code><a href="../../apidocs/io/vertx/core/http/HttpClientOptions.html#setMetricsName-java.lang.String-">setMetricsName</a></code> 设置的非空字符串。</p>
</div>
<div class="paragraph">
<p>HTTP 客户端的指标包括 <a href="#http-server-metrics">Http 服务</a> 的所有指标以及下述指标：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>connections.max-pool-size</code> - 类型：<a href="#gauge">测量值</a>，含义：连接池规模</p>
</li>
<li>
<p><code>connections.pool-ratio</code> - 类型：ratio <a href="#gauge">测量值</a>，含义：已打开的连接与连接池规模的比率</p>
</li>
<li>
<p><code>responses-1xx</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：1xx响应码</p>
</li>
<li>
<p><code>responses-2xx</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：2xx响应码</p>
</li>
<li>
<p><code>responses-3xx</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：3xx响应码</p>
</li>
<li>
<p><code>responses-4xx</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：4xx响应码</p>
</li>
<li>
<p><code>responses-5xx</code> - 类型：<a href="#meter">仪表（Meter）</a>，含义：5xx响应码</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>HTTP 客户端使用延迟请求队列管理每个远程 HTTP 服务节点的连接池。</p>
</div>
<div class="paragraph">
<p>远程HTTP服务节点的可用监控指标如下：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>endpoint.&lt;host:port&gt;.queue-delay</code> - 类型：<a href="#timer">计时器</a>，含义：队列中延迟请求的等待时间</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.queue-size</code> - 类型：<a href="#counter">计数器</a>，含义：队列实际大小</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.open-netsockets</code> - 类型：<a href="#counter">计数器</a>，含义：连接到HTTP服务节点所开启的套接字数量</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.usage</code> - 类型：<a href="#timer">计时器</a>，含义：请求开始到响应结束的耗时</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.in-use</code> - 类型：<a href="#counter">计数器</a>，含义：实际请求/响应数</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.ttfb</code> - 类型：<a href="#timer">计时器</a>，含义：请求结束到响应开始之间的等待时间</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>其中 &lt;host&gt; 是HTTP服务节点的主机名（可能未解析），而 &lt;port&gt; 是 TCP 端口。</p>
</div>
<div class="paragraph">
<p>可以通过 HTTP 服务的 <code>$主机:$端口</code> 的文本匹配来配置 HTTP 服务节点监控。
默认没有配置 HTTP 服务节点的监控。</p>
</div>
<div class="paragraph">
<p>使用 <code><a href="../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html">DropwizardMetricsOptions</a></code>
可以通过字符串匹配或正则匹配设置需要监控的 HTTP 服务节点：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
        setEnabled(<span class="hljs-literal">true</span>).
        addMonitoredHttpClientEndpoint(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;some-host:80&quot;</span>)).
        addMonitoredHttpClientEndpoint(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Match</span>().setValue(<span class="hljs-string">&quot;another-host:.*&quot;</span>).setType(MatchType.REGEX))
));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="net-server-metrics"><a class="anchor" href="#net-server-metrics"></a>Net 服务指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.net.servers.&lt;host&gt;:&lt;port&gt;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>open-netsockets</code> - 类型：<a href="#counter">计数器</a>，含义：打开 net 套接字的连接数</p>
</li>
<li>
<p><code>open-netsockets.&lt;remote-host&gt;</code> - 类型：<a href="#counter">计数器</a>，含义：连接到指定远程主机所打开的 net 套接字连接数</p>
</li>
<li>
<p><code>connections</code> - 类型：<a href="#timer">计时器</a>，含义：连接及其创建频率</p>
</li>
<li>
<p><code>exceptions</code> - 类型：<a href="#counter">计数器</a>，含义：出现异常的次数</p>
</li>
<li>
<p><code>bytes-read</code> - 类型：<a href="#counter">计数器</a>，含义：读取的字节数</p>
</li>
<li>
<p><code>bytes-written</code> - 类型：<a href="#counter">计数器</a>，含义：写入的字节数</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_net_client_metrics"><a class="anchor" href="#_net_client_metrics"></a>Net 客户端指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.net.clients</code>（默认）， 或 <code>vertx.net.clients.&lt;id&gt;</code> ，其中 <code>&lt;id&gt;</code> 是
<code><a href="../../apidocs/io/vertx/core/net/NetClientOptions.html#setMetricsName-java.lang.String-">setMetricsName</a></code> 配置的非空字符串。</p>
</div>
<div class="paragraph">
<p>Net 客户端的指标包括 <a href="#net-server-metrics">Net 服务</a> 的所有指标。</p>
</div>
</div>
<div class="sect2">
<h3 id="_client_metrics"><a class="anchor" href="#_client_metrics"></a>客户端指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.&lt;type&gt;.clients</code> （默认）或 <code>vertx.&lt;type&gt;.clients.&lt;id&gt;</code> ，其中 <code>&lt;id&gt;</code>
是客户端指标的标识符，而 <code>&lt;type&gt;</code> 是指标的类型。</p>
</div>
<div class="paragraph">
<p>SQL 客户端的 <code>&lt;type&gt;</code> 为 <code>sql</code>， <code>&lt;id&gt;</code> 为客户端选项所配置的 <code>metricsName</code> 。</p>
</div>
<div class="paragraph">
<p>客户指标包括以下内容：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>endpoint.&lt;host:port&gt;.requests</code> - 类型：<a href="#timer">计时器</a>，含义：请求等待时间</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.queue-delay</code> - 类型：<a href="#timer">计时器</a>，含义：队列中待处理请求的等待时间</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.queue-size</code> - 类型：<a href="#counter">计数器</a>，含义：队列实际大小</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.in-use</code> - 类型：<a href="#counter">计数器</a>，含义：实际请求/响应数</p>
</li>
<li>
<p><code>endpoint.&lt;host:port&gt;.ttfb</code> - 类型：<a href="#timer">计时器</a>，含义：请求结束到响应开始之间的等待时间</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_datagram_socket_metrics"><a class="anchor" href="#_datagram_socket_metrics"></a>数据报套接字指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.datagram</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sockets</code> - 类型：<a href="#counter">计数器</a>，含义：数据报套接字数量</p>
</li>
<li>
<p><code>exceptions</code> - 类型：<a href="#counter">计数器</a>，含义：异常数量</p>
</li>
<li>
<p><code>bytes-written</code> - 类型：<a href="#counter">计数器</a>，含义：已写入字节数</p>
</li>
<li>
<p><code>&lt;host&gt;:&lt;port&gt;.bytes-read</code> - 类型：<a href="#counter">计数器</a>，含义：已读取字节数</p>
<div class="ulist">
<ul>
<li>
<p>此指标仅当数据报套接字正在监听时可用</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_pool_metrics"><a class="anchor" href="#_pool_metrics"></a>池的指标</h3>
<div class="paragraph">
<p>基本指标名（baseName）： <code>vertx.pools.&lt;type&gt;.&lt;name&gt;</code> 。其中 <code>type</code> 是池类型（如 <em>worker</em>， <em>datasource</em>），
<code>name</code> 是池的名字（如 <code>vert.x-worker-thread</code> ）。</p>
</div>
<div class="paragraph">
<p>用于运行阻塞任务的工作线程池类型为 <em>worker</em> 。Vert.x将其用于 <em>vert.x-worker-thread</em> 线程和
<em>vert.x-internal-blocking</em> 线程。名为 worker 的执行线程都是由 <code><a href="../../apidocs/io/vertx/core/WorkerExecutor.html">WorkerExecutor</a></code> 创建的。</p>
</div>
<div class="paragraph">
<p>Vert.x JDBC客户端创建的数据源使用的池名为 <em>datasource</em>。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>queue-delay</code> - 类型：<a href="#timer">计时器</a>，含义：获取某个资源的等待时间，例如在队列中的等待时间。</p>
</li>
<li>
<p><code>queue-size</code> - 类型：<a href="#counter">计数器</a>，含义：在队列中等待的资源数</p>
</li>
<li>
<p><code>usage</code> - 类型：<a href="#timer">计时器</a>，含义：某个资源被持续使用的时间</p>
</li>
<li>
<p><code>in-use</code> - 类型：<a href="#count">[count]</a>，含义：使用资源的实际数量</p>
</li>
<li>
<p><code>pool-ratio</code> - A ratio <a href="#gauge">测量值</a>，含义：已使用的资源和池规模的比率</p>
</li>
<li>
<p><code>max-pool-size</code> - 类型：<a href="#gauge">测量值</a>，含义：池的最大规模</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>当池没有声明最大规模时，<code>pool-ratio</code> 和 <code>max_pool_size</code>
将没有任何数据。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jmx"><a class="anchor" href="#jmx"></a>JMX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>默认禁用 JMX。</p>
</div>
<div class="paragraph">
<p>使用 JMX 需要手动启用，如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setJmxEnabled(<span class="hljs-literal">true</span>)
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果从命令行运行 Vert.x，可以通过取消注释 <code>vertx</code> 或 <code>vertx.bat</code>
脚本中的 JMX_OPTS 行来启用指标监控和 JMX：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>JMX_OPTS="-Dcom.sun.management.jmxremote -Dvertx.metrics.options.jmxEnabled=true"</pre>
</div>
</div>
<div class="paragraph">
<p>您可以配置创建 MBean 时使用的域：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().
        setJmxEnabled(<span class="hljs-literal">true</span>).
        setJmxDomain(<span class="hljs-string">&quot;mydomain&quot;</span>)
));</code></pre>
</div>
</div>
<div class="paragraph">
<p>在命令行中，只需将以下系统属性添加到您的应用程序即可（适用于 <code>vertx</code> 命令行和
fat-jar ）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>-Dvertx.metrics.options.jmxEnabled=true -Dvertx.metrics.options.jmxDomain=vertx</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling_remote_jmx"><a class="anchor" href="#_enabling_remote_jmx"></a>启用远程 JMX</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果希望通过 JMX 开放监控指标的远程访问，则至少需要设置以下系统属性：</p>
</div>
<div class="paragraph">
<p><code>com.sun.management.jmxremote</code></p>
</div>
<div class="paragraph">
<p>如果从命令行运行 Vert.x，可以通过取消注释 <code>vertx</code> 或 <code>vertx.bat</code>
脚本中的 <code>JMX_OPTS</code> 行来启用远程 JMX。</p>
</div>
<div class="paragraph">
<p>关于配置 JMX 的更多信息请参阅 <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/management/agent.html">Oracle JMX 文档</a> 。</p>
</div>
<div class="paragraph">
<p><strong>如果在公共服务器上运行 Vert.x，请谨慎开放远程 JMX 访问</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dropwizard-registry"><a class="anchor" href="#dropwizard-registry"></a>访问 Dropwizard Registry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>配置指标服务时，可以指定一个可选的注册名（Registry Name），
用于在 <a href="https://dropwizard.github.io/metrics/3.1.0/apidocs/com/codahale/metrics/SharedMetricRegistries.html">Dropwizard Shared Registry</a>
中注册底层的 <a href="https://dropwizard.github.io/metrics/3.1.0/getting-started/#the-registry">Dropwizard Registry</a> 对象。
可以使用这个注册名获取 MetricRegistry 对象并按需使用。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">VertxOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setEnabled(<span class="hljs-literal">true</span>).setRegistryName(<span class="hljs-string">&quot;my-registry&quot;</span>)
);
<span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(options);
<span class="hljs-comment">// 获取 MetricRegistry 对象</span>
<span class="hljs-type">MetricRegistry</span> <span class="hljs-variable">registry</span> <span class="hljs-operator">=</span> SharedMetricRegistries.getOrCreate(<span class="hljs-string">&quot;my-registry&quot;</span>);}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_already_existing_dropwizard_registry"><a class="anchor" href="#_using_already_existing_dropwizard_registry"></a>使用已有的 Dropwizard Registry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>您也可以利用已有的 <a href="https://dropwizard.github.io/metrics/3.1.0/getting-started/#the-registry">Dropwizard Registry</a> 对象。
只需在 <code>VertxOptions</code> 对象上调用 <code>setMetricRegistry</code> 方法，并传入 <code>MetricRegistry</code> 实例。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">MetricRegistry</span> <span class="hljs-variable">metricRegistry</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MetricRegistry</span>();
<span class="hljs-type">VertxOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
   <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>().setEnabled(<span class="hljs-literal">true</span>).setMetricRegistry(metricRegistry)
);
<span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(options);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_jolokia_and_hawtio"><a class="anchor" href="#_using_jolokia_and_hawtio"></a>使用 Jolokia 和 Hawtio</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://jolokia.org/">Jolokia</a> 是 JMX-HTTP 的桥接，为 JSR-160 连接器提供了替代方案。
Jolokia 基于代理实现，支持许多平台。 除了基本的 JMX 操作外，它还有一些增强了 JMX 远程处理能力的特性，
如批量请求等。</p>
</div>
<div class="paragraph">
<p><a href="http://hawt.io/">Hawtio</a> 是一个模块化的Web控制台，使用了 Jolokia 开放的数据。
您可以使用它创建仪表板并从 JMX 检索数据，例如内存，cpu 或任意 vert.x 指标。</p>
</div>
<div class="paragraph">
<p>本节介绍了如何配置 vert.x 应用程序，以便 Hawtio 获取监控指标。</p>
</div>
<div class="paragraph">
<p>首先，您需要使用以下选项来配置 vert.x 实例：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java"><span class="hljs-type">Vertx</span> <span class="hljs-variable">vertx</span> <span class="hljs-operator">=</span> Vertx.vertx(<span class="hljs-keyword">new</span> <span class="hljs-title class_">VertxOptions</span>().setMetricsOptions(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DropwizardMetricsOptions</span>()
        .setEnabled(<span class="hljs-literal">true</span>)
        .setJmxEnabled(<span class="hljs-literal">true</span>)
        .setJmxDomain(<span class="hljs-string">&quot;vertx-metrics&quot;</span>)));</code></pre>
</div>
</div>
<div class="paragraph">
<p>您可以将 JMX 域更改为任意值。 Vert.x 集群的实例可以使用相同的配置。
此配置可以让 vertx-dropwizard-metrics 将监控指标开放给本地 MBean 服务，
由此，Jolokia 可以获取这些监控指标。</p>
</div>
<div class="paragraph">
<p>然后需要 <em>引入</em> Jolokia 以开放监控数据。 有多种 <em>引入</em> Jolokia 的方法。
请参考 <a href="https://jolokia.org/reference/html/architecture.html">详情文档</a>。
这里介绍如何以默认配置使用 Jolokia Agent（译者注：代理，指JMX 的 Agent）。
可以参考 <a href="https://jolokia.org/reference/html/">Jolokia 文档</a> 进行配置。</p>
</div>
<div class="paragraph">
<p>Jolokia Agent 既可以在启动应用程序时配置，也可以附加在正在运行的 JVM 上（需要特殊权限才能访问该进程）。
对于第一种情况，请使用以下命令启动应用程序：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -javaagent:/.../agents/jolokia-jvm.jar=port=7777,host=localhost -jar ...</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>-javaagent</code> 参数指定了 Jolokia Agent 的 jar 包路径。 您可以在命令行中指定主机地址和端口。
在上面的例子里，配置了 REST 服务地址为 <code><a href="http://localhost:7777" class="bare">http://localhost:7777</a></code> 。</p>
</div>
<div class="paragraph">
<p>您也可以将 Jolokia Agent 注册到运行中的 JVM 上：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -jar jolokia-jvm.jar start PID</code></pre>
</div>
</div>
<div class="paragraph">
<p>其中 <code>PID</code> 请替换为 JVM 的进程ID。</p>
</div>
<div class="paragraph">
<p>Jolokia 配置好并启动后，就可以用 Hawtio 消费监控数据。</p>
</div>
<div class="paragraph">
<p>在 Hawtio 可以进入连接详情：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/hawtio-connect.png" alt="hawtio connect">
</div>
</div>
<div class="paragraph">
<p>然后打开 <em>JMX</em> 标签页，可以看到一个 <em>目录</em>，
其名为您在 Vert.x 配置中设定的 JMX 域：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../images/hawtio-jmx.png" alt="hawtio jmx">
</div>
</div>
<div class="paragraph">
<p>由此，您可以配置仪表板，并获取 Vert.x 开放的所有监控指标。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios"><a class="anchor" href="#_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios"></a>使用 Jolokia 和 JMX4Perl 向 Nagios 开放监控指标</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://search.cpan.org/~roland/jmx4perl/scripts/check_jmx4perl">Check_jmx4perl</a> 是 Nagios 的一款插件，基于 jmx4perl 实现，可以访问远程 JMX 数据。
通过这款插件可以将 Vert.x 的监控指标开放给 Nagios。</p>
</div>
<div class="paragraph">
<p>首先需要在启动您的应用程序时配置 Jolokia Agent。
配置附加 Jolokia Agent 有多种方法。查阅 <a href="https://jolokia.org/reference/html/architecture.html">获得更多详情</a>。
本文介绍如何用默认配置启用 Jolokia Agent 。
详细配置可参考 <a href="https://jolokia.org/reference/html/">Jolokia 文档</a>。</p>
</div>
<div class="paragraph">
<p>Jolokia Agent 既可以在启动应用程序时配置，也可以附加在正在运行的 JVM 上（需要特殊权限才能访问该进程）。
对于第一种情况，请使用以下命令启动应用程序：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -javaagent:/.../agents/jolokia-jvm.jar=port=7777,host=localhost -jar ...</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>-javaagent</code> 参数指定了 Jolokia Agent 的 jar 包路径。 您可以在命令行中指定主机地址和端口。
在上面的例子里，配置了 REST 服务地址为 <code><a href="http://localhost:7777" class="bare">http://localhost:7777</a></code> 。</p>
</div>
<div class="paragraph">
<p>您也可以将 Jolokia Agent 注册到运行中的 JVM 上：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -jar jolokia-jvm.jar start PID</code></pre>
</div>
</div>
<div class="paragraph">
<p>其中 <code>PID</code> 请替换为 JVM 的进程ID。</p>
</div>
<div class="paragraph">
<p>Jolokia 配置好并启动后，可以参考下面命令配置 Nagios：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>check_jmx4perl --url http://10.0.2.2:8778/jolokia --name eventloops --mbean vertx:name=vertx.event-loop-size
--attribute Value --warning 4</code></pre>
</div>
</div>
<div class="paragraph">
<p>请参阅 <a href="http://search.cpan.org/~roland/jmx4perl/scripts/check_jmx4perl">check_jmx4perl 文档</a>
获取更多关于检查配置的详情。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service"><a class="anchor" href="#_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service"></a>在 Vert.x Shell 服务中通过 Telnet 或 SSH 执行的监控指标命令</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Metrics commands via Telnet or SSH in Vert.x Shell service</p>
</div>
<div class="paragraph">
<p>可以使用内置的 <em>help</em> 命令查找可用的监控指标命令：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>可用的命令</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>metrics-ls ：列出当前 Vert.x 实例的已知监控指标</p>
</li>
<li>
<p>metrics-info ：以 JSON 格式显示当前 Vert.x 实例的监控指标信息</p>
</li>
<li>
<p>metrics-histogram ：实时显示当前 Vert.x 实例的监控指标柱状图</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div></div></div></div></div></div><footer class="jsx-aeedcf66895f49d7"><div class="jsx-aeedcf66895f49d7 container"><div class="jsx-aeedcf66895f49d7 footer-nav-section"><div class="jsx-aeedcf66895f49d7 footer-nav-list footer-logo"><a class="jsx-aeedcf66895f49d7" href="/"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 1232.6 315.2&#x27; style=&#x27;enable-background:new 0 0 1232.6 315.2&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23782a91%7d%3c/style%3e%3cpath d=&#x27;M120.9 214.2 190.5 0h52.3l-98.5 273.8H98.2L0 0h52.1l68.8 214.2zm291.2-62.6H299.6v84.2H431v38H252V0h177.7v38.4H299.6V114h112.5v37.6zm83.7-113.2H546c16.5.3 29 4.4 37.3 12.4 8.3 8 12.5 19.4 12.5 34 0 14-4.5 25.1-13.5 33.2-9 8.1-21.6 12.1-37.6 12.1h-27.1v24.2l86.1 119.5h51v-2.4l-77.2-106.7c24.9-5.5 43.3-21.7 52.6-35.9 8.2-12.6 13.3-27.7 13.3-46 0-26.8-8.6-47.4-25.8-61.5C600.5 7.1 576.1 0 544.5 0h-96.3v273.8h47.6&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1052.3 157.7-41.5 62.7 29.7 53.4h85.1z&#x27;/%3e%3ccircle class=&#x27;st0&#x27; cx=&#x27;827.9&#x27; cy=&#x27;274.7&#x27; r=&#x27;40.5&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;m1037 0-47.6 74.2L949 0h-84l85.3 135.8-67.1 105.7c5.7 9.5 9.1 20.5 9.2 32.4h50.1L1121.3 0H1037z&#x27;/%3e%3cpath d=&#x27;M763.5 273.8c.1-9.9 2.5-19.2 6.6-27.5V38.4h85.4V0H638.2v38.4h84.6v235.4h40.7zm414-266.9h-15.3v42.2h-8.5V6.9h-15.2V0h39v6.9zM1193 0l14.2 37.7L1221.3 0h11v49.1h-8.5V32.9l.8-21.7-14.5 37.9h-6.1l-14.5-37.8.8 21.6v16.2h-8.5V0h11.2z&#x27;/%3e%3c/svg%3e" alt="Vert.x Logo" class="jsx-aeedcf66895f49d7"/></a></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse Vert.x</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7 navbar-menu-item" href="/docs/">文档</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/download/">下载</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/blog/">博客</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/community/">社区</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/translation/">翻译团队</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/eclipse-vertx/vert.x" class="jsx-aeedcf66895f49d7">GitHub</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://github.com/vertx-china/vertx-web-site" class="jsx-aeedcf66895f49d7">翻译GitHub</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">资源</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/faq/">答疑</a></li><li class="jsx-aeedcf66895f49d7"><a class="jsx-aeedcf66895f49d7" href="/channels/">联系渠道</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://how-to.vertx.io/" class="jsx-aeedcf66895f49d7">操作指南</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://start.vertx.io/" class="jsx-aeedcf66895f49d7">应用生成器</a></li><li class="jsx-aeedcf66895f49d7"><a href="/.well-known/security.txt" class="jsx-aeedcf66895f49d7">security.txt</a></li></ul></div><div class="jsx-aeedcf66895f49d7 footer-nav-list"><h5 class="jsx-aeedcf66895f49d7">Eclipse</h5><ul class="jsx-aeedcf66895f49d7 "><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/" class="jsx-aeedcf66895f49d7">Eclipse 基金会</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/privacy.php" class="jsx-aeedcf66895f49d7">隐私政策</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/termsofuse.php" class="jsx-aeedcf66895f49d7">使用条款</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/copyright.php" class="jsx-aeedcf66895f49d7">版权代理</a></li><li class="jsx-aeedcf66895f49d7"><a href="https://www.eclipse.org/legal/" class="jsx-aeedcf66895f49d7">法律资源</a></li></ul></div></div><div class="jsx-aeedcf66895f49d7 footer-copyright"><div class="jsx-aeedcf66895f49d7 footer-copyright-remarks">© <!-- -->2022<!-- --> Eclipse Vert.x™<br class="jsx-aeedcf66895f49d7"/>Eclipse Vert.x™ 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Apache License 2.0</a>协议下获得了双重许可。<br class="jsx-aeedcf66895f49d7 footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7">Michel Krämer</a> 设计。</div><div class="jsx-aeedcf66895f49d7 footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer" class="jsx-aeedcf66895f49d7"><img src="data:image/svg+xml,%3csvg version=&#x27;1.1&#x27; id=&#x27;Layer_1&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; viewBox=&#x27;0 0 281.3 91.1&#x27; style=&#x27;enable-background:new 0 0 281.3 91.1&#x27; xml:space=&#x27;preserve&#x27;%3e%3cstyle%3e.st0%7bfill:%23f79422%7d.st1%7bfill:%233d3c3b%7d%3c/style%3e%3cg id=&#x27;Layer_1_1_&#x27;%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M265.7 84 257 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zm-32.4-8.3c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3 0 4.7 2.9 9.1 9.1 9.1s9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-21.2 18V73h-3.3v17.7h3.3zm-23.6 0h3.3V76h5.6v-3h-14.6v3h5.6l.1 14.7zm-18.9-6.5H163l3.3-7.6 3.3 7.6zm2.8 6.5h3.6L168.2 73h-3.6l-8 17.7h3.6l1.5-3.3h9.3l1.4 3.3zm-38-14.6h3.6c3.9 0 5.5 2.8 5.5 5.5.1 2.8-1.5 5.8-5.5 5.8h-3.6V76.1zm3.7-3.1h-6.9v17.7h6.9c6.2 0 8.9-4.5 8.9-9s-2.8-8.7-8.9-8.7zm-22.4 11L107 73h-2.7v17.7h3.3v-12l9.3 12h2.1V73h-3.3v11zM88.2 73v10.2c0 3-1.6 4.9-4.3 4.9s-4.6-1.7-4.6-4.9V73H76v10.1c0 5.3 3.6 7.9 7.9 7.9 4.4 0 7.7-2.7 7.7-7.9V73h-3.4zm-33 2.7c4.2 0 5.8 3.3 5.8 6.3s-1.6 6-5.8 6-5.7-3.1-5.8-6 1.7-6.3 5.8-6.3zm0-3c-6.1 0-9.1 4.7-9.1 9.3s2.9 9.1 9.1 9.1 9-4.6 9.1-9.2-3-9.2-9.1-9.2zm-29.7 18v-6.5h8.9v-3.1h-8.9v-4.8h9.4V73H22.2v17.6h3.3z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M269.4 54.4h-22.2v-8.9h21.4v-6.9h-21.4v-9.1h22.2v-7.2h-29.6v39.5h29.6v-7.4zm-40-25.6c-3-6.1-9.4-7.8-15.5-7.8-7.3 0-15.3 3.4-15.3 11.5 0 8.9 7.4 11 15.5 12 5.2.6 9.1 2.1 9.1 5.8 0 4.3-4.4 5.9-9.1 5.9s-9.4-1.9-11.1-6.3l-6.2 3.2c2.9 7.2 9.1 9.7 17.2 9.7 8.8 0 16.6-3.8 16.6-12.6 0-9.4-7.7-11.6-15.9-12.6-4.7-.6-8.8-1.5-8.8-5 0-2.9 2.6-5.2 8.2-5.2 4.3 0 8 2.2 9.4 4.4l5.9-3zM176 22.2c-6.2-.1-12.4 0-18.6 0v39.5h7.4V50.1H176c19.4 0 19.4-27.9 0-27.9zm-11.1 7.1H176c9.5 0 9.5 14 0 14h-11.2l.1-14zm-18 32.5V22.2h-7.4v39.5l7.4.1zm-44-39.6v39.5h27.7v-6.9h-20.3V22.2h-7.4zM90.7 51.7c-2.7 2.5-6.2 4-9.9 4-9.8 0-13.5-6.8-13.6-13.4s4.1-13.7 13.6-13.7c3.5-.1 7 1.3 9.5 3.7l5-4.8c-3.8-3.9-9.1-6-14.5-6-14.3 0-21 10.5-20.9 20.8s6.3 20.3 20.9 20.3c5.6.1 11-2 15-5.9l-5.1-5zm-39 2.7H29.5v-8.9h21.4v-6.9H29.5v-9.1h22.2v-7.2H22.2v39.5h29.6l-.1-7.4z&#x27;/%3e%3cpath class=&#x27;st0&#x27; d=&#x27;M9.8 18.2C18.8 4.1 36.9-.8 52.1 6l-1-.7C35.7-4.6 15.2-.1 5.3 15.3s-5.4 35.9 10 45.8l1.1.6C3.8 50.8.8 32.3 9.8 18.2z&#x27;/%3e%3cpath class=&#x27;st1&#x27; d=&#x27;M272.2 26.1c0-2.5 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6 0 2.5-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6zm8.6 0c0-2.2-1.8-4.1-4-4.1s-4.1 1.8-4.1 4.1c0 2.2 1.7 4 3.9 4.1h.1c2.3 0 4.1-1.8 4.1-4.1zm-6-2.5h2.3c1.1 0 1.9.5 1.9 1.6 0 .7-.4 1.3-1.1 1.5l1.2 1.7h-1.4l-1-1.5h-.7v1.5h-1.1l-.1-4.8zm2.2 2.3c.5 0 .8-.3.8-.7s-.3-.7-.8-.7h-1v1.3l1 .1z&#x27;/%3e%3c/g%3e%3c/svg%3e" alt="Eclipse foundation Logo" class="jsx-aeedcf66895f49d7"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"4.1.4/vertx-dropwizard-metrics/java","title":"Metrics","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_features\"\u003e特性\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_getting_started\"\u003e入门\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_command_line_activation\"\u003e命令行模式激活指标监控\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_metrics_service\"\u003e指标监控服务\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_naming\"\u003e监控指标命名\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_retrieving_metrics\"\u003e获取监控指标\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_data\"\u003e指标数据\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#histogram\"\u003e柱状图\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#throughput_timer\"\u003e吞吐量计时器\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_the_metrics\"\u003e监控指标\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_vertx_metrics\"\u003eVert.x 指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_event_bus_metrics\"\u003eEvent bus 指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#http-server-metrics\"\u003eHttp server 指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_http_client_metrics\"\u003eHttp 客户端指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#net-server-metrics\"\u003eNet 服务指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_net_client_metrics\"\u003eNet 客户端指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_client_metrics\"\u003e客户端指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_datagram_socket_metrics\"\u003e数据报套接字指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_pool_metrics\"\u003e池的指标\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#jmx\"\u003eJMX\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_enabling_remote_jmx\"\u003e启用远程 JMX\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#dropwizard-registry\"\u003e访问 Dropwizard Registry\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_already_existing_dropwizard_registry\"\u003e使用已有的 Dropwizard Registry\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_jolokia_and_hawtio\"\u003e使用 Jolokia 和 Hawtio\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios\"\u003e使用 Jolokia 和 JMX4Perl 向 Nagios 开放监控指标\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service\"\u003e在 Vert.x Shell 服务中通过 Telnet 或 SSH 执行的监控指标命令\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eMetrics\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e本项目基于 \u003ca href=\"https://github.com/dropwizard/metrics\"\u003eDropwizard metrics\u003c/a\u003e\n实现了 Vert.x 指标监控的SPI（Service Provider Interface，服务供应接口）。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_features\"\u003e\u003ca class=\"anchor\" href=\"#_features\"\u003e\u003c/a\u003e特性\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x 提供了一个相当易用的API接口 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/metrics/Measured.html\"\u003eMeasured\u003c/a\u003e\u003c/code\u003e 用于查询监控指标，\n很多 Vert.x 组件都实现了这个接口，包括 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpServer.html\"\u003eHttpServer\u003c/a\u003e\u003c/code\u003e，\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/net/NetServer.html\"\u003eNetServer\u003c/a\u003e\u003c/code\u003e，以及 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/Vertx.html\"\u003eVertx\u003c/a\u003e\u003c/code\u003e 本身等等。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e本项目基于 Dropwizard 实现了可配置的 JMX 上报服务，可将 Vert.x 作为 JMX 的 MBean 使用。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_getting_started\"\u003e\u003ca class=\"anchor\" href=\"#_getting_started\"\u003e\u003c/a\u003e入门\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e使用 Vert.x 指标监控需要在您项目的构建配置增加以下 \u003cem\u003e依赖\u003c/em\u003e ：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven（位于 \u003ccode\u003epom.xml\u003c/code\u003e）：\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-dropwizard-metrics\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e4.1.4\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle（位于 \u003ccode\u003ebuild.gradle\u003c/code\u003e）：\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e\u0026#x27;io.vertx:vertx-dropwizard-metrics:4.1.4\u0026#x27;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e创建 Vertx 实例时通过 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html\"\u003eDropwizardMetricsOptions\u003c/a\u003e\u003c/code\u003e 启用指标监控：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e也可以启用 JMX 支持：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setJmxEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e更多关于 JMX 的信息请参阅文末的 \u003ca href=\"#jmx\"\u003eJMX\u003c/a\u003e 章节。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_command_line_activation\"\u003e\u003ca class=\"anchor\" href=\"#_command_line_activation\"\u003e\u003c/a\u003e命令行模式激活指标监控\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e在命令行模式（Vert.x CLI）启动的 Vert.x 应用可以通过 JVM 系统属性启用指标监控。\n\u003cem\u003evertx.metrics.options.\u003c/em\u003e 开头的系统属性会被传递到指标监控的配置。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003cem\u003evertx.metrics.options.enabled\u003c/em\u003e 是一个标准 Vert.x Core 配置，用于启用指标监控，\n（欲启用指标监控）此选项必须设置为 \u003ccode\u003etrue\u003c/code\u003e ：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003ejava -jar your-fat-jar -Dvertx.metrics.options.enabled=true\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setRegistryName-java.lang.String-\"\u003evertx.metrics.options.registryName\u003c/a\u003e\u003c/code\u003e\n配置项用于设置要使用的（现存的） \u003ca href=\"#dropwizard-registry\"\u003eDropwizard Registry\u003c/a\u003e ：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003ejava -jar your-fat-jar -Dvertx.metrics.options.enabled=true -Dvertx.metrics.options.registryName=my-registry\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setJmxEnabled-boolean-\"\u003evertx.metrics.options.jmxEnabled\u003c/a\u003e\u003c/code\u003e 和\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setJmxDomain-java.lang.String-\"\u003evertx.metrics.options.jmxDomain\u003c/a\u003e\u003c/code\u003e\n配置项用于配置 \u003ca href=\"#jmx\"\u003eJMX\u003c/a\u003e 注册信息：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003ejava -jar your-fat-jar -Dvertx.metrics.options.enabled=true -Dvertx.metrics.options.jmxEnabled=true ...\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html#setConfigPath-java.lang.String-\"\u003evertx.metrics.options.configPath\u003c/a\u003e\u003c/code\u003e\n配置项用于指定监控配置文件。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_metrics_service\"\u003e\u003ca class=\"anchor\" href=\"#_metrics_service\"\u003e\u003c/a\u003e指标监控服务\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x core 定了了上报监控指标的 SPI （本项目已实现），\n但并没有定义读取监控指标的 API （因为某些指标监控的实现只上报监控指标，不做其他事情）。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/MetricsService.html\"\u003eMetricsService\u003c/a\u003e\u003c/code\u003e 封装了 Dropwizard Registry，\n提供了获取监控指标快照（snapshot）的API。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_naming\"\u003e\u003ca class=\"anchor\" href=\"#_naming\"\u003e\u003c/a\u003e监控指标命名\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e下面列出的每个可监控组件（Vertx除外）都有与之关联的基本指标名（baseName，译者注：即指标名的前缀）。\n所有监控指标都可以通过 Vertx 对象，使用全限定指标名 \u0026lt;fqn\u0026gt; （\u003ccode\u003ebaseName\u003c/code\u003e + \u003ccode\u003e.\u003c/code\u003e + \u003ccode\u003emetricName\u003c/code\u003e）获取。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetrics\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e metricsService.getMetricsSnapshot(vertx);\nmetrics.getJsonObject(\u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx.eventbus.handlers\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e或者通过要监控的组件对象，使用指标名（\u003ccode\u003emetricName\u003c/code\u003e）获取监控指标：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eEventBus\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eeventBus\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e vertx.eventBus();\n\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetrics\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e metricsService.getMetricsSnapshot(eventBus);\nmetrics.getJsonObject(\u003cspan class=\"hljs-string\"\u003e\u0026quot;handlers\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e更多关于从指定组件对象获取/使用监控指标的例子，请参见下文。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您可以可以列出所有监控指标名：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eSet\u0026lt;String\u0026gt; metricsNames = metricsService.metricsNames();\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (String metricsName : metricsNames) {\n  System.out.println(\u003cspan class=\"hljs-string\"\u003e\u0026quot;Known metrics name \u0026quot;\u003c/span\u003e + metricsName);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（\u003ccode\u003ebaseName\u003c/code\u003e） 默认是 \u003ccode\u003evertx\u003c/code\u003e，但也可以自定义一个基本指标名：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eDropwizardMetricsOptions\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetricsOptions\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setBaseName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;foo\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_retrieving_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_retrieving_metrics\"\u003e\u003c/a\u003e获取监控指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e启用指标监控后， \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/MetricsService.html\"\u003eMetricsService\u003c/a\u003e\u003c/code\u003e 可以从\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/metrics/Measured.html\"\u003eMeasured\u003c/a\u003e\u003c/code\u003e 实例获取监控指标的快照（snapshot）；\n快照是一个键为指标名、值为指标值的 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonObject.html\"\u003eJsonObject\u003c/a\u003e\u003c/code\u003e 对象。\n下面的例子打印了 Vertx 实例所有的监控指标（快照）：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMetricsService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetricsService\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MetricsService.create(vertx);\n\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetrics\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e metricsService.getMetricsSnapshot(vertx);\nSystem.out.println(metrics);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock note\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003e注意\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\n有关 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonObject.html\"\u003eJsonObject\u003c/a\u003e\u003c/code\u003e 快照实例包含的实际内容（实际监控指标）详情，\n请参阅具体指标实现的文档，如 \u003ca href=\"https://github.com/vert-x3/vertx-metrics\"\u003evertx-metrics\u003c/a\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e通常您只需获取特定组件（例如 http 服务器）的特定指标，\n而不必知道每个指标的命名细节（留给 SPI 的实现处理）。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpServer.html\"\u003eHttpServer\u003c/a\u003e\u003c/code\u003e 实现了 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/metrics/Measured.html\"\u003eMeasured\u003c/a\u003e\u003c/code\u003e，\n因此您可以轻松获取到指定 http 服务器的所有监控指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMetricsService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetricsService\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MetricsService.create(vertx);\n\u003cspan class=\"hljs-type\"\u003eHttpServer\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eserver\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e vertx.createHttpServer();\n\u003cspan class=\"hljs-comment\"\u003e// 设置 HTTP 服务器\u003c/span\u003e\n\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetrics\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e metricsService.getMetricsSnapshot(server);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e使用基本指标名（baseName）也可以获取到监控指标：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMetricsService\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetricsService\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e MetricsService.create(vertx);\n\u003cspan class=\"hljs-type\"\u003eJsonObject\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetrics\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e metricsService.getMetricsSnapshot(\u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx.eventbus.message\u0026quot;\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_data\"\u003e\u003ca class=\"anchor\" href=\"#_data\"\u003e\u003c/a\u003e指标数据\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e下面是（快照）JSON 中的所有 dropwizard 监控指标。\n每个监控指标的详情请参阅 \u003ca href=\"https://github.com/dropwizard/metrics\"\u003eDropwizard metrics\u003c/a\u003e 文档。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"gauge\"\u003e\u003ca class=\"anchor\" href=\"#gauge\"\u003e\u003c/a\u003e测量值\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-string\"\u003e\u0026quot;gauge\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;value\u0026quot;\u003c/span\u003e : value \u003cspan class=\"hljs-comment\"\u003e// 任一json值（译者注：数字、字符串、数组、对象等）\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"counter\"\u003e\u003ca class=\"anchor\" href=\"#counter\"\u003e\u003c/a\u003e计数器\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-string\"\u003e\u0026quot;counter\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 数字\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"histogram\"\u003e\u003ca class=\"anchor\" href=\"#histogram\"\u003e\u003c/a\u003e柱状图\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e   : \u003cspan class=\"hljs-string\"\u003e\u0026quot;histogram\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;min\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;max\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;mean\u0026quot;\u003c/span\u003e   : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;stddev\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;median\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;75%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;95%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;98%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99.9%\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"meter\"\u003e\u003ca class=\"anchor\" href=\"#meter\"\u003e\u003c/a\u003e仪表（Meter）\u003c/h3\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;meter\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e             : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;meanRate\u0026quot;\u003c/span\u003e          : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneMinuteRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fiveMinuteRate\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fifteenMinuteRate\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;rate\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;events/second\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 速率，字符串\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"throughput_meter\"\u003e\u003ca class=\"anchor\" href=\"#throughput_meter\"\u003e\u003c/a\u003e吞吐量统计\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e即时吞吐量统计，扩展自 \u003ca href=\"#meter\"\u003e仪表\u003c/a\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;meter\u0026quot;\u003c/span\u003e,\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e             : \u003cspan class=\"hljs-number\"\u003e40\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;meanRate\u0026quot;\u003c/span\u003e          : \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneSecondRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long - 最近一秒的取值\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneMinuteRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fiveMinuteRate\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fifteenMinuteRate\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;rate\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;events/second\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 速率，字符串\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"timer\"\u003e\u003ca class=\"anchor\" href=\"#timer\"\u003e\u003c/a\u003e计时器\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eA timer is basically a combination of Histogram + Meter.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;timer\u0026quot;\u003c/span\u003e,\n\n \u003cspan class=\"hljs-comment\"\u003e// 柱状图数据\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;min\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;max\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;mean\u0026quot;\u003c/span\u003e   : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;stddev\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;median\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;75%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;95%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;98%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99%\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99.9%\u0026quot;\u003c/span\u003e  : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n\n \u003cspan class=\"hljs-comment\"\u003e// 仪表（meter）数据\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;meanRate\u0026quot;\u003c/span\u003e          : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneMinuteRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fiveMinuteRate\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fifteenMinuteRate\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;rate\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;events/second\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 速率，字符串\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"throughput_timer\"\u003e\u003ca class=\"anchor\" href=\"#throughput_timer\"\u003e\u003c/a\u003e吞吐量计时器\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e扩展了 \u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e ，可提供即时吞吐量指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e{\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;type\u0026quot;\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026quot;timer\u0026quot;\u003c/span\u003e,\n\n \u003cspan class=\"hljs-comment\"\u003e// 柱状图数据\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;count\u0026quot;\u003c/span\u003e      : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;min\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;max\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;mean\u0026quot;\u003c/span\u003e       : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;stddev\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;median\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;75%\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;95%\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;98%\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99%\u0026quot;\u003c/span\u003e        : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;99.9%\u0026quot;\u003c/span\u003e      : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n\n \u003cspan class=\"hljs-comment\"\u003e// 仪表（meter）数据\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;meanRate\u0026quot;\u003c/span\u003e          : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneSecondRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// long - 最近一秒的取值\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;oneMinuteRate\u0026quot;\u003c/span\u003e     : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fiveMinuteRate\u0026quot;\u003c/span\u003e    : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;fifteenMinuteRate\u0026quot;\u003c/span\u003e : \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// double\u003c/span\u003e\n \u003cspan class=\"hljs-string\"\u003e\u0026quot;rate\u0026quot;\u003c/span\u003e              : \u003cspan class=\"hljs-string\"\u003e\u0026quot;events/second\u0026quot;\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 速率，字符串\u003c/span\u003e\n}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_the_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_the_metrics\"\u003e\u003c/a\u003e监控指标\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x 目前提供以下指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_vertx_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_vertx_metrics\"\u003e\u003c/a\u003eVert.x 指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e目前提供以下指标：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003evertx.event-loop-size\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：event-loop 线程池的线程数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003evertx.worker-pool-size\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：worker-pool 线程池的线程数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003evertx.cluster-host\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：cluster-host 配置值\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003evertx.cluster-port\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：cluster-port 配置值\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_event_bus_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_event_bus_metrics\"\u003e\u003c/a\u003eEvent bus 指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.eventbus\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ehandlers\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：eventbus 中已注册的处理器数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ehandlers.myaddress\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：名为 \u003cem\u003emyaddress\u003c/em\u003e 的处理器处理消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.bytes-read\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：接收到的远程消息总字节量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.bytes-written\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：发送到远程地址的消息总字节量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.pending\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已经被 eventbus 接收，但是还未被处理器所处理的消息数。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.pending-local\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已经被本地 eventbus 接收，但是还未被处理器所处理的消息数。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.pending-remote\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已经被远程 eventbus 接收，但是还未被处理器所处理的消息数。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.discarded\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已被处理器丢弃的消息数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.discarded-local\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已被本地处理器丢弃的消息数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.discarded-remote\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已被远程处理器丢弃的消息数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.received\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：接受消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.received-local\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：接受本地消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.received-remote\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：接受远程消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.delivered\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：消息被传递到处理器的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.delivered-local\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：本地消息被传递到处理器的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.delivered-remote\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：远程消息被传递到处理器的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.sent\u003c/code\u003e - 类型：\u003ca href=\"#throughput_metert\"\u003e[throughput_metert]\u003c/a\u003e，含义：发送消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.sent-local\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：本地发送消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.sent-remote\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：远程发送消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.published\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：发布消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.published-local\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：本地发布消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.published-remote\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：远程发布消息的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emessages.reply-failures\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：回复消息失败的速率\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e可以通过 Event Bus 订阅地址的字符串匹配设置需要监控的 Event Bus 处理器。\nVert.x 可能注册了大量的 Event Bus ，\n因此最佳的监控默认配置是不监控任何 Event Bus 处理器。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e使用 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html\"\u003eDropwizardMetricsOptions\u003c/a\u003e\u003c/code\u003e\n可以通过字符串匹配或正则匹配设置需要监控的 Event Bus 处理器。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n        setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n        addMonitoredEventBusHandler(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some-address\u0026quot;\u003c/span\u003e)).\n        addMonitoredEventBusHandler(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;business-.*\u0026quot;\u003c/span\u003e).setType(MatchType.REGEX))\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"admonitionblock warning\"\u003e\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd class=\"icon\"\u003e\n\u003cdiv class=\"title\"\u003e警告\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd class=\"content\"\u003e\n使用正则匹配时，错误的正则表达式可能会匹配上很多处理器。\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"http-server-metrics\"\u003e\u003ca class=\"anchor\" href=\"#http-server-metrics\"\u003e\u003c/a\u003eHttp server 指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.http.servers.\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHttp 服务器的指标包括 \u003ca href=\"#net-server-metrics\"\u003eNet 服务\u003c/a\u003e 的所有指标以及以下内容：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003erequests\u003c/code\u003e - 类型：\u003ca href=\"#throughput_timer\"\u003e吞吐量计时器\u003c/a\u003e，含义：单个请求及其出现的频率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;http-method\u0026gt;-requests\u003c/code\u003e - 类型：\u003ca href=\"#throughput_timer\"\u003e吞吐量计时器\u003c/a\u003e，含义：指定 HTTP 方法（译者注：由 \u0026lt;http-method\u0026gt; 指定）的请求及其频率。\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e例如： \u003ccode\u003eget-requests\u003c/code\u003e， \u003ccode\u003epost-requests\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;http-method\u0026gt;-requests./\u0026lt;uri\u0026gt;\u003c/code\u003e - 类型：\u003ca href=\"#throughput_timer\"\u003e吞吐量计时器\u003c/a\u003e，含义：指定 HTTP 方法和 URI 的请求及其频率。\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e例如： \u003ccode\u003eget-requests./some/uri\u003c/code\u003e， \u003ccode\u003epost-requests./some/uri?foo=bar\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;http-method\u0026gt;-requests./\u0026lt;route\u0026gt;\u003c/code\u003e - 类型：\u003ca href=\"#throughput_timer\"\u003e吞吐量计时器\u003c/a\u003e，含义：指定 HTTP 方法和路由的请求及其频率。\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e例如： \u003ccode\u003eget-requests./route1\u003c/code\u003e, \u003ccode\u003epost-requests./resource/:id\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-1xx\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：1xx响应的频次\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-2xx\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：2xx响应的频次\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-3xx\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：3xx响应的频次\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-4xx\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：4xx响应的频次\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-5xx\u003c/code\u003e - 类型：\u003ca href=\"#throughput_meter\"\u003e吞吐量统计\u003c/a\u003e，含义：5xx响应的频次\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eopen-websockets\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：打开的网络套接字连接数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eopen-websockets.\u0026lt;remote-host\u0026gt;\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：连接到指定远程主机（译者注：由 \u0026lt;remote-host\u0026gt; 指定）所打开网络套接字的连接数量\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHttp URI 指标必须在 MetricsOptions 中显式配置，可以使用完全匹配或正则表达式匹配：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n        setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n        addMonitoredHttpServerUri(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/\u0026quot;\u003c/span\u003e)).\n        addMonitoredHttpServerUri(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/foo/.*\u0026quot;\u003c/span\u003e).setType(MatchType.REGEX))\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e对于带路径参数的 uri，如 \u003ccode\u003e/users/:userId\u003c/code\u003e，每个用户ID对应的入口 uri 分别注册监控指标没有意义\n（比如 \u003ccode\u003eget-requests./users/1\u003c/code\u003e ， \u003ccode\u003eget-requests./users/2\u003c/code\u003e 等等），应该统一注册一个监控 uri。\n为此，可以为 Match 实例设置别名，该别名将作为注册指标名的一部分，如： \u003ccode\u003e\u0026lt;http-method\u0026gt;-requests.\u0026lt;别名\u0026gt;\u003c/code\u003e 。\n此外，对于已定义别名的监控 uri，每个响应组有单独的监控指标（计数器），如： \u003ccode\u003eresponses-\u0026lt;code\u0026gt;.\u0026lt;别名\u0026gt;\u003c/code\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n        setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n        addMonitoredHttpServerUri(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/users/.*\u0026quot;\u003c/span\u003e).setAlias(\u003cspan class=\"hljs-string\"\u003e\u0026quot;users\u0026quot;\u003c/span\u003e).setType(MatchType.REGEX))\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e每个 HTTP 请求的请求路由可以由 HTTP 框架（如 vertx-web）上报，换而言之 Vert.x core 本身不会上报任何路由信息。\n与 URI 监控指标一样，路由监控指标必须在以下选项中显式配置：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n    setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n    addMonitoredHttpServerRoute(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;/users/.*\u0026quot;\u003c/span\u003e).setType(MatchType.REGEX))\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e与 URI 监控指标类似，请求路由监控也可以提供监控指标别名，但通常请求路由本身已经提供了足够和适当的 URI 语义分组。\n请注意，单个 HTTP 请求可以多次路由（例如由于 vertx-web 子路由器的作用），\n而每个请求的所有路由在监控中将用 \u003ccode\u003e\u0026gt;\u003c/code\u003e 拼接在一起（例如 \u003ccode\u003e/internal_api\u0026gt;/resource/:id\u003c/code\u003e ）。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ccode\u003ebytes-read\u003c/code\u003e 和 \u003ccode\u003ebytes-written\u003c/code\u003e 监控指标只统计了请求体/响应体的字节数，不包括 header 等。\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_http_client_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_http_client_metrics\"\u003e\u003c/a\u003eHttp 客户端指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.http.clients\u003c/code\u003e （默认），或 \u003ccode\u003evertx.http.clients.\u0026lt;id\u0026gt;\u003c/code\u003e ，其中 \u003ccode\u003e\u0026lt;id\u0026gt;\u003c/code\u003e 是由\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/http/HttpClientOptions.html#setMetricsName-java.lang.String-\"\u003esetMetricsName\u003c/a\u003e\u003c/code\u003e 设置的非空字符串。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHTTP 客户端的指标包括 \u003ca href=\"#http-server-metrics\"\u003eHttp 服务\u003c/a\u003e 的所有指标以及下述指标：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econnections.max-pool-size\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：连接池规模\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econnections.pool-ratio\u003c/code\u003e - 类型：ratio \u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：已打开的连接与连接池规模的比率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-1xx\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：1xx响应码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-2xx\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：2xx响应码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-3xx\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：3xx响应码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-4xx\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：4xx响应码\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eresponses-5xx\u003c/code\u003e - 类型：\u003ca href=\"#meter\"\u003e仪表（Meter）\u003c/a\u003e，含义：5xx响应码\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eHTTP 客户端使用延迟请求队列管理每个远程 HTTP 服务节点的连接池。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e远程HTTP服务节点的可用监控指标如下：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.queue-delay\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：队列中延迟请求的等待时间\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.queue-size\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：队列实际大小\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.open-netsockets\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：连接到HTTP服务节点所开启的套接字数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.usage\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：请求开始到响应结束的耗时\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.in-use\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：实际请求/响应数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.ttfb\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：请求结束到响应开始之间的等待时间\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e其中 \u0026lt;host\u0026gt; 是HTTP服务节点的主机名（可能未解析），而 \u0026lt;port\u0026gt; 是 TCP 端口。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e可以通过 HTTP 服务的 \u003ccode\u003e$主机:$端口\u003c/code\u003e 的文本匹配来配置 HTTP 服务节点监控。\n默认没有配置 HTTP 服务节点的监控。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e使用 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/dropwizard/DropwizardMetricsOptions.html\"\u003eDropwizardMetricsOptions\u003c/a\u003e\u003c/code\u003e\n可以通过字符串匹配或正则匹配设置需要监控的 HTTP 服务节点：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n        setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n        addMonitoredHttpClientEndpoint(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;some-host:80\u0026quot;\u003c/span\u003e)).\n        addMonitoredHttpClientEndpoint(\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMatch\u003c/span\u003e().setValue(\u003cspan class=\"hljs-string\"\u003e\u0026quot;another-host:.*\u0026quot;\u003c/span\u003e).setType(MatchType.REGEX))\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"net-server-metrics\"\u003e\u003ca class=\"anchor\" href=\"#net-server-metrics\"\u003e\u003c/a\u003eNet 服务指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.net.servers.\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt;\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eopen-netsockets\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：打开 net 套接字的连接数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eopen-netsockets.\u0026lt;remote-host\u0026gt;\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：连接到指定远程主机所打开的 net 套接字连接数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003econnections\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：连接及其创建频率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eexceptions\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：出现异常的次数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebytes-read\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：读取的字节数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebytes-written\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：写入的字节数\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_net_client_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_net_client_metrics\"\u003e\u003c/a\u003eNet 客户端指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.net.clients\u003c/code\u003e（默认）， 或 \u003ccode\u003evertx.net.clients.\u0026lt;id\u0026gt;\u003c/code\u003e ，其中 \u003ccode\u003e\u0026lt;id\u0026gt;\u003c/code\u003e 是\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/net/NetClientOptions.html#setMetricsName-java.lang.String-\"\u003esetMetricsName\u003c/a\u003e\u003c/code\u003e 配置的非空字符串。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eNet 客户端的指标包括 \u003ca href=\"#net-server-metrics\"\u003eNet 服务\u003c/a\u003e 的所有指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_client_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_client_metrics\"\u003e\u003c/a\u003e客户端指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.\u0026lt;type\u0026gt;.clients\u003c/code\u003e （默认）或 \u003ccode\u003evertx.\u0026lt;type\u0026gt;.clients.\u0026lt;id\u0026gt;\u003c/code\u003e ，其中 \u003ccode\u003e\u0026lt;id\u0026gt;\u003c/code\u003e\n是客户端指标的标识符，而 \u003ccode\u003e\u0026lt;type\u0026gt;\u003c/code\u003e 是指标的类型。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSQL 客户端的 \u003ccode\u003e\u0026lt;type\u0026gt;\u003c/code\u003e 为 \u003ccode\u003esql\u003c/code\u003e， \u003ccode\u003e\u0026lt;id\u0026gt;\u003c/code\u003e 为客户端选项所配置的 \u003ccode\u003emetricsName\u003c/code\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e客户指标包括以下内容：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.requests\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：请求等待时间\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.queue-delay\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：队列中待处理请求的等待时间\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.queue-size\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：队列实际大小\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.in-use\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：实际请求/响应数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eendpoint.\u0026lt;host:port\u0026gt;.ttfb\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：请求结束到响应开始之间的等待时间\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_datagram_socket_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_datagram_socket_metrics\"\u003e\u003c/a\u003e数据报套接字指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.datagram\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003esockets\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：数据报套接字数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eexceptions\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：异常数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebytes-written\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已写入字节数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt;.bytes-read\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：已读取字节数\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e此指标仅当数据报套接字正在监听时可用\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_pool_metrics\"\u003e\u003ca class=\"anchor\" href=\"#_pool_metrics\"\u003e\u003c/a\u003e池的指标\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e基本指标名（baseName）： \u003ccode\u003evertx.pools.\u0026lt;type\u0026gt;.\u0026lt;name\u0026gt;\u003c/code\u003e 。其中 \u003ccode\u003etype\u003c/code\u003e 是池类型（如 \u003cem\u003eworker\u003c/em\u003e， \u003cem\u003edatasource\u003c/em\u003e），\n\u003ccode\u003ename\u003c/code\u003e 是池的名字（如 \u003ccode\u003evert.x-worker-thread\u003c/code\u003e ）。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e用于运行阻塞任务的工作线程池类型为 \u003cem\u003eworker\u003c/em\u003e 。Vert.x将其用于 \u003cem\u003evert.x-worker-thread\u003c/em\u003e 线程和\n\u003cem\u003evert.x-internal-blocking\u003c/em\u003e 线程。名为 worker 的执行线程都是由 \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/WorkerExecutor.html\"\u003eWorkerExecutor\u003c/a\u003e\u003c/code\u003e 创建的。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x JDBC客户端创建的数据源使用的池名为 \u003cem\u003edatasource\u003c/em\u003e。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003equeue-delay\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：获取某个资源的等待时间，例如在队列中的等待时间。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003equeue-size\u003c/code\u003e - 类型：\u003ca href=\"#counter\"\u003e计数器\u003c/a\u003e，含义：在队列中等待的资源数\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eusage\u003c/code\u003e - 类型：\u003ca href=\"#timer\"\u003e计时器\u003c/a\u003e，含义：某个资源被持续使用的时间\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ein-use\u003c/code\u003e - 类型：\u003ca href=\"#count\"\u003e[count]\u003c/a\u003e，含义：使用资源的实际数量\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003epool-ratio\u003c/code\u003e - A ratio \u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：已使用的资源和池规模的比率\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emax-pool-size\u003c/code\u003e - 类型：\u003ca href=\"#gauge\"\u003e测量值\u003c/a\u003e，含义：池的最大规模\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e当池没有声明最大规模时，\u003ccode\u003epool-ratio\u003c/code\u003e 和 \u003ccode\u003emax_pool_size\u003c/code\u003e\n将没有任何数据。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"jmx\"\u003e\u003ca class=\"anchor\" href=\"#jmx\"\u003e\u003c/a\u003eJMX\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e默认禁用 JMX。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e使用 JMX 需要手动启用，如下：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setJmxEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e如果从命令行运行 Vert.x，可以通过取消注释 \u003ccode\u003evertx\u003c/code\u003e 或 \u003ccode\u003evertx.bat\u003c/code\u003e\n脚本中的 JMX_OPTS 行来启用指标监控和 JMX：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003eJMX_OPTS=\"-Dcom.sun.management.jmxremote -Dvertx.metrics.options.jmxEnabled=true\"\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您可以配置创建 MBean 时使用的域：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().\n        setJmxEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).\n        setJmxDomain(\u003cspan class=\"hljs-string\"\u003e\u0026quot;mydomain\u0026quot;\u003c/span\u003e)\n));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e在命令行中，只需将以下系统属性添加到您的应用程序即可（适用于 \u003ccode\u003evertx\u003c/code\u003e 命令行和\nfat-jar ）：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003e-Dvertx.metrics.options.jmxEnabled=true -Dvertx.metrics.options.jmxDomain=vertx\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_enabling_remote_jmx\"\u003e\u003ca class=\"anchor\" href=\"#_enabling_remote_jmx\"\u003e\u003c/a\u003e启用远程 JMX\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e如果希望通过 JMX 开放监控指标的远程访问，则至少需要设置以下系统属性：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003ecom.sun.management.jmxremote\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e如果从命令行运行 Vert.x，可以通过取消注释 \u003ccode\u003evertx\u003c/code\u003e 或 \u003ccode\u003evertx.bat\u003c/code\u003e\n脚本中的 \u003ccode\u003eJMX_OPTS\u003c/code\u003e 行来启用远程 JMX。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e关于配置 JMX 的更多信息请参阅 \u003ca href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/management/agent.html\"\u003eOracle JMX 文档\u003c/a\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003cstrong\u003e如果在公共服务器上运行 Vert.x，请谨慎开放远程 JMX 访问\u003c/strong\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"dropwizard-registry\"\u003e\u003ca class=\"anchor\" href=\"#dropwizard-registry\"\u003e\u003c/a\u003e访问 Dropwizard Registry\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e配置指标服务时，可以指定一个可选的注册名（Registry Name），\n用于在 \u003ca href=\"https://dropwizard.github.io/metrics/3.1.0/apidocs/com/codahale/metrics/SharedMetricRegistries.html\"\u003eDropwizard Shared Registry\u003c/a\u003e\n中注册底层的 \u003ca href=\"https://dropwizard.github.io/metrics/3.1.0/getting-started/#the-registry\"\u003eDropwizard Registry\u003c/a\u003e 对象。\n可以使用这个注册名获取 MetricRegistry 对象并按需使用。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertxOptions\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).setRegistryName(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my-registry\u0026quot;\u003c/span\u003e)\n);\n\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(options);\n\u003cspan class=\"hljs-comment\"\u003e// 获取 MetricRegistry 对象\u003c/span\u003e\n\u003cspan class=\"hljs-type\"\u003eMetricRegistry\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eregistry\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e SharedMetricRegistries.getOrCreate(\u003cspan class=\"hljs-string\"\u003e\u0026quot;my-registry\u0026quot;\u003c/span\u003e);}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_already_existing_dropwizard_registry\"\u003e\u003ca class=\"anchor\" href=\"#_using_already_existing_dropwizard_registry\"\u003e\u003c/a\u003e使用已有的 Dropwizard Registry\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您也可以利用已有的 \u003ca href=\"https://dropwizard.github.io/metrics/3.1.0/getting-started/#the-registry\"\u003eDropwizard Registry\u003c/a\u003e 对象。\n只需在 \u003ccode\u003eVertxOptions\u003c/code\u003e 对象上调用 \u003ccode\u003esetMetricRegistry\u003c/code\u003e 方法，并传入 \u003ccode\u003eMetricRegistry\u003c/code\u003e 实例。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eMetricRegistry\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003emetricRegistry\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eMetricRegistry\u003c/span\u003e();\n\u003cspan class=\"hljs-type\"\u003eVertxOptions\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003eoptions\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n   \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e().setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e).setMetricRegistry(metricRegistry)\n);\n\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(options);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_jolokia_and_hawtio\"\u003e\u003ca class=\"anchor\" href=\"#_using_jolokia_and_hawtio\"\u003e\u003c/a\u003e使用 Jolokia 和 Hawtio\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ca href=\"https://jolokia.org/\"\u003eJolokia\u003c/a\u003e 是 JMX-HTTP 的桥接，为 JSR-160 连接器提供了替代方案。\nJolokia 基于代理实现，支持许多平台。 除了基本的 JMX 操作外，它还有一些增强了 JMX 远程处理能力的特性，\n如批量请求等。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ca href=\"http://hawt.io/\"\u003eHawtio\u003c/a\u003e 是一个模块化的Web控制台，使用了 Jolokia 开放的数据。\n您可以使用它创建仪表板并从 JMX 检索数据，例如内存，cpu 或任意 vert.x 指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e本节介绍了如何配置 vert.x 应用程序，以便 Hawtio 获取监控指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e首先，您需要使用以下选项来配置 vert.x 实例：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003e\u003cspan class=\"hljs-type\"\u003eVertx\u003c/span\u003e \u003cspan class=\"hljs-variable\"\u003evertx\u003c/span\u003e \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e Vertx.vertx(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eVertxOptions\u003c/span\u003e().setMetricsOptions(\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDropwizardMetricsOptions\u003c/span\u003e()\n        .setEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n        .setJmxEnabled(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e)\n        .setJmxDomain(\u003cspan class=\"hljs-string\"\u003e\u0026quot;vertx-metrics\u0026quot;\u003c/span\u003e)));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您可以将 JMX 域更改为任意值。 Vert.x 集群的实例可以使用相同的配置。\n此配置可以让 vertx-dropwizard-metrics 将监控指标开放给本地 MBean 服务，\n由此，Jolokia 可以获取这些监控指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e然后需要 \u003cem\u003e引入\u003c/em\u003e Jolokia 以开放监控数据。 有多种 \u003cem\u003e引入\u003c/em\u003e Jolokia 的方法。\n请参考 \u003ca href=\"https://jolokia.org/reference/html/architecture.html\"\u003e详情文档\u003c/a\u003e。\n这里介绍如何以默认配置使用 Jolokia Agent（译者注：代理，指JMX 的 Agent）。\n可以参考 \u003ca href=\"https://jolokia.org/reference/html/\"\u003eJolokia 文档\u003c/a\u003e 进行配置。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJolokia Agent 既可以在启动应用程序时配置，也可以附加在正在运行的 JVM 上（需要特殊权限才能访问该进程）。\n对于第一种情况，请使用以下命令启动应用程序：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003ejava -javaagent:/.../agents/jolokia-jvm.jar=port=7777,host=localhost -jar ...\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e-javaagent\u003c/code\u003e 参数指定了 Jolokia Agent 的 jar 包路径。 您可以在命令行中指定主机地址和端口。\n在上面的例子里，配置了 REST 服务地址为 \u003ccode\u003e\u003ca href=\"http://localhost:7777\" class=\"bare\"\u003ehttp://localhost:7777\u003c/a\u003e\u003c/code\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您也可以将 Jolokia Agent 注册到运行中的 JVM 上：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003ejava -jar jolokia-jvm.jar start PID\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e其中 \u003ccode\u003ePID\u003c/code\u003e 请替换为 JVM 的进程ID。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJolokia 配置好并启动后，就可以用 Hawtio 消费监控数据。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e在 Hawtio 可以进入连接详情：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"imageblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cimg src=\"../../images/hawtio-connect.png\" alt=\"hawtio connect\"\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e然后打开 \u003cem\u003eJMX\u003c/em\u003e 标签页，可以看到一个 \u003cem\u003e目录\u003c/em\u003e，\n其名为您在 Vert.x 配置中设定的 JMX 域：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"imageblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cimg src=\"../../images/hawtio-jmx.png\" alt=\"hawtio jmx\"\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e由此，您可以配置仪表板，并获取 Vert.x 开放的所有监控指标。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios\"\u003e\u003ca class=\"anchor\" href=\"#_using_jolokia_and_jmx4perl_to_expose_metrics_to_nagios\"\u003e\u003c/a\u003e使用 Jolokia 和 JMX4Perl 向 Nagios 开放监控指标\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ca href=\"http://search.cpan.org/~roland/jmx4perl/scripts/check_jmx4perl\"\u003eCheck_jmx4perl\u003c/a\u003e 是 Nagios 的一款插件，基于 jmx4perl 实现，可以访问远程 JMX 数据。\n通过这款插件可以将 Vert.x 的监控指标开放给 Nagios。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e首先需要在启动您的应用程序时配置 Jolokia Agent。\n配置附加 Jolokia Agent 有多种方法。查阅 \u003ca href=\"https://jolokia.org/reference/html/architecture.html\"\u003e获得更多详情\u003c/a\u003e。\n本文介绍如何用默认配置启用 Jolokia Agent 。\n详细配置可参考 \u003ca href=\"https://jolokia.org/reference/html/\"\u003eJolokia 文档\u003c/a\u003e。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJolokia Agent 既可以在启动应用程序时配置，也可以附加在正在运行的 JVM 上（需要特殊权限才能访问该进程）。\n对于第一种情况，请使用以下命令启动应用程序：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003ejava -javaagent:/.../agents/jolokia-jvm.jar=port=7777,host=localhost -jar ...\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003e-javaagent\u003c/code\u003e 参数指定了 Jolokia Agent 的 jar 包路径。 您可以在命令行中指定主机地址和端口。\n在上面的例子里，配置了 REST 服务地址为 \u003ccode\u003e\u003ca href=\"http://localhost:7777\" class=\"bare\"\u003ehttp://localhost:7777\u003c/a\u003e\u003c/code\u003e 。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e您也可以将 Jolokia Agent 注册到运行中的 JVM 上：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003ejava -jar jolokia-jvm.jar start PID\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e其中 \u003ccode\u003ePID\u003c/code\u003e 请替换为 JVM 的进程ID。\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eJolokia 配置好并启动后，可以参考下面命令配置 Nagios：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003echeck_jmx4perl --url http://10.0.2.2:8778/jolokia --name eventloops --mbean vertx:name=vertx.event-loop-size\n--attribute Value --warning 4\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e请参阅 \u003ca href=\"http://search.cpan.org/~roland/jmx4perl/scripts/check_jmx4perl\"\u003echeck_jmx4perl 文档\u003c/a\u003e\n获取更多关于检查配置的详情。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service\"\u003e\u003ca class=\"anchor\" href=\"#_metrics_commands_via_telnet_or_ssh_in_vert_x_shell_service\"\u003e\u003c/a\u003e在 Vert.x Shell 服务中通过 Telnet 或 SSH 执行的监控指标命令\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMetrics commands via Telnet or SSH in Vert.x Shell service\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e可以使用内置的 \u003cem\u003ehelp\u003c/em\u003e 命令查找可用的监控指标命令：\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e可用的命令\u003c/p\u003e\n\u003cdiv class=\"olist loweralpha\"\u003e\n\u003col class=\"loweralpha\" type=\"a\"\u003e\n\u003cli\u003e\n\u003cp\u003emetrics-ls ：列出当前 Vert.x 实例的已知监控指标\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003emetrics-info ：以 JSON 格式显示当前 Vert.x 实例的监控指标信息\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003emetrics-histogram ：实时显示当前 Vert.x 实例的监控指标柱状图\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"4.1.4"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["4.1.4","vertx-dropwizard-metrics","java"]},"buildId":"nVFUqslJoQvsJs_b_GmkE","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>