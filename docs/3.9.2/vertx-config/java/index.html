<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="description" content="Vert.x | Reactive applications on the JVM"/><meta name="robots" content="index,follow"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&amp;display=swap" rel="stylesheet"/><link rel="shortcut icon" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="48x48" href="/favicons/favicon-48x48.png"/><link rel="alternate" type="application/rss+xml" href="/feed/rss.xml"/><link rel="alternate" type="application/atom+xml" href="/feed/atom.xml"/><link rel="alternate" type="application/json" href="/feed/feed.json"/><title>配置 | Eclipse Vert.x</title><link rel="preload" href="https://api.github.com/repos/vert-x3/vertx-config" as="fetch" crossorigin="anonymous"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/styles.f20dca63.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.f20dca63.chunk.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-b6e20584df76f29b6f35.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" as="script"/><link rel="preload" href="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.dd672925a2e24782fa8b.js" as="script"/><link rel="preload" href="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.2792aa440a423c264d43.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a029dc5d19ec928c6924.js" as="script"/></head><body><div id="__next"><main class="page docs"><header><div class="navbar"><div class="navbar-content container"><div class="navbar-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="navbar-collapse-button"><span></span><span></span><span></span></div><div class="navbar-right"><div class="navbar-menu"><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">开始<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/introduction-to-vertx-and-reactive/"><li class="dropdown-item">简介</li></a><a href="/get-started/"><li class="dropdown-item">开始</li></a><a href="https://start.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">应用生成器 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/docs/">文档</a><span class="navbar-menu-item with-drop-down"><div class="dropdown"><a class="dropdown-title">资源<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu"><a href="/faq/"><li class="dropdown-item">答疑</li></a><a href="/channels/"><li class="dropdown-item">联系渠道</li></a><a href="https://how-to.vertx.io/" target="_blank" rel="noreferrer"><li class="dropdown-item">操作指南 <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a><a href="https://github.com/vert-x3/vertx-eventbus-bridge-clients" target="_blank" rel="noreferrer"><li class="dropdown-item">EventBus Bridge Clients <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></li></a></ul></div></span><a class="navbar-menu-item" href="/blog/">博客</a><a class="navbar-menu-item" href="/community/">社区</a><a class="navbar-menu-item" href="/translation/">翻译团队</a></div><div class="navbar-social"><a href="https://github.com/vert-x3/vertx-awesome" class="navbar-social-link" title="Awesome Vert.x" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="List of awesome Vert.x projects"><title>Awesome Vert.x</title><path d="M24 11.438l-6.154-5.645-.865.944 5.128 4.7H1.895l5.128-4.705-.865-.943-6.154 5.649H0v3.72c0 1.683 1.62 3.053 3.61 3.053h3.795c1.99 0 3.61-1.37 3.61-3.051v-2.446h1.97v2.446c0 1.68 1.62 3.051 3.61 3.051h3.794c1.99 0 3.61-1.37 3.61-3.051v-3.721z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/vert.x" class="navbar-social-link" title="Stack Overflow" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Stack Overflow questions related to Vert.x"><title>Stack Overflow</title><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852l10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056l9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785l8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751 0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749 0h.002z"></path></svg></a><a href="https://www.youtube.com/channel/UCGN6L3tRhs92Uer3c6VxOSA" class="navbar-social-link" title="YouTube" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="YouTube channel of Vert.x"><title>YouTube</title><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a href="https://discord.gg/KzEMwP2" class="navbar-social-link" title="Discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Eclipse Vert.x channel on Discord"><title>Discord</title><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg></a><a href="https://groups.google.com/forum/?fromgroups#!forum/vertx" class="navbar-social-link" title="Vert.x 用户组" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="A Google group for Vert.x users"><title>Vert.x 用户组</title><path d="M.92 3.332c-.776 0-1.216.67-.692 1.383l2.537 4.403v7.86c0 2.013 1.467 3.69 3.459 3.69H20.31a3.75 3.75 0 003.69-3.69V7.043a3.723 3.723 0 00-3.668-3.71zm5.786 3.71H20.1c.587 0 1.153.357 1.153.923 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.923 1.153-.923zm0 3.69H20.1c.587 0 1.153.356 1.153.922 0 .566-.566.922-1.153.922H6.706c-.587 0-1.153-.356-1.153-.922 0-.566.566-.922 1.153-.922zm-.021 3.71h9.705c.587 0 1.153.356 1.153.922 0 .566-.566.923-1.153.923H6.685c-.587 0-1.153-.357-1.153-.923 0-.566.566-.922 1.153-.922Z"></path></svg></a><a href="https://shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad" class="navbar-social-link" title="Vert.x中国用户组QQ群" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" aria-label="Vert.x中国用户组QQ群"><title>Vert.x中国用户组QQ群</title><path d="M21.395 15.035a39.548 39.548 0 0 0-.803-2.264l-1.079-2.695c.001-.032.014-.562.014-.836C19.526 4.632 17.351 0 12 0S4.474 4.632 4.474 9.241c0 .274.013.804.014.836l-1.08 2.695a38.97 38.97 0 0 0-.802 2.264c-1.021 3.283-.69 4.643-.438 4.673.54.065 2.103-2.472 2.103-2.472 0 1.469.756 3.387 2.394 4.771-.612.188-1.363.479-1.845.835-.434.32-.379.646-.301.778.343.578 5.883.369 7.482.189 1.6.18 7.14.389 7.483-.189.078-.132.132-.458-.301-.778-.483-.356-1.233-.646-1.846-.836 1.637-1.384 2.393-3.302 2.393-4.771 0 0 1.563 2.537 2.103 2.472.251-.03.581-1.39-.438-4.673zM12.662 4.846c.039-1.052.659-1.878 1.385-1.846s1.281.912 1.242 1.964c-.039 1.051-.659 1.878-1.385 1.846s-1.282-.912-1.242-1.964zM9.954 3c.725-.033 1.345.794 1.384 1.846.04 1.052-.517 1.931-1.242 1.963-.726.033-1.346-.794-1.385-1.845C8.672 3.912 9.228 3.033 9.954 3zM7.421 8.294c.194-.43 2.147-.908 4.566-.908h.026c2.418 0 4.372.479 4.566.908a.14.14 0 0 1 .014.061c0 .031-.01.059-.026.083-.163.238-2.333 1.416-4.553 1.416h-.026c-2.221 0-4.39-1.178-4.553-1.416a.136.136 0 0 1-.014-.144zm10.422 8.622c-.22 3.676-2.403 5.987-5.774 6.021h-.137c-3.37-.033-5.554-2.345-5.773-6.021-.081-1.35.001-2.496.147-3.43.318.063.638.122.958.176v3.506s1.658.334 3.318.103v-3.225c.488.027.96.04 1.406.034h.025c1.678.021 3.714-.204 5.683-.594.146.934.227 2.08.147 3.43zM10.48 5.804c.313-.041.542-.409.508-.825-.033-.415-.314-.72-.629-.679-.313.04-.541.409-.508.824.034.417.315.72.629.68zM14.479 5.156c.078.037.221.042.289-.146.035-.095.025-.165-.009-.214-.023-.033-.133-.118-.371-.176-.904-.22-1.341.384-1.405.499-.04.072-.012.176.056.227.067.051.139.037.179-.006.58-.628 1.21-.208 1.261-.184z"></path></svg></a></div></div></div></div></header><div class="page-content docs-content"><div class="container"><div class="docs-content-wrapper"><aside class=""><div class="docs-content-wrapper-sidebar"><div class="search-panel"><div class="search"><input type="text" placeholder="Search..." value=""/><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-delete"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div><ul class="search-results"></ul><div class="search-results-none">No results.</div></div><div class="docs-content-toc"><div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_concepts">Concepts</a></li>
<li><a href="#_using_the_config_retriever">Using the Config Retriever</a></li>
<li><a href="#_overloading_rules">Overloading rules</a></li>
<li><a href="#_using_the_retrieve_configuration">Using the retrieve configuration</a>
<ul class="sectlevel2">
<li><a href="#_configuring_a_single_verticle">Configuring a single verticle</a></li>
<li><a href="#_configuring_a_set_of_verticles">Configuring a set of verticles</a></li>
<li><a href="#_configuring_vert_x_itself">Configuring Vert.x itself</a></li>
<li><a href="#_propagating_configuration_changes_to_the_event_bus">Propagating configuration changes to the event bus</a></li>
</ul>
</li>
<li><a href="#_available_configuration_stores">Available configuration stores</a>
<ul class="sectlevel2">
<li><a href="#_structure_of_the_configuration">Structure of the configuration</a></li>
<li><a href="#_file">File</a></li>
<li><a href="#_json">JSON</a></li>
<li><a href="#_environment_variables">Environment Variables</a></li>
<li><a href="#_system_properties">System Properties</a></li>
<li><a href="#_http">HTTP</a></li>
<li><a href="#_event_bus">Event Bus</a></li>
<li><a href="#_directory">Directory</a></li>
<li><a href="#_properties_file_and_raw_data">Properties file and raw data</a></li>
</ul>
</li>
<li><a href="#_listening_for_configuration_changes">Listening for configuration changes</a></li>
<li><a href="#_retrieving_the_last_retrieved_configuration">Retrieving the last retrieved configuration</a></li>
<li><a href="#_reading_configuration_as_a_stream">Reading configuration as a stream</a></li>
<li><a href="#_processing_the_configuration">Processing the configuration</a></li>
<li><a href="#_retrieving_the_configuration_as_a_future">Retrieving the configuration as a Future</a></li>
<li><a href="#_extending_the_config_retriever">Extending the Config Retriever</a></li>
<li><a href="#_additional_formats">Additional formats</a>
<ul class="sectlevel2">
<li><a href="#_hocon_configuration_format">Hocon Configuration Format</a></li>
<li><a href="#_yaml_configuration_format">Yaml Configuration Format</a></li>
</ul>
</li>
<li><a href="#_additional_stores">Additional stores</a>
<ul class="sectlevel2">
<li><a href="#_git_configuration_store">Git Configuration Store</a></li>
<li><a href="#_kubernetes_configmap_store">Kubernetes ConfigMap Store</a></li>
<li><a href="#_redis_configuration_store">Redis Configuration Store</a></li>
<li><a href="#_zookeeper_configuration_store">Zookeeper Configuration Store</a></li>
<li><a href="#_consul_configuration_store">Consul Configuration Store</a></li>
<li><a href="#_spring_config_server_store">Spring Config Server Store</a></li>
<li><a href="#_vault_config_store">Vault Config Store</a></li>
</ul>
</li>
</ul>
</div></div></div></aside><div class="docs-content-sidebar-toggle"><div style="position:relative"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-list"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></div></div><div class="docs-content-inner"><div class="docs-content-metadata"><div class="docs-content-metadata-left"><div class="docs-content-metadata-repo"><div class="github-stars"><a href="https://github.com/vert-x3/vertx-config"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>null stars</a></div></div><div><a href="https://vertx.io/docs/apidocs"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> API</a></div><div class="docs-content-metadata-edit"><a href="https://github.com/vert-x3/vertx-config/tree/master/vertx-config/src/main/asciidoc"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> 改进翻译</a></div><span class="docs-content-metadata-version"><div class="dropdown"><a class="dropdown-title">v4.0.3<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg></a><ul class="dropdown-menu align-right"><a href="/docs/vertx-config/java/"><li class="dropdown-item active has-active-siblings"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-check-icon"><polyline points="20 6 9 17 4 12"></polyline></svg>Latest (v<!-- -->4.0.3<!-- -->)</li></a><a href="/docs/3.9.6/vertx-config/java/"><li class="dropdown-item has-active-siblings">v<!-- -->3.9.6</li></a></ul></div></span></div></div><div><h1>Vert.x Config</h1>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vert.x Config provides a way to configure your Vert.x application.
It:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>offers multiple configuration syntaxes (JSON, properties, Yaml (extension), Hocon
(extension)&#8230;&#8203;</p>
</li>
<li>
<p>offers multiple configuration stores such as files, directories, HTTP, git (extension), Redis
(extension), system properties and environment properties.</p>
</li>
<li>
<p>lets you define the processing order and overloading</p>
</li>
<li>
<p>supports runtime reconfiguration</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concepts"><a class="anchor" href="#_concepts"></a>Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The library is structured around:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a*Config Retriever<strong> instantiated and used by the Vert.x application. It
configures a set of configuration store
</strong>Configuration store** defines a location from where the configuration data is read and also a format (JSON by default)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The configuration is retrieved as a JSON Object.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_config_retriever"><a class="anchor" href="#_using_the_config_retriever"></a>Using the Config Retriever</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To use the Config Retriever, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
----</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once done, you first need to instantiate the <code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigRetriever retriever = ConfigRetriever.create(vertx);</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the Config Retriever is configured with the following stores (in
this order):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Vert.x verticle <code>config()</code></p>
</li>
<li>
<p>The system properties</p>
</li>
<li>
<p>The environment variables</p>
</li>
<li>
<p>A <code>conf/config.json</code> file. This path can be overridden using the <code>vertx-config-path</code> system property or
<code>VERTX_CONFIG_PATH</code> environment variable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can configure your own stores:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigStoreOptions httpStore = new ConfigStoreOptions()
  .setType("http")
  .setConfig(new JsonObject()
    .put("host", "localhost").put("port", 8080).put("path", "/conf"));

ConfigStoreOptions fileStore = new ConfigStoreOptions()
  .setType("file")
  .setConfig(new JsonObject().put("path", "my-config.json"));

ConfigStoreOptions sysPropsStore = new ConfigStoreOptions().setType("sys");


ConfigRetrieverOptions options = new ConfigRetrieverOptions()
  .addStore(httpStore).addStore(fileStore).addStore(sysPropsStore);

ConfigRetriever retriever = ConfigRetriever.create(vertx, options);</code></pre>
</div>
</div>
<div class="paragraph">
<p>More details about the overloading rules and available stores are available below. Each store can be marked as
<code>optional</code>. If a failure is caught while retrieving (or processing) the configuration from an optional store, the failure
is logged, but the processing does not fail. Instead, an empty JSON object is returned (<code>{}</code>). To mark a store as
optional, use the <code>optional</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigStoreOptions fileStore = new ConfigStoreOptions()
  .setType("file")
  .setOptional(true)
  .setConfig(new JsonObject().put("path", "my-config.json"));
ConfigStoreOptions sysPropsStore = new ConfigStoreOptions().setType("sys");

ConfigRetrieverOptions options = new ConfigRetrieverOptions().addStore(fileStore).addStore(sysPropsStore);

ConfigRetriever retriever = ConfigRetriever.create(vertx, options);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have the instance of the Config Retriever, <em>retrieve</em> the configuration
as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>retriever.getConfig(ar -&gt; {
  if (ar.failed()) {
    // Failed to retrieve the configuration
  } else {
    JsonObject config = ar.result();
  }
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overloading_rules"><a class="anchor" href="#_overloading_rules"></a>Overloading rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The declaration order of the configuration store is important as it defines the
overloading. For conflicting key, configuration stores arriving <em>last</em> overloads the
value provided by the previous configuration stores. Let&#8217;s take an example. We have 2
configuration stores:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>A</code> provides <code>{a:value, b:1}</code></p>
</li>
<li>
<p><code>B</code> provides <code>{a:value2, c:2}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Declared in this order (A, B), the resulting configuration would be:
<code>{a:value2, b:1, c:2}</code>.</p>
</div>
<div class="paragraph">
<p>If you declare them in the reverse order (B, A), you will get: <code>{a:value, b:1, c:2}</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_retrieve_configuration"><a class="anchor" href="#_using_the_retrieve_configuration"></a>Using the retrieve configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The retrieve configuration allows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>configuring verticles,</p>
</li>
<li>
<p>configure ports, clients, locations and so on,</p>
</li>
<li>
<p>configuring Vert.x itself</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This section gives a few examples of usage.</p>
</div>
<div class="sect2">
<h3 id="_configuring_a_single_verticle"><a class="anchor" href="#_configuring_a_single_verticle"></a>Configuring a single verticle</h3>
<div class="paragraph">
<p>The following example can be placed in the <code>start</code> method of a verticle. It retrieves the configuration (using the
default stores), and configure an HTTP server with the content of the configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigRetriever retriever = ConfigRetriever.create(vertx);
retriever.getConfig(json -&gt; {
  JsonObject result = json.result();

  vertx.createHttpServer()
    .requestHandler(req -&gt; result.getString("message"))
    .listen(result.getInteger("port"));
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_a_set_of_verticles"><a class="anchor" href="#_configuring_a_set_of_verticles"></a>Configuring a set of verticles</h3>
<div class="paragraph">
<p>The following example configures 2 verticles using the configurations contained in the <code>verticles.json</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()
  .addStore(new ConfigStoreOptions().setType("file").setConfig(new JsonObject().put("path", "verticles.json"))));

retriever.getConfig(json -&gt; {
  JsonObject a = json.result().getJsonObject("a");
  JsonObject b = json.result().getJsonObject("b");
  vertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(a));
  vertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(b));
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_vert_x_itself"><a class="anchor" href="#_configuring_vert_x_itself"></a>Configuring Vert.x itself</h3>
<div class="paragraph">
<p>You can also configure Vert.x directly. For this, you need a temporary Vert.x instance used to retrieve the
configuration. Then the actual instance is created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Vertx vertx = Vertx.vertx();
// Create the config retriever
ConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()
  .addStore(new ConfigStoreOptions().setType("file").setConfig(new JsonObject().put("path", "vertx.json"))));

// Retrieve the configuration
retriever.getConfig(json -&gt; {
  JsonObject result = json.result();
  // Close the vert.x instance, we don't need it anymore.
  vertx.close();

  // Create a new Vert.x instance using the retrieve configuration
  VertxOptions options = new VertxOptions(result);
  Vertx newVertx = Vertx.vertx(options);

  // Deploy your verticle
  newVertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(result.getJsonObject("a")));
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_propagating_configuration_changes_to_the_event_bus"><a class="anchor" href="#_propagating_configuration_changes_to_the_event_bus"></a>Propagating configuration changes to the event bus</h3>
<div class="paragraph">
<p>Vert.x Config notifies you when the configuration changes. If you want to react to this event, you need to implement
the reaction yourself. For instance, you can un-deploy and redeploy verticle or send the new configuration on the event bus.
The following example shows this latter case. It sends the new configuration on the event bus. Interested verticles can
listen for this address and update themselves:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()
  .addStore(new ConfigStoreOptions().setType("file").setConfig(new JsonObject().put("path", "verticles.json"))));

retriever.getConfig(json -&gt; {
  //...
});

retriever.listen(change -&gt; {
  JsonObject json = change.getNewConfiguration();
  vertx.eventBus().publish("new-configuration", json);
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_available_configuration_stores"><a class="anchor" href="#_available_configuration_stores"></a>Available configuration stores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Config Retriever provides a set of configuration stores and formats.
More are available as extensions, and you can also implement your own.</p>
</div>
<div class="sect2">
<h3 id="_structure_of_the_configuration"><a class="anchor" href="#_structure_of_the_configuration"></a>Structure of the configuration</h3>
<div class="paragraph">
<p>Each declared data store must specify the <code>type</code>. It can also define the <code>format</code>. If
not set JSON is used.</p>
</div>
<div class="paragraph">
<p>Some configurations tore requires additional configuration (such a path&#8230;&#8203;). This
configuration is passed as a Json Object using <code><a href="../../apidocs/io/vertx/config/ConfigStoreOptions.html#setConfig-io.vertx.core.json.JsonObject-">setConfig</a></code></p>
</div>
</div>
<div class="sect2">
<h3 id="_file"><a class="anchor" href="#_file"></a>File</h3>
<div class="paragraph">
<p>This configuration store just read the configuration from a file. It supports all
supported formats.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions file = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"file"</span>)
  .setFormat(<span class="hljs-string">"properties"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"path-to-file.properties"</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>path</code> configuration is required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_json"><a class="anchor" href="#_json"></a>JSON</h3>
<div class="paragraph">
<p>The JSON configuration store serves the given JSON config as it is.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions json = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"json"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The only supported format for this configuration store is JSON.</p>
</div>
</div>
<div class="sect2">
<h3 id="_environment_variables"><a class="anchor" href="#_environment_variables"></a>Environment Variables</h3>
<div class="paragraph">
<p>This configuration store transforms environment variables to a JSON Object contributed to
the global configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions json = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"env"</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration store does not support the <code>format</code> configuration. By default, the retrieved value is
transformed into JSON compatible structures (number, string, boolean, JSON object and JSON array). To avoid this
conversion, configure the <code>raw-data</code> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions json = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"env"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"raw-data"</span>, <span class="hljs-keyword">true</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can configure the <code>raw-data</code> attribute (<code>false</code> by default). If <code>raw-data</code> is <code>true</code> no attempts to convert
values is made, and you&#8217;ll be able to get raw values using <code>config.getString(key)</code>. It is useful when manipulating
large integers.</p>
</div>
<div class="paragraph">
<p>If you want to select the set of keys to import, use the <code>keys</code> attributes. It filters out all non selected keys. Keys
must be listed individually:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions json = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"env"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"keys"</span>, <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-string">"SERVICE1_HOST"</span>).add(<span class="hljs-string">"SERVICE2_HOST"</span>)));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_system_properties"><a class="anchor" href="#_system_properties"></a>System Properties</h3>
<div class="paragraph">
<p>This configuration store transforms system properties to a JSON Object contributed to the
global configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions json = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"sys"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"cache"</span>, <span class="hljs-string">"false"</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration store does not support the <code>format</code> configuration.</p>
</div>
<div class="paragraph">
<p>You can configure the <code>cache</code> attribute (<code>true</code> by default) let you decide whether or
not it caches the system properties on the first access and does not reload them.</p>
</div>
<div class="paragraph">
<p>You can also configure the <code>raw-data</code> attribute (<code>false</code> by default). If <code>raw-data</code> is <code>true</code> no attempts to convert
values is made, and you&#8217;ll be able to get raw values using <code>config.getString(key)</code>. It is useful when manipulating
large integers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_http"><a class="anchor" href="#_http"></a>HTTP</h3>
<div class="paragraph">
<p>This configuration store retrieves the configuration from an HTTP location. It can use
any supported format.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions http = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"http"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"host"</span>, <span class="hljs-string">"localhost"</span>)
    .put(<span class="hljs-string">"port"</span>, <span class="hljs-number">8080</span>)
    .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"/A"</span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>It creates a Vert.x HTTP Client with the store configuration (see next snippet). To
ease the configuration; you can also configure the <code>host</code>, <code>port</code> and <code>path</code> with the
<code>host</code>, <code>port</code> and <code>path</code>
properties.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions http = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"http"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"defaultHost"</span>, <span class="hljs-string">"localhost"</span>)
    .put(<span class="hljs-string">"defaultPort"</span>, <span class="hljs-number">8080</span>)
    .put(<span class="hljs-string">"ssl"</span>, <span class="hljs-keyword">true</span>)
    .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"/A"</span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_event_bus"><a class="anchor" href="#_event_bus"></a>Event Bus</h3>
<div class="paragraph">
<p>This event bus configuration store receives the configuration from the event bus. This
stores let you distribute your configuration among your local and distributed components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions eb = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"event-bus"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"address"</span>, <span class="hljs-string">"address-getting-the-conf"</span>)
  );</code></pre>
</div>
</div>
<div class="paragraph">
<p>This configuration store supports any format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_directory"><a class="anchor" href="#_directory"></a>Directory</h3>
<div class="paragraph">
<p>This configuration store is similar to the <code>file</code> configuration store, but instead of
reading a single file, read several files from a directory.</p>
</div>
<div class="paragraph">
<p>This configuration store configuration requires:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <code>path</code> - the root directory in which files are located</p>
</li>
<li>
<p>at least one <code>fileset</code> - an object to select the files</p>
</li>
<li>
<p>for properties file, you can indicate if you want to disable the type conversion using the <code>raw-data</code> attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each <code>fileset</code> contains:
* a <code>pattern</code> : a Ant-style pattern to select files. The pattern is applied on the
relative path of the files from the current working directory.
* an optional <code>format</code> indicating the format of the files (each fileset can use a
different format, BUT files in a fileset must share the same format).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions dir = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"directory"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"config"</span>)
    .put(<span class="hljs-string">"filesets"</span>, <span class="hljs-keyword">new</span> JsonArray()
      .add(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"pattern"</span>, <span class="hljs-string">"dir/*json"</span>))
      .add(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"pattern"</span>, <span class="hljs-string">"dir/*.properties"</span>)
        .put(<span class="hljs-string">"format"</span>, <span class="hljs-string">"properties"</span>))
    ));

ConfigStoreOptions dirWithRawData = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"directory"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"config"</span>)
    .put(<span class="hljs-string">"filesets"</span>, <span class="hljs-keyword">new</span> JsonArray()
      .add(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"pattern"</span>, <span class="hljs-string">"dir/*json"</span>))
      .add(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"pattern"</span>, <span class="hljs-string">"dir/*.properties"</span>)
        .put(<span class="hljs-string">"format"</span>, <span class="hljs-string">"properties"</span>).put(<span class="hljs-string">"raw-data"</span>, <span class="hljs-keyword">true</span>))
    ));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_properties_file_and_raw_data"><a class="anchor" href="#_properties_file_and_raw_data"></a>Properties file and raw data</h3>
<div class="paragraph">
<p>Vert.x Config can read properties file. When reading such a file, you can pass the <code>raw-data</code> attribute to
indicate to Vert.x to not attempt to convert values. It is useful when manipulating large integers. Values can be
retrieved using <code>config.getString(key)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions propertyWithRawData = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setFormat(<span class="hljs-string">"properties"</span>)
  .setType(<span class="hljs-string">"file"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"raw.properties"</span>).put(<span class="hljs-string">"raw-data"</span>, <span class="hljs-keyword">true</span>)
  );</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some properties configuration maybe is hierarchical in nature.
When reading such a file, you can pass the <code>hierarchical</code> attribute to
indicate to Vert.x to convert the configuration to a json object while maintaining this hierarchy,
in contrast to the previous method with a flat structure.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>server.host=localhost
server.port=8080
multiple.values=1,2,3</pre>
</div>
</div>
<div class="paragraph">
<p>Get values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions propertyWitHierarchical = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setFormat(<span class="hljs-string">"properties"</span>)
  .setType(<span class="hljs-string">"file"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"hierarchical.properties"</span>).put(<span class="hljs-string">"hierarchical"</span>, <span class="hljs-keyword">true</span>)
  );
ConfigRetrieverOptions options = <span class="hljs-keyword">new</span> ConfigRetrieverOptions()
  .addStore(propertyWitHierarchical);

ConfigRetriever configRetriever = ConfigRetriever.create(Vertx.vertx(), options);

configRetriever.configStream().handler(config -&gt; {
  String host = config.getJsonObject(<span class="hljs-string">"server"</span>).getString(<span class="hljs-string">"host"</span>);
  Integer port = config.getJsonObject(<span class="hljs-string">"server"</span>).getInteger(<span class="hljs-string">"port"</span>);
  JsonArray multiple = config.getJsonObject(<span class="hljs-string">"multiple"</span>).getJsonArray(<span class="hljs-string">"values"</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; multiple.size(); i++) {
    Integer value = multiple.getInteger(i);
  }
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_listening_for_configuration_changes"><a class="anchor" href="#_listening_for_configuration_changes"></a>Listening for configuration changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Configuration Retriever periodically retrieve the configuration, and if the outcome
is different from the current one, your application can be reconfigured. By default, the
configuration is reloaded every 5 seconds.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigRetrieverOptions options = <span class="hljs-keyword">new</span> ConfigRetrieverOptions()
  .setScanPeriod(<span class="hljs-number">2000</span>)
  .addStore(store1)
  .addStore(store2);

ConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);
retriever.getConfig(json -&gt; {
  <span class="hljs-comment">// Initial retrieval of the configuration</span>
});

retriever.listen(change -&gt; {
  <span class="hljs-comment">// Previous configuration</span>
  JsonObject previous = change.getPreviousConfiguration();
  <span class="hljs-comment">// New configuration</span>
  JsonObject conf = change.getNewConfiguration();
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_retrieving_the_last_retrieved_configuration"><a class="anchor" href="#_retrieving_the_last_retrieved_configuration"></a>Retrieving the last retrieved configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can retrieve the last retrieved configuration without "waiting" to be retrieved
using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject last = retriever.getCachedConfig();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reading_configuration_as_a_stream"><a class="anchor" href="#_reading_configuration_as_a_stream"></a>Reading configuration as a stream</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> provide a way to access the stream of configuration.
It&#8217;s a <code><a href="../../apidocs/io/vertx/core/streams/ReadStream.html">ReadStream</a></code> of <code><a href="../../apidocs/io/vertx/core/json/JsonObject.html">JsonObject</a></code>. By registering the right
set of handlers you are notified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when a new configuration is retrieved</p>
</li>
<li>
<p>when an error occur while retrieving a configuration</p>
</li>
<li>
<p>when the configuration retriever is closed (the
<code><a href="../../apidocs/io/vertx/core/streams/ReadStream.html#endHandler-io.vertx.core.Handler-">endHandler</a></code> is called).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigRetrieverOptions options = <span class="hljs-keyword">new</span> ConfigRetrieverOptions()
  .setScanPeriod(<span class="hljs-number">2000</span>)
  .addStore(store1)
  .addStore(store2);

ConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);
retriever.configStream()
  .endHandler(v -&gt; {
    <span class="hljs-comment">// retriever closed</span>
  })
  .exceptionHandler(t -&gt; {
    <span class="hljs-comment">// an error has been caught while retrieving the configuration</span>
  })
  .handler(conf -&gt; {
    <span class="hljs-comment">// the configuration</span>
  });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_processing_the_configuration"><a class="anchor" href="#_processing_the_configuration"></a>Processing the configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can configure a <em>processor</em> that can validate and update the configuration. This is done using the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html#setConfigurationProcessor-java.util.function.Function-">setConfigurationProcessor</a></code> method.</p>
</div>
<div class="paragraph">
<p>The prcessing must not return <code>null</code>. It takes the retrieved configuration and returns the processed one. If the processor
does not update the configuration, it must return the input configuration. If the processor can throw an exception (for
example for validation purpose).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_retrieving_the_configuration_as_a_future"><a class="anchor" href="#_retrieving_the_configuration_as_a_future"></a>Retrieving the configuration as a Future</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> provide a way to retrieve the configuration as a
<code><a href="../../apidocs/io/vertx/core/Future.html">Future</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">Future&lt;JsonObject&gt; future = ConfigRetriever.getConfigAsFuture(retriever);
future.setHandler(ar -&gt; {
  <span class="hljs-keyword">if</span> (ar.failed()) {
    <span class="hljs-comment">// Failed to retrieve the configuration</span>
  } <span class="hljs-keyword">else</span> {
    JsonObject config = ar.result();
  }
});</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extending_the_config_retriever"><a class="anchor" href="#_extending_the_config_retriever"></a>Extending the Config Retriever</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can extend the configuration by implementing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code><a href="../../apidocs/io/vertx/config/spi/ConfigProcessor.html">ConfigProcessor</a></code> SPI to add support for a
format</p>
</li>
<li>
<p>the <code><a href="../../apidocs/io/vertx/config/spi/ConfigStoreFactory.html">ConfigStoreFactory</a></code> SPI to add support for
configuration store (place from where the configuration data is retrieved)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_formats"><a class="anchor" href="#_additional_formats"></a>Additional formats</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Besides of the out of the box format supported by this library, Vert.x Config provides additional
formats you can use in your application.</p>
</div>
<div class="sect2">
<h3 id="_hocon_configuration_format"><a class="anchor" href="#_hocon_configuration_format"></a>Hocon Configuration Format</h3>
<div class="paragraph">
<p>The Hocon Configuration Format extends the Vert.x Configuration Retriever and provides the
support for the HOCON(<a href="https://github.com/typesafehub/config/blob/master/HOCON.md" class="bare">https://github.com/typesafehub/config/blob/master/HOCON.md</a>) format.</p>
</div>
<div class="paragraph">
<p>It supports includes, json, properties, macros&#8230;&#8203;</p>
</div>
<div class="sect3">
<h4 id="_using_the_hocon_configuration_format"><a class="anchor" href="#_using_the_hocon_configuration_format"></a>Using the Hocon Configuration Format</h4>
<div class="paragraph">
<p>To use the Hocon Configuration Format, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-hocon<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-hocon:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_to_use_hocon"><a class="anchor" href="#_configuring_the_store_to_use_hocon"></a>Configuring the store to use HOCON</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"file"</span>)
  .setFormat(<span class="hljs-string">"hocon"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"my-config.conf"</span>)
  );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You just need to set <code>format</code> to <code>hocon</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_yaml_configuration_format"><a class="anchor" href="#_yaml_configuration_format"></a>Yaml Configuration Format</h3>
<div class="paragraph">
<p>The Yaml Configuration Format extends the Vert.x Configuration Retriever and provides the
support for the Yaml Configuration Format format.</p>
</div>
<div class="sect3">
<h4 id="_using_the_yaml_configuration_format"><a class="anchor" href="#_using_the_yaml_configuration_format"></a>Using the Yaml Configuration Format</h4>
<div class="paragraph">
<p>To use the Yaml Configuration Format, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-yaml<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-yaml:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_to_use_yaml"><a class="anchor" href="#_configuring_the_store_to_use_yaml"></a>Configuring the store to use YAML</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"file"</span>)
  .setFormat(<span class="hljs-string">"yaml"</span>)
  .setConfig(<span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"my-config.yaml"</span>)
  );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You just need to set <code>format</code> to <code>yaml</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_stores"><a class="anchor" href="#_additional_stores"></a>Additional stores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Besides of the out of the box stores supported by this library, Vert.x Config provides additional
stores you can use in your application.</p>
</div>
<div class="sect2">
<h3 id="_git_configuration_store"><a class="anchor" href="#_git_configuration_store"></a>Git Configuration Store</h3>
<div class="paragraph">
<p>The Git Configuration Store is an extension to the Vert.x Configuration Retriever to
retrieve configuration from a Git repository.</p>
</div>
<div class="sect3">
<h4 id="_using_the_git_configuration_store"><a class="anchor" href="#_using_the_git_configuration_store"></a>Using the Git Configuration Store</h4>
<div class="paragraph">
<p>To use the Git Configuration, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-git<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-git:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store"><a class="anchor" href="#_configuring_the_store"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions git = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"git"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">"url"</span>, <span class="hljs-string">"https://github.com/cescoffier/vertx-config-test.git"</span>)
        .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"local"</span>)
        .put(<span class="hljs-string">"filesets"</span>,
            <span class="hljs-keyword">new</span> JsonArray().add(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"pattern"</span>, <span class="hljs-string">"*.json"</span>))));

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(git));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The configuration requires:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>url</code> of the repository</p>
</li>
<li>
<p>the <code>path</code> where the repository is cloned (local directory)</p>
</li>
<li>
<p>the <code>user</code> for private repository (no authentication by default)</p>
</li>
<li>
<p>the <code>password</code> of the user</p>
</li>
<li>
<p>the <code>idRsaKeyPath</code> for private repository and requires ssh uri</p>
</li>
<li>
<p>at least <code>fileset</code> indicating the set of files to read (same behavior as the
directory configuration store).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can also configure the <code>branch</code> (<code>master</code> by default) to use and the name of the
<code>remote</code> repository (<code>origin</code> by default).</p>
</div>
</div>
<div class="sect3">
<h4 id="_how_does_it_works"><a class="anchor" href="#_how_does_it_works"></a>How does it works</h4>
<div class="paragraph">
<p>If the local <code>path</code> does not exist, the configuration store clones the repository into
this directory. Then it reads the file matching the different file sets.</p>
</div>
<div class="paragraph">
<p>It the local <code>path</code> exist, it tried to update it (it switches branch if needed)). If the
update failed the configuration retrieval fails.</p>
</div>
<div class="paragraph">
<p>Periodically, the repositories is updated to check if the configuration has been updated.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_kubernetes_configmap_store"><a class="anchor" href="#_kubernetes_configmap_store"></a>Kubernetes ConfigMap Store</h3>
<div class="paragraph">
<p>The Kubernetes ConfigMap Store extends the Vert.x Configuration Retriever and provides support Kubernetes Config Map
and Secrets. So, configuration is retrieved by reading the config map or the secrets.</p>
</div>
<div class="sect3">
<h4 id="_using_the_kubernetes_configmap_store"><a class="anchor" href="#_using_the_kubernetes_configmap_store"></a>Using the Kubernetes ConfigMap Store</h4>
<div class="paragraph">
<p>To use the Kubernetes ConfigMap Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-kubernetes-configmap<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-kubernetes-configmap:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_2"><a class="anchor" href="#_configuring_the_store_2"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"configmap"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">"namespace"</span>, <span class="hljs-string">"my-project-namespace"</span>)
        .put(<span class="hljs-string">"name"</span>, <span class="hljs-string">"configmap-name"</span>)
    );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You need to configure the store to find the right configmap. this is done with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>namespace</code> - the project namespace, <code>default</code> by default. If the <code>KUBERNETES_NAMESPACE</code> ENV variable is set, it
uses this value.</p>
</li>
<li>
<p><code>name</code> - the name of the config map</p>
</li>
<li>
<p><code>optional</code> - whether or not the config map is optional (<code>true</code> by default)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the config map is composed by several element, you can use the <code>key</code> parameter to tell
which <code>key</code> is read</p>
</div>
<div class="paragraph">
<p>The application must have the permissions to read the config map.</p>
</div>
<div class="paragraph">
<p>To read data from a secret, just configure the <code>secret</code> property to <code>true</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"configmap"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">"namespace"</span>, <span class="hljs-string">"my-project-namespace"</span>)
        .put(<span class="hljs-string">"name"</span>, <span class="hljs-string">"my-secret"</span>)
        .put(<span class="hljs-string">"secret"</span>, <span class="hljs-keyword">true</span>)
    );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the config map is not available, an empty JSON object is passed as configuration chunk. To disable this
behavior and explicitly fail, you can set the <code>optional</code> configuration to <code>false</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_redis_configuration_store"><a class="anchor" href="#_redis_configuration_store"></a>Redis Configuration Store</h3>
<div class="paragraph">
<p>The Redis Configuration Store extends the Vert.x Configuration Retriever and provides the
way to retrieve configuration from a Redis server.</p>
</div>
<div class="sect3">
<h4 id="_using_the_redis_configuration_store"><a class="anchor" href="#_using_the_redis_configuration_store"></a>Using the Redis Configuration Store</h4>
<div class="paragraph">
<p>To use the Redis Configuration Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-redis:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_3"><a class="anchor" href="#_configuring_the_store_3"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"redis"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">"host"</span>, <span class="hljs-string">"localhost"</span>)
        .put(<span class="hljs-string">"port"</span>, <span class="hljs-number">6379</span>)
        .put(<span class="hljs-string">"key"</span>, <span class="hljs-string">"my-configuration"</span>)
    );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The store configuration is used to create an instance of
<code><a href="../../apidocs/io/vertx/redis/RedisClient.html">RedisClient</a></code>. check the documentation of the Vert.x Redis Client
for further details.</p>
</div>
<div class="paragraph">
<p>In addition, you can set the <code>key</code> instructing the store in which <em>field</em> the configuration
is stored. <code>configuration</code> is used by default.</p>
</div>
<div class="paragraph">
<p>The created Redis client retrieves the configuration using the <code>HGETALL</code> configuration.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_zookeeper_configuration_store"><a class="anchor" href="#_zookeeper_configuration_store"></a>Zookeeper Configuration Store</h3>
<div class="paragraph">
<p>The Zookeeper Configuration Store extends the Vert.x Configuration Retriever and provides the
way to retrieve configuration from a Zookeeper server. It uses Apache Curator as client.</p>
</div>
<div class="sect3">
<h4 id="_using_the_zookeeper_configuration_store"><a class="anchor" href="#_using_the_zookeeper_configuration_store"></a>Using the Zookeeper Configuration Store</h4>
<div class="paragraph">
<p>To use the Redis Configuration Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-zookeeper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-zookeeper:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_4"><a class="anchor" href="#_configuring_the_store_4"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"zookeeper"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
        .put(<span class="hljs-string">"connection"</span>, <span class="hljs-string">"localhost:2181"</span>)
        .put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"/path/to/my/conf"</span>)
    );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The store configuration is used to configure the Apache Curator client and the <em>path</em> of the Zookeeper node
containing the configuration. Notice that the format of the configuration can be JSON, or any supported format.</p>
</div>
<div class="paragraph">
<p>The configuration requires the <code>configuration</code> attribute indicating the connection <em>string</em> of the Zookeeper
server, and the <code>path</code> attribute indicating the path of the node containing the configuration.</p>
</div>
<div class="paragraph">
<p>In addition you can configure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>maxRetries</code>: the number of connection attempt, 3 by default</p>
</li>
<li>
<p><code>baseSleepTimeBetweenRetries</code>: the amount of milliseconds to wait between retries (exponential backoff strategy).
1000 ms by default.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consul_configuration_store"><a class="anchor" href="#_consul_configuration_store"></a>Consul Configuration Store</h3>
<div class="paragraph">
<p>The Consul Configuration Store extends the Vert.x Configuration Retriever and provides the
way to retrieve configuration from a <a href="https://www.consul.io">Consul</a>.</p>
</div>
<div class="sect3">
<h4 id="_using_the_consul_configuration_store"><a class="anchor" href="#_using_the_consul_configuration_store"></a>Using the Consul Configuration Store</h4>
<div class="paragraph">
<p>To use the Consul Configuration Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-consul<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-consul:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_5"><a class="anchor" href="#_configuring_the_store_5"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"consul"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject()
      .put(<span class="hljs-string">"host"</span>, <span class="hljs-string">"localhost"</span>)
      .put(<span class="hljs-string">"port"</span>, <span class="hljs-number">8500</span>)
      .put(<span class="hljs-string">"prefix"</span>, <span class="hljs-string">"foo"</span>)
    );

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The store configuration is used to create an instance of
<code><a href="../../apidocs/io/vertx/ext/consul/ConsulClient.html">ConsulClient</a></code>. Check the documentation of the Vert.x Consul Client
for further details. And this is the parameters specific to the Consul Configuration Store:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>prefix</code></dt>
<dd>
<p>A prefix that will not be taken into account when building the configuration tree. Defaults to empty.</p>
</dd>
<dt class="hdlist1"><code>delimiter</code></dt>
<dd>
<p>Symbol that used to split keys in the Consul storage to obtain levels in the configuration tree. Defaults to "/".</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_spring_config_server_store"><a class="anchor" href="#_spring_config_server_store"></a>Spring Config Server Store</h3>
<div class="paragraph">
<p>The Spring Config Server Store extends the Vert.x Configuration Retriever and provides the
a way to retrieve configuration from a Spring Server.</p>
</div>
<div class="sect3">
<h4 id="_using_the_spring_config_server_store"><a class="anchor" href="#_using_the_spring_config_server_store"></a>Using the Spring Config Server Store</h4>
<div class="paragraph">
<p>To use the Spring Config Server Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-spring-config-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-spring-config-server:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_6"><a class="anchor" href="#_configuring_the_store_6"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
    .setType(<span class="hljs-string">"spring-config-server"</span>)
    .setConfig(<span class="hljs-keyword">new</span> JsonObject().put(<span class="hljs-string">"url"</span>, <span class="hljs-string">"http://localhost:8888/foo/development"</span>));

ConfigRetriever retriever = ConfigRetriever.create(vertx,
    <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Configurable attributes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>url</code> - the <code>url</code> to retrieve the configuration (mandatory), supports two type of formats:</p>
<div class="ulist">
<ul>
<li>
<p><code>/{application}/{environment}</code> which produces response with separated propertySources</p>
</li>
<li>
<p><code>/{application}-{environment}.json</code> which produces response as JSON with unique fields and resolved Spring placeholders</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>timeout</code> - the timeout (in milliseconds) to retrieve the configuration, 3000 by default</p>
</li>
<li>
<p><code>user</code> - the <code>user</code> (no authentication by default)</p>
</li>
<li>
<p><code>password</code> - the <code>password</code></p>
</li>
<li>
<p><code>httpClientConfiguration</code> - the configuration of the underlying HTTP client</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vault_config_store"><a class="anchor" href="#_vault_config_store"></a>Vault Config Store</h3>
<div class="paragraph">
<p>The Vault Store extends the Vert.x Configuration Retriever and provides support for Vault (<a href="https://www.vaultproject.io/" class="bare">https://www.vaultproject.io/</a>).
So, configuration (secrets) is retrieved from Vault.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The secrets engines supported by this store are Vault Key/Value version 1 and version 2 engines (<a href="https://www.vaultproject.io/docs/secrets/kv/index.html" class="bare">https://www.vaultproject.io/docs/secrets/kv/index.html</a>). Other secrets engine are not supported.</p>
</div>
</blockquote>
</div>
<div class="sect3">
<h4 id="_using_the_vault_config_store"><a class="anchor" href="#_using_the_vault_config_store"></a>Using the Vault Config Store</h4>
<div class="paragraph">
<p>To use the Vault Config Store, add the following dependency to the
<em>dependencies</em> section of your build descriptor:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maven (in your <code>pom.xml</code>):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config-vault<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.vertx<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>vertx-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Gradle (in your <code>build.gradle</code> file):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">compile <span class="hljs-string">'io.vertx:vertx-config:3.9.2'</span>
compile <span class="hljs-string">'io.vertx:vertx-config-vault:3.9.2'</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_store_7"><a class="anchor" href="#_configuring_the_store_7"></a>Configuring the store</h4>
<div class="paragraph">
<p>Once added to your classpath or dependencies, you need to configure the
<code><a href="../../apidocs/io/vertx/config/ConfigRetriever.html">ConfigRetriever</a></code> to use this store:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use the Vault config store, set the <code>type</code> to <code>vault</code>. The configuration is provided as Json. It configures the
access to Vault, authentication and the path of the secret to retrieve:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject()
  .put(<span class="hljs-string">"host"</span>, <span class="hljs-string">"127.0.0.1"</span>) <span class="hljs-comment">// The host name</span>
  .put(<span class="hljs-string">"port"</span>, <span class="hljs-number">8200</span>) <span class="hljs-comment">// The port</span>
  .put(<span class="hljs-string">"ssl"</span>, <span class="hljs-keyword">true</span>); <span class="hljs-comment">// Whether or not SSL is used (disabled by default)</span>

<span class="hljs-comment">// Certificates</span>
PemKeyCertOptions certs = <span class="hljs-keyword">new</span> PemKeyCertOptions()
  .addCertPath(<span class="hljs-string">"target/vault/config/ssl/client-cert.pem"</span>)
  .addKeyPath(<span class="hljs-string">"target/vault/config/ssl/client-privatekey.pem"</span>);
vault_config.put(<span class="hljs-string">"pemKeyCertOptions"</span>, certs.toJson());

<span class="hljs-comment">// Truststore</span>
JksOptions jks = <span class="hljs-keyword">new</span> JksOptions()
  .setPath(<span class="hljs-string">"target/vault/config/ssl/truststore.jks"</span>);
vault_config.put(<span class="hljs-string">"trustStoreOptions"</span>, jks.toJson());

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>vault_config</code> object can contain the HTTP client / Web client configuration such as trust stores, timeout,
certificates, port and host. The <code>path</code> and <code>host</code> entries are mandatory. The <code>path</code> indicates the secret to
retrieve. The <code>host</code> is the hostname of the Vault server. By default the port 8200 is used. SSL is disabled by
default, but you should enable it for production settings.</p>
</div>
<div class="paragraph">
<p>Then, you need to use one of the following method to configure the token to use or the authentication mechanism.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_an_existing_token"><a class="anchor" href="#_using_an_existing_token"></a>Using an existing token</h4>
<div class="paragraph">
<p>If you know the token to use, set the <code>token</code> entry in the configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject();

<span class="hljs-comment">// ...</span>

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

<span class="hljs-comment">// The token</span>
vault_config.put(<span class="hljs-string">"token"</span>, token);

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use the root token, but it&#8217;s not recommended. When the token is revoked, the access to the secret is
blocked. If the token is renewable, the token is renewed when it expires.</p>
</div>
</div>
<div class="sect3">
<h4 id="_generating_a_token"><a class="anchor" href="#_generating_a_token"></a>Generating a token</h4>
<div class="paragraph">
<p>If you have a token allowing you to generate new token, you can request the token generation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject();

<span class="hljs-comment">// ...</span>

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

<span class="hljs-comment">// Configure the token generation</span>

<span class="hljs-comment">// Configure the token request (https://www.vaultproject.io/docs/auth/token.html)</span>
JsonObject tokenRequest = <span class="hljs-keyword">new</span> JsonObject()
  .put(<span class="hljs-string">"ttl"</span>, <span class="hljs-string">"1h"</span>)
  .put(<span class="hljs-string">"noDefault"</span>, <span class="hljs-keyword">true</span>)

  <span class="hljs-comment">// The token to use to request the generation (parts of the tokenRequest object)</span>
  .put(<span class="hljs-string">"token"</span>, token);

vault_config.put(<span class="hljs-string">"auth-backend"</span>, <span class="hljs-string">"token"</span>) <span class="hljs-comment">// Indicate the auth backend to use</span>
  .put(<span class="hljs-string">"renew-window"</span>, <span class="hljs-number">5000L</span>) <span class="hljs-comment">// Renew error margin in ms</span>
  .put(<span class="hljs-string">"token-request"</span>, tokenRequest); <span class="hljs-comment">// Pass the token generation configuration</span>

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using this approach, no token must be provided in the root configuration, the the token use to request the
generation is passed in the nested JSON structure. If the generated token is renewable, it will be
renewed automatically upon expiration. The <code>renew-window</code> is the time window to add to the token validity to renew
it. If the generated token is revoked, the access to the secret is blocked.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_certificates"><a class="anchor" href="#_using_certificates"></a>Using certificates</h4>
<div class="paragraph">
<p>You can use TLS certificates as authentication mechanism. So, you don&#8217;t need to know a token, the token is
generated automatically.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject();

<span class="hljs-comment">// ...</span>

PemKeyCertOptions certs = <span class="hljs-keyword">new</span> PemKeyCertOptions()
  .addCertPath(<span class="hljs-string">"target/vault/config/ssl/client-cert.pem"</span>)
  .addKeyPath(<span class="hljs-string">"target/vault/config/ssl/client-privatekey.pem"</span>);
vault_config.put(<span class="hljs-string">"pemKeyCertOptions"</span>, certs.toJson());

PemTrustOptions trust = <span class="hljs-keyword">new</span> PemTrustOptions()
  .addCertPath(<span class="hljs-string">"target/vault/config/ssl/cert.pem"</span>);
vault_config.put(<span class="hljs-string">"pemTrustStoreOptions"</span>, trust.toJson());

JksOptions jks = <span class="hljs-keyword">new</span> JksOptions()
  .setPath(<span class="hljs-string">"target/vault/config/ssl/truststore.jks"</span>);
vault_config.put(<span class="hljs-string">"trustStoreOptions"</span>, jks.toJson());

vault_config.put(<span class="hljs-string">"auth-backend"</span>, <span class="hljs-string">"cert"</span>);

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Check out the HTTP client and Web client configuration to pass the certificates. If the generated token is
renewable, it will be renewed. If not, the store attempts to authenticate again.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_approle"><a class="anchor" href="#_using_approle"></a>Using AppRole</h4>
<div class="paragraph">
<p><code>AppRole</code> is used when your application is known by Vault and you have the <code>appRoleId</code> and <code>secretId</code>. You don&#8217;t
need a token, the token being generated automatically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject();

<span class="hljs-comment">// ...</span>

vault_config
  .put(<span class="hljs-string">"auth-backend"</span>, <span class="hljs-string">"approle"</span>) <span class="hljs-comment">// Set the auth-backend to approle</span>
  .put(<span class="hljs-string">"approle"</span>, <span class="hljs-keyword">new</span> JsonObject()  <span class="hljs-comment">// Configure the role id and secret it</span>
    .put(<span class="hljs-string">"role-id"</span>, appRoleId).put(<span class="hljs-string">"secret-id"</span>, secretId)
  );

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the generated token is renewable, it will be renewed. If not, the store attempts to authenticate again.</p>
</div>
</div>
<div class="sect3">
<h4 id="_using_username_and_password"><a class="anchor" href="#_using_username_and_password"></a>Using username and password</h4>
<div class="paragraph">
<p>The <code>userpass</code> auth backend is used when the user / app is authenticated using a username/password. You don&#8217;t need a
token as the token is generated during the authentication process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">JsonObject vault_config = <span class="hljs-keyword">new</span> JsonObject();

<span class="hljs-comment">// ...</span>

vault_config
  .put(<span class="hljs-string">"auth-backend"</span>, <span class="hljs-string">"userpass"</span>) <span class="hljs-comment">// Set the auth-backend to userpass</span>
  .put(<span class="hljs-string">"user-credentials"</span>, <span class="hljs-keyword">new</span> JsonObject()
    .put(<span class="hljs-string">"username"</span>, username).put(<span class="hljs-string">"password"</span>, password)
  );

<span class="hljs-comment">// Path to the secret to read.</span>
vault_config.put(<span class="hljs-string">"path"</span>, <span class="hljs-string">"secret/my-secret"</span>);

ConfigStoreOptions store = <span class="hljs-keyword">new</span> ConfigStoreOptions()
  .setType(<span class="hljs-string">"vault"</span>)
  .setConfig(vault_config);

ConfigRetriever retriever = ConfigRetriever.create(vertx,
  <span class="hljs-keyword">new</span> ConfigRetrieverOptions().addStore(store));</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the generated token is renewable, it will be renewed. If not, the store attempts to authenticate again.</p>
</div>
</div>
</div>
</div>
</div></div></div></div></div></div><footer><div class="container"><div class="footer-nav-section"><div class="footer-nav-list footer-logo"><a href="/"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAxMTI1LjYgMzE1LjIiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6Izc4MmE5MX08L3N0eWxlPjxwYXRoIGQ9Ik0xMjAuOSAyMTQuMkwxOTAuNSAwaDUyLjNsLTk4LjUgMjczLjhIOTguMkwwIDBoNTIuMWw2OC44IDIxNC4yem0yOTEuMi02Mi42SDI5OS42djg0LjJINDMxdjM4SDI1MlYwaDE3Ny43djM4LjRIMjk5LjZWMTE0aDExMi41djM3LjZ6bTgzLjctMTEzLjJINTQ2YzE2LjUuMyAyOSA0LjQgMzcuMyAxMi40IDguMyA4IDEyLjUgMTkuNCAxMi41IDM0IDAgMTQtNC41IDI1LjEtMTMuNSAzMy4yLTkgOC4xLTIxLjYgMTIuMS0zNy42IDEyLjFoLTI3LjF2MjQuMmw4Ni4xIDExOS41aDUxdi0yLjRsLTc3LjItMTA2LjdjMjQuOS01LjUgNDMuMy0yMS43IDUyLjYtMzUuOSA4LjItMTIuNiAxMy4zLTI3LjcgMTMuMy00NiAwLTI2LjgtOC42LTQ3LjQtMjUuOC02MS41QzYwMC41IDcuMSA1NzYuMSAwIDU0NC41IDBoLTk2LjN2MjczLjhoNDcuNiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMDUyLjMgMTU3LjdsLTQxLjUgNjIuNyAyOS43IDUzLjRoODUuMXoiLz48Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSI4MjcuOSIgY3k9IjI3NC43IiByPSI0MC41Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTEwMzcgMGwtNDcuNiA3NC4yTDk0OSAwaC04NGw4NS4zIDEzNS44LTY3LjEgMTA1LjdjNS43IDkuNSA5LjEgMjAuNSA5LjIgMzIuNGg1MC4xTDExMjEuMyAwSDEwMzd6Ii8+PHBhdGggZD0iTTc2My41IDI3My44Yy4xLTkuOSAyLjUtMTkuMiA2LjYtMjcuNVYzOC40aDg1LjRWMEg2MzguMnYzOC40aDg0LjZ2MjM1LjRoNDAuN3oiLz48L3N2Zz4=" alt="Vert.x Logo"/></a></div><div class="footer-nav-list"><h5>Eclipse Vert.x</h5><ul class=""><li><a class="navbar-menu-item" href="/docs/">文档</a></li><li><a href="/download/">下载</a></li><li><a href="/blog/">博客</a></li><li><a href="/community/">社区</a></li><li><a href="/translation/">翻译团队</a></li><li><a href="https://github.com/eclipse-vertx/vert.x">GitHub</a></li><li><a href="https://github.com/vertx-china/vertx-web-site">翻译GitHub</a></li></ul></div><div class="footer-nav-list"><h5>资源</h5><ul class=""><li><a href="/faq/">答疑</a></li><li><a href="/channels/">联系渠道</a></li><li><a href="https://how-to.vertx.io/">操作指南</a></li><li><a href="https://start.vertx.io/">应用生成器</a></li></ul></div><div class="footer-nav-list"><h5>Eclipse</h5><ul class=""><li><a href="https://www.eclipse.org/">Eclipse 基金会</a></li><li><a href="https://www.eclipse.org/legal/privacy.php">隐私政策</a></li><li><a href="https://www.eclipse.org/legal/termsofuse.php">使用条款</a></li><li><a href="https://www.eclipse.org/legal/copyright.php">版权代理</a></li><li><a href="https://www.eclipse.org/legal/">法律资源</a></li></ul></div></div><div class="footer-copyright"><div class="footer-copyright-remarks">© <!-- -->2021<!-- --> Eclipse Vert.x<br/>Eclipse Vert.x 是开源的，并在<a href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank" rel="noopener noreferrer">Eclipse Public License 2.0</a>和<a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer">Apache License 2.0</a>协议下获得了双重许可。<br class="footer-copyright-break"/>网站由 <a href="https://michelkraemer.com" target="_blank" rel="noopener noreferrer">Michel Krämer</a> 设计。</div><div class="footer-copyright-eclipse-logo"><a href="https://www.eclipse.org/" target="_blank" rel="noopener noreferrer"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyODEuMyA5MS4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOiNmNzk0MjJ9LnN0MXtmaWxsOiMzZDNjM2J9PC9zdHlsZT48ZyBpZD0iTGF5ZXJfMV8xXyI+PHBhdGggY2xhc3M9InN0MCIgZD0iTTI2NS43IDg0TDI1NyA3M2gtMi43djE3LjdoMy4zdi0xMmw5LjMgMTJoMi4xVjczaC0zLjN2MTF6bS0zMi40LTguM2M0LjIgMCA1LjggMy4zIDUuOCA2LjNzLTEuNiA2LTUuOCA2LTUuNy0zLjEtNS44LTYgMS43LTYuMyA1LjgtNi4zem0wLTNjLTYuMSAwLTkuMSA0LjctOS4xIDkuMyAwIDQuNyAyLjkgOS4xIDkuMSA5LjFzOS00LjYgOS4xLTkuMi0zLTkuMi05LjEtOS4yem0tMjEuMiAxOFY3M2gtMy4zdjE3LjdoMy4zem0tMjMuNiAwaDMuM1Y3Nmg1LjZ2LTNoLTE0LjZ2M2g1LjZsLjEgMTQuN3ptLTE4LjktNi41SDE2M2wzLjMtNy42IDMuMyA3LjZ6bTIuOCA2LjVoMy42TDE2OC4yIDczaC0zLjZsLTggMTcuN2gzLjZsMS41LTMuM2g5LjNsMS40IDMuM3ptLTM4LTE0LjZoMy42YzMuOSAwIDUuNSAyLjggNS41IDUuNS4xIDIuOC0xLjUgNS44LTUuNSA1LjhoLTMuNlY3Ni4xem0zLjctMy4xaC02Ljl2MTcuN2g2LjljNi4yIDAgOC45LTQuNSA4LjktOXMtMi44LTguNy04LjktOC43em0tMjIuNCAxMUwxMDcgNzNoLTIuN3YxNy43aDMuM3YtMTJsOS4zIDEyaDIuMVY3M2gtMy4zdjExek04OC4yIDczdjEwLjJjMCAzLTEuNiA0LjktNC4zIDQuOXMtNC42LTEuNy00LjYtNC45VjczSDc2djEwLjFjMCA1LjMgMy42IDcuOSA3LjkgNy45IDQuNCAwIDcuNy0yLjcgNy43LTcuOVY3M2gtMy40em0tMzMgMi43YzQuMiAwIDUuOCAzLjMgNS44IDYuM3MtMS42IDYtNS44IDYtNS43LTMuMS01LjgtNiAxLjctNi4zIDUuOC02LjN6bTAtM2MtNi4xIDAtOS4xIDQuNy05LjEgOS4zczIuOSA5LjEgOS4xIDkuMSA5LTQuNiA5LjEtOS4yLTMtOS4yLTkuMS05LjJ6bS0yOS43IDE4di02LjVoOC45di0zLjFoLTguOXYtNC44aDkuNFY3M0gyMi4ydjE3LjZoMy4zeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNjkuNCA1NC40aC0yMi4ydi04LjloMjEuNHYtNi45aC0yMS40di05LjFoMjIuMnYtNy4yaC0yOS42djM5LjVoMjkuNnYtNy40em0tNDAtMjUuNmMtMy02LjEtOS40LTcuOC0xNS41LTcuOC03LjMgMC0xNS4zIDMuNC0xNS4zIDExLjUgMCA4LjkgNy40IDExIDE1LjUgMTIgNS4yLjYgOS4xIDIuMSA5LjEgNS44IDAgNC4zLTQuNCA1LjktOS4xIDUuOXMtOS40LTEuOS0xMS4xLTYuM2wtNi4yIDMuMmMyLjkgNy4yIDkuMSA5LjcgMTcuMiA5LjcgOC44IDAgMTYuNi0zLjggMTYuNi0xMi42IDAtOS40LTcuNy0xMS42LTE1LjktMTIuNi00LjctLjYtOC44LTEuNS04LjgtNSAwLTIuOSAyLjYtNS4yIDguMi01LjIgNC4zIDAgOCAyLjIgOS40IDQuNGw1LjktM3pNMTc2IDIyLjJjLTYuMi0uMS0xMi40IDAtMTguNiAwdjM5LjVoNy40VjUwLjFIMTc2YzE5LjQgMCAxOS40LTI3LjkgMC0yNy45em0tMTEuMSA3LjFIMTc2YzkuNSAwIDkuNSAxNCAwIDE0aC0xMS4ybC4xLTE0em0tMTggMzIuNVYyMi4yaC03LjR2MzkuNWw3LjQuMXptLTQ0LTM5LjZ2MzkuNWgyNy43di02LjloLTIwLjNWMjIuMmgtNy40ek05MC43IDUxLjdjLTIuNyAyLjUtNi4yIDQtOS45IDQtOS44IDAtMTMuNS02LjgtMTMuNi0xMy40czQuMS0xMy43IDEzLjYtMTMuN2MzLjUtLjEgNyAxLjMgOS41IDMuN2w1LTQuOGMtMy44LTMuOS05LjEtNi0xNC41LTYtMTQuMyAwLTIxIDEwLjUtMjAuOSAyMC44czYuMyAyMC4zIDIwLjkgMjAuM2M1LjYuMSAxMS0yIDE1LTUuOWwtNS4xLTV6bS0zOSAyLjdIMjkuNXYtOC45aDIxLjR2LTYuOUgyOS41di05LjFoMjIuMnYtNy4ySDIyLjJ2MzkuNWgyOS42bC0uMS03LjR6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTkuOCAxOC4yQzE4LjggNC4xIDM2LjktLjggNTIuMSA2bC0xLS43QzM1LjctNC42IDE1LjItLjEgNS4zIDE1LjNzLTUuNCAzNS45IDEwIDQ1LjhsMS4xLjZDMy44IDUwLjguOCAzMi4zIDkuOCAxOC4yeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yNzIuMiAyNi4xYzAtMi41IDIuMS00LjYgNC42LTQuNiAyLjUgMCA0LjYgMi4xIDQuNiA0LjYgMCAyLjUtMi4xIDQuNi00LjYgNC42LTIuNiAwLTQuNi0yLjEtNC42LTQuNnptOC42IDBjMC0yLjItMS44LTQuMS00LTQuMXMtNC4xIDEuOC00LjEgNC4xYzAgMi4yIDEuNyA0IDMuOSA0LjFoLjFjMi4zIDAgNC4xLTEuOCA0LjEtNC4xem0tNi0yLjVoMi4zYzEuMSAwIDEuOS41IDEuOSAxLjYgMCAuNy0uNCAxLjMtMS4xIDEuNWwxLjIgMS43aC0xLjRsLTEtMS41aC0uN3YxLjVoLTEuMWwtLjEtNC44em0yLjIgMi4zYy41IDAgLjgtLjMuOC0uN3MtLjMtLjctLjgtLjdoLTF2MS4zbDEgLjF6Ii8+PC9nPjwvc3ZnPg==" alt="Eclipse foundation Logo"/></a></div></div></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"3.9.2/vertx-config/java","title":"Vert.x Config","fallbackGitHubStars":null,"toc":"\u003cdiv id=\"toc\" class=\"toc\"\u003e\n\u003cdiv id=\"toctitle\"\u003eTable of Contents\u003c/div\u003e\n\u003cul class=\"sectlevel1\"\u003e\n\u003cli\u003e\u003ca href=\"#_concepts\"\u003eConcepts\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_the_config_retriever\"\u003eUsing the Config Retriever\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_overloading_rules\"\u003eOverloading rules\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_using_the_retrieve_configuration\"\u003eUsing the retrieve configuration\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_configuring_a_single_verticle\"\u003eConfiguring a single verticle\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_configuring_a_set_of_verticles\"\u003eConfiguring a set of verticles\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_configuring_vert_x_itself\"\u003eConfiguring Vert.x itself\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_propagating_configuration_changes_to_the_event_bus\"\u003ePropagating configuration changes to the event bus\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_available_configuration_stores\"\u003eAvailable configuration stores\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_structure_of_the_configuration\"\u003eStructure of the configuration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_file\"\u003eFile\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_json\"\u003eJSON\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_environment_variables\"\u003eEnvironment Variables\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_system_properties\"\u003eSystem Properties\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_http\"\u003eHTTP\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_event_bus\"\u003eEvent Bus\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_directory\"\u003eDirectory\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_properties_file_and_raw_data\"\u003eProperties file and raw data\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_listening_for_configuration_changes\"\u003eListening for configuration changes\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_retrieving_the_last_retrieved_configuration\"\u003eRetrieving the last retrieved configuration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_reading_configuration_as_a_stream\"\u003eReading configuration as a stream\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_processing_the_configuration\"\u003eProcessing the configuration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_retrieving_the_configuration_as_a_future\"\u003eRetrieving the configuration as a Future\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_extending_the_config_retriever\"\u003eExtending the Config Retriever\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_additional_formats\"\u003eAdditional formats\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_hocon_configuration_format\"\u003eHocon Configuration Format\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_yaml_configuration_format\"\u003eYaml Configuration Format\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_additional_stores\"\u003eAdditional stores\u003c/a\u003e\n\u003cul class=\"sectlevel2\"\u003e\n\u003cli\u003e\u003ca href=\"#_git_configuration_store\"\u003eGit Configuration Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_kubernetes_configmap_store\"\u003eKubernetes ConfigMap Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_redis_configuration_store\"\u003eRedis Configuration Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_zookeeper_configuration_store\"\u003eZookeeper Configuration Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_consul_configuration_store\"\u003eConsul Configuration Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_spring_config_server_store\"\u003eSpring Config Server Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#_vault_config_store\"\u003eVault Config Store\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e","contents":"\u003ch1\u003eVert.x Config\u003c/h1\u003e\n\n\u003cdiv id=\"preamble\"\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Config provides a way to configure your Vert.x application.\nIt:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eoffers multiple configuration syntaxes (JSON, properties, Yaml (extension), Hocon\n(extension)\u0026#8230;\u0026#8203;\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eoffers multiple configuration stores such as files, directories, HTTP, git (extension), Redis\n(extension), system properties and environment properties.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003elets you define the processing order and overloading\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003esupports runtime reconfiguration\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_concepts\"\u003e\u003ca class=\"anchor\" href=\"#_concepts\"\u003e\u003c/a\u003eConcepts\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe library is structured around:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ea*Config Retriever\u003cstrong\u003e instantiated and used by the Vert.x application. It\nconfigures a set of configuration store\n\u003c/strong\u003eConfiguration store** defines a location from where the configuration data is read and also a format (JSON by default)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe configuration is retrieved as a JSON Object.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_the_config_retriever\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_config_retriever\"\u003e\u003c/a\u003eUsing the Config Retriever\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Config Retriever, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\n----\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce done, you first need to instantiate the \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigRetriever retriever = ConfigRetriever.create(vertx);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBy default, the Config Retriever is configured with the following stores (in\nthis order):\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eThe Vert.x verticle \u003ccode\u003econfig()\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe system properties\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe environment variables\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eA \u003ccode\u003econf/config.json\u003c/code\u003e file. This path can be overridden using the \u003ccode\u003evertx-config-path\u003c/code\u003e system property or\n\u003ccode\u003eVERTX_CONFIG_PATH\u003c/code\u003e environment variable.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure your own stores:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigStoreOptions httpStore = new ConfigStoreOptions()\n  .setType(\"http\")\n  .setConfig(new JsonObject()\n    .put(\"host\", \"localhost\").put(\"port\", 8080).put(\"path\", \"/conf\"));\n\nConfigStoreOptions fileStore = new ConfigStoreOptions()\n  .setType(\"file\")\n  .setConfig(new JsonObject().put(\"path\", \"my-config.json\"));\n\nConfigStoreOptions sysPropsStore = new ConfigStoreOptions().setType(\"sys\");\n\n\nConfigRetrieverOptions options = new ConfigRetrieverOptions()\n  .addStore(httpStore).addStore(fileStore).addStore(sysPropsStore);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx, options);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eMore details about the overloading rules and available stores are available below. Each store can be marked as\n\u003ccode\u003eoptional\u003c/code\u003e. If a failure is caught while retrieving (or processing) the configuration from an optional store, the failure\nis logged, but the processing does not fail. Instead, an empty JSON object is returned (\u003ccode\u003e{}\u003c/code\u003e). To mark a store as\noptional, use the \u003ccode\u003eoptional\u003c/code\u003e attribute:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigStoreOptions fileStore = new ConfigStoreOptions()\n  .setType(\"file\")\n  .setOptional(true)\n  .setConfig(new JsonObject().put(\"path\", \"my-config.json\"));\nConfigStoreOptions sysPropsStore = new ConfigStoreOptions().setType(\"sys\");\n\nConfigRetrieverOptions options = new ConfigRetrieverOptions().addStore(fileStore).addStore(sysPropsStore);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx, options);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce you have the instance of the Config Retriever, \u003cem\u003eretrieve\u003c/em\u003e the configuration\nas follows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eretriever.getConfig(ar -\u0026gt; {\n  if (ar.failed()) {\n    // Failed to retrieve the configuration\n  } else {\n    JsonObject config = ar.result();\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_overloading_rules\"\u003e\u003ca class=\"anchor\" href=\"#_overloading_rules\"\u003e\u003c/a\u003eOverloading rules\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe declaration order of the configuration store is important as it defines the\noverloading. For conflicting key, configuration stores arriving \u003cem\u003elast\u003c/em\u003e overloads the\nvalue provided by the previous configuration stores. Let\u0026#8217;s take an example. We have 2\nconfiguration stores:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eA\u003c/code\u003e provides \u003ccode\u003e{a:value, b:1}\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eB\u003c/code\u003e provides \u003ccode\u003e{a:value2, c:2}\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eDeclared in this order (A, B), the resulting configuration would be:\n\u003ccode\u003e{a:value2, b:1, c:2}\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you declare them in the reverse order (B, A), you will get: \u003ccode\u003e{a:value, b:1, c:2}\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_using_the_retrieve_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_retrieve_configuration\"\u003e\u003c/a\u003eUsing the retrieve configuration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe retrieve configuration allows:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003econfiguring verticles,\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003econfigure ports, clients, locations and so on,\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003econfiguring Vert.x itself\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis section gives a few examples of usage.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_configuring_a_single_verticle\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_a_single_verticle\"\u003e\u003c/a\u003eConfiguring a single verticle\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe following example can be placed in the \u003ccode\u003estart\u003c/code\u003e method of a verticle. It retrieves the configuration (using the\ndefault stores), and configure an HTTP server with the content of the configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigRetriever retriever = ConfigRetriever.create(vertx);\nretriever.getConfig(json -\u0026gt; {\n  JsonObject result = json.result();\n\n  vertx.createHttpServer()\n    .requestHandler(req -\u0026gt; result.getString(\"message\"))\n    .listen(result.getInteger(\"port\"));\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_configuring_a_set_of_verticles\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_a_set_of_verticles\"\u003e\u003c/a\u003eConfiguring a set of verticles\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe following example configures 2 verticles using the configurations contained in the \u003ccode\u003everticles.json\u003c/code\u003e file:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()\n  .addStore(new ConfigStoreOptions().setType(\"file\").setConfig(new JsonObject().put(\"path\", \"verticles.json\"))));\n\nretriever.getConfig(json -\u0026gt; {\n  JsonObject a = json.result().getJsonObject(\"a\");\n  JsonObject b = json.result().getJsonObject(\"b\");\n  vertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(a));\n  vertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(b));\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_configuring_vert_x_itself\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_vert_x_itself\"\u003e\u003c/a\u003eConfiguring Vert.x itself\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also configure Vert.x directly. For this, you need a temporary Vert.x instance used to retrieve the\nconfiguration. Then the actual instance is created:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eVertx vertx = Vertx.vertx();\n// Create the config retriever\nConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()\n  .addStore(new ConfigStoreOptions().setType(\"file\").setConfig(new JsonObject().put(\"path\", \"vertx.json\"))));\n\n// Retrieve the configuration\nretriever.getConfig(json -\u0026gt; {\n  JsonObject result = json.result();\n  // Close the vert.x instance, we don't need it anymore.\n  vertx.close();\n\n  // Create a new Vert.x instance using the retrieve configuration\n  VertxOptions options = new VertxOptions(result);\n  Vertx newVertx = Vertx.vertx(options);\n\n  // Deploy your verticle\n  newVertx.deployVerticle(GreetingVerticle.class.getName(), new DeploymentOptions().setConfig(result.getJsonObject(\"a\")));\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_propagating_configuration_changes_to_the_event_bus\"\u003e\u003ca class=\"anchor\" href=\"#_propagating_configuration_changes_to_the_event_bus\"\u003e\u003c/a\u003ePropagating configuration changes to the event bus\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Config notifies you when the configuration changes. If you want to react to this event, you need to implement\nthe reaction yourself. For instance, you can un-deploy and redeploy verticle or send the new configuration on the event bus.\nThe following example shows this latter case. It sends the new configuration on the event bus. Interested verticles can\nlisten for this address and update themselves:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode\u003eConfigRetriever retriever = ConfigRetriever.create(vertx, new ConfigRetrieverOptions()\n  .addStore(new ConfigStoreOptions().setType(\"file\").setConfig(new JsonObject().put(\"path\", \"verticles.json\"))));\n\nretriever.getConfig(json -\u0026gt; {\n  //...\n});\n\nretriever.listen(change -\u0026gt; {\n  JsonObject json = change.getNewConfiguration();\n  vertx.eventBus().publish(\"new-configuration\", json);\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_available_configuration_stores\"\u003e\u003ca class=\"anchor\" href=\"#_available_configuration_stores\"\u003e\u003c/a\u003eAvailable configuration stores\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Config Retriever provides a set of configuration stores and formats.\nMore are available as extensions, and you can also implement your own.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_structure_of_the_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_structure_of_the_configuration\"\u003e\u003c/a\u003eStructure of the configuration\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eEach declared data store must specify the \u003ccode\u003etype\u003c/code\u003e. It can also define the \u003ccode\u003eformat\u003c/code\u003e. If\nnot set JSON is used.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSome configurations tore requires additional configuration (such a path\u0026#8230;\u0026#8203;). This\nconfiguration is passed as a Json Object using \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigStoreOptions.html#setConfig-io.vertx.core.json.JsonObject-\"\u003esetConfig\u003c/a\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_file\"\u003e\u003ca class=\"anchor\" href=\"#_file\"\u003e\u003c/a\u003eFile\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store just read the configuration from a file. It supports all\nsupported formats.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions file = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"file\"\u003c/span\u003e)\n  .setFormat(\u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"path-to-file.properties\"\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003epath\u003c/code\u003e configuration is required.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_json\"\u003e\u003ca class=\"anchor\" href=\"#_json\"\u003e\u003c/a\u003eJSON\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe JSON configuration store serves the given JSON config as it is.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions json = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"json\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"key\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"value\"\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe only supported format for this configuration store is JSON.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_environment_variables\"\u003e\u003ca class=\"anchor\" href=\"#_environment_variables\"\u003e\u003c/a\u003eEnvironment Variables\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store transforms environment variables to a JSON Object contributed to\nthe global configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions json = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"env\"\u003c/span\u003e);\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store does not support the \u003ccode\u003eformat\u003c/code\u003e configuration. By default, the retrieved value is\ntransformed into JSON compatible structures (number, string, boolean, JSON object and JSON array). To avoid this\nconversion, configure the \u003ccode\u003eraw-data\u003c/code\u003e attribute:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions json = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"env\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"raw-data\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the \u003ccode\u003eraw-data\u003c/code\u003e attribute (\u003ccode\u003efalse\u003c/code\u003e by default). If \u003ccode\u003eraw-data\u003c/code\u003e is \u003ccode\u003etrue\u003c/code\u003e no attempts to convert\nvalues is made, and you\u0026#8217;ll be able to get raw values using \u003ccode\u003econfig.getString(key)\u003c/code\u003e. It is useful when manipulating\nlarge integers.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you want to select the set of keys to import, use the \u003ccode\u003ekeys\u003c/code\u003e attributes. It filters out all non selected keys. Keys\nmust be listed individually:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions json = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"env\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"keys\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-string\"\u003e\"SERVICE1_HOST\"\u003c/span\u003e).add(\u003cspan class=\"hljs-string\"\u003e\"SERVICE2_HOST\"\u003c/span\u003e)));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_system_properties\"\u003e\u003ca class=\"anchor\" href=\"#_system_properties\"\u003e\u003c/a\u003eSystem Properties\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store transforms system properties to a JSON Object contributed to the\nglobal configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions json = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"sys\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"cache\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"false\"\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store does not support the \u003ccode\u003eformat\u003c/code\u003e configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure the \u003ccode\u003ecache\u003c/code\u003e attribute (\u003ccode\u003etrue\u003c/code\u003e by default) let you decide whether or\nnot it caches the system properties on the first access and does not reload them.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also configure the \u003ccode\u003eraw-data\u003c/code\u003e attribute (\u003ccode\u003efalse\u003c/code\u003e by default). If \u003ccode\u003eraw-data\u003c/code\u003e is \u003ccode\u003etrue\u003c/code\u003e no attempts to convert\nvalues is made, and you\u0026#8217;ll be able to get raw values using \u003ccode\u003econfig.getString(key)\u003c/code\u003e. It is useful when manipulating\nlarge integers.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_http\"\u003e\u003ca class=\"anchor\" href=\"#_http\"\u003e\u003c/a\u003eHTTP\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store retrieves the configuration from an HTTP location. It can use\nany supported format.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions http = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"http\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"port\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"/A\"\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt creates a Vert.x HTTP Client with the store configuration (see next snippet). To\nease the configuration; you can also configure the \u003ccode\u003ehost\u003c/code\u003e, \u003ccode\u003eport\u003c/code\u003e and \u003ccode\u003epath\u003c/code\u003e with the\n\u003ccode\u003ehost\u003c/code\u003e, \u003ccode\u003eport\u003c/code\u003e and \u003ccode\u003epath\u003c/code\u003e\nproperties.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions http = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"http\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"defaultHost\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"defaultPort\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8080\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"ssl\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"/A\"\u003c/span\u003e));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_event_bus\"\u003e\u003ca class=\"anchor\" href=\"#_event_bus\"\u003e\u003c/a\u003eEvent Bus\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis event bus configuration store receives the configuration from the event bus. This\nstores let you distribute your configuration among your local and distributed components.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions eb = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"event-bus\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"address\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"address-getting-the-conf\"\u003c/span\u003e)\n  );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store supports any format.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_directory\"\u003e\u003ca class=\"anchor\" href=\"#_directory\"\u003e\u003c/a\u003eDirectory\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store is similar to the \u003ccode\u003efile\u003c/code\u003e configuration store, but instead of\nreading a single file, read several files from a directory.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThis configuration store configuration requires:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ea \u003ccode\u003epath\u003c/code\u003e - the root directory in which files are located\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eat least one \u003ccode\u003efileset\u003c/code\u003e - an object to select the files\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003efor properties file, you can indicate if you want to disable the type conversion using the \u003ccode\u003eraw-data\u003c/code\u003e attribute\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eEach \u003ccode\u003efileset\u003c/code\u003e contains:\n* a \u003ccode\u003epattern\u003c/code\u003e : a Ant-style pattern to select files. The pattern is applied on the\nrelative path of the files from the current working directory.\n* an optional \u003ccode\u003eformat\u003c/code\u003e indicating the format of the files (each fileset can use a\ndifferent format, BUT files in a fileset must share the same format).\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions dir = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"directory\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"config\"\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"filesets\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray()\n      .add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"pattern\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"dir/*json\"\u003c/span\u003e))\n      .add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"pattern\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"dir/*.properties\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e))\n    ));\n\nConfigStoreOptions dirWithRawData = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"directory\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"config\"\u003c/span\u003e)\n    .put(\u003cspan class=\"hljs-string\"\u003e\"filesets\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray()\n      .add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"pattern\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"dir/*json\"\u003c/span\u003e))\n      .add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"pattern\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"dir/*.properties\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"format\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e).put(\u003cspan class=\"hljs-string\"\u003e\"raw-data\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e))\n    ));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_properties_file_and_raw_data\"\u003e\u003ca class=\"anchor\" href=\"#_properties_file_and_raw_data\"\u003e\u003c/a\u003eProperties file and raw data\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eVert.x Config can read properties file. When reading such a file, you can pass the \u003ccode\u003eraw-data\u003c/code\u003e attribute to\nindicate to Vert.x to not attempt to convert values. It is useful when manipulating large integers. Values can be\nretrieved using \u003ccode\u003econfig.getString(key)\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions propertyWithRawData = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setFormat(\u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e)\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"file\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"raw.properties\"\u003c/span\u003e).put(\u003cspan class=\"hljs-string\"\u003e\"raw-data\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e)\n  );\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eSome properties configuration maybe is hierarchical in nature.\nWhen reading such a file, you can pass the \u003ccode\u003ehierarchical\u003c/code\u003e attribute to\nindicate to Vert.x to convert the configuration to a json object while maintaining this hierarchy,\nin contrast to the previous method with a flat structure.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eExample:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"literalblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre\u003eserver.host=localhost\nserver.port=8080\nmultiple.values=1,2,3\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eGet values:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions propertyWitHierarchical = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setFormat(\u003cspan class=\"hljs-string\"\u003e\"properties\"\u003c/span\u003e)\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"file\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"hierarchical.properties\"\u003c/span\u003e).put(\u003cspan class=\"hljs-string\"\u003e\"hierarchical\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e)\n  );\nConfigRetrieverOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions()\n  .addStore(propertyWitHierarchical);\n\nConfigRetriever configRetriever = ConfigRetriever.create(Vertx.vertx(), options);\n\nconfigRetriever.configStream().handler(config -\u0026gt; {\n  String host = config.getJsonObject(\u003cspan class=\"hljs-string\"\u003e\"server\"\u003c/span\u003e).getString(\u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e);\n  Integer port = config.getJsonObject(\u003cspan class=\"hljs-string\"\u003e\"server\"\u003c/span\u003e).getInteger(\u003cspan class=\"hljs-string\"\u003e\"port\"\u003c/span\u003e);\n  JsonArray multiple = config.getJsonObject(\u003cspan class=\"hljs-string\"\u003e\"multiple\"\u003c/span\u003e).getJsonArray(\u003cspan class=\"hljs-string\"\u003e\"values\"\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003eint\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; multiple.size(); i++) {\n    Integer value = multiple.getInteger(i);\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_listening_for_configuration_changes\"\u003e\u003ca class=\"anchor\" href=\"#_listening_for_configuration_changes\"\u003e\u003c/a\u003eListening for configuration changes\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Configuration Retriever periodically retrieve the configuration, and if the outcome\nis different from the current one, your application can be reconfigured. By default, the\nconfiguration is reloaded every 5 seconds.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigRetrieverOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions()\n  .setScanPeriod(\u003cspan class=\"hljs-number\"\u003e2000\u003c/span\u003e)\n  .addStore(store1)\n  .addStore(store2);\n\nConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);\nretriever.getConfig(json -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Initial retrieval of the configuration\u003c/span\u003e\n});\n\nretriever.listen(change -\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// Previous configuration\u003c/span\u003e\n  JsonObject previous = change.getPreviousConfiguration();\n  \u003cspan class=\"hljs-comment\"\u003e// New configuration\u003c/span\u003e\n  JsonObject conf = change.getNewConfiguration();\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_retrieving_the_last_retrieved_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_retrieving_the_last_retrieved_configuration\"\u003e\u003c/a\u003eRetrieving the last retrieved configuration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can retrieve the last retrieved configuration without \"waiting\" to be retrieved\nusing:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject last = retriever.getCachedConfig();\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_reading_configuration_as_a_stream\"\u003e\u003ca class=\"anchor\" href=\"#_reading_configuration_as_a_stream\"\u003e\u003c/a\u003eReading configuration as a stream\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e provide a way to access the stream of configuration.\nIt\u0026#8217;s a \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/ReadStream.html\"\u003eReadStream\u003c/a\u003e\u003c/code\u003e of \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/json/JsonObject.html\"\u003eJsonObject\u003c/a\u003e\u003c/code\u003e. By registering the right\nset of handlers you are notified:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ewhen a new configuration is retrieved\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ewhen an error occur while retrieving a configuration\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ewhen the configuration retriever is closed (the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/streams/ReadStream.html#endHandler-io.vertx.core.Handler-\"\u003eendHandler\u003c/a\u003e\u003c/code\u003e is called).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigRetrieverOptions options = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions()\n  .setScanPeriod(\u003cspan class=\"hljs-number\"\u003e2000\u003c/span\u003e)\n  .addStore(store1)\n  .addStore(store2);\n\nConfigRetriever retriever = ConfigRetriever.create(Vertx.vertx(), options);\nretriever.configStream()\n  .endHandler(v -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// retriever closed\u003c/span\u003e\n  })\n  .exceptionHandler(t -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// an error has been caught while retrieving the configuration\u003c/span\u003e\n  })\n  .handler(conf -\u0026gt; {\n    \u003cspan class=\"hljs-comment\"\u003e// the configuration\u003c/span\u003e\n  });\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_processing_the_configuration\"\u003e\u003ca class=\"anchor\" href=\"#_processing_the_configuration\"\u003e\u003c/a\u003eProcessing the configuration\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can configure a \u003cem\u003eprocessor\u003c/em\u003e that can validate and update the configuration. This is done using the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html#setConfigurationProcessor-java.util.function.Function-\"\u003esetConfigurationProcessor\u003c/a\u003e\u003c/code\u003e method.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe prcessing must not return \u003ccode\u003enull\u003c/code\u003e. It takes the retrieved configuration and returns the processed one. If the processor\ndoes not update the configuration, it must return the input configuration. If the processor can throw an exception (for\nexample for validation purpose).\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_retrieving_the_configuration_as_a_future\"\u003e\u003ca class=\"anchor\" href=\"#_retrieving_the_configuration_as_a_future\"\u003e\u003c/a\u003eRetrieving the configuration as a Future\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e provide a way to retrieve the configuration as a\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/core/Future.html\"\u003eFuture\u003c/a\u003e\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eFuture\u0026lt;JsonObject\u0026gt; future = ConfigRetriever.getConfigAsFuture(retriever);\nfuture.setHandler(ar -\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (ar.failed()) {\n    \u003cspan class=\"hljs-comment\"\u003e// Failed to retrieve the configuration\u003c/span\u003e\n  } \u003cspan class=\"hljs-keyword\"\u003eelse\u003c/span\u003e {\n    JsonObject config = ar.result();\n  }\n});\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_extending_the_config_retriever\"\u003e\u003ca class=\"anchor\" href=\"#_extending_the_config_retriever\"\u003e\u003c/a\u003eExtending the Config Retriever\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can extend the configuration by implementing:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/spi/ConfigProcessor.html\"\u003eConfigProcessor\u003c/a\u003e\u003c/code\u003e SPI to add support for a\nformat\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/spi/ConfigStoreFactory.html\"\u003eConfigStoreFactory\u003c/a\u003e\u003c/code\u003e SPI to add support for\nconfiguration store (place from where the configuration data is retrieved)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_additional_formats\"\u003e\u003ca class=\"anchor\" href=\"#_additional_formats\"\u003e\u003c/a\u003eAdditional formats\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBesides of the out of the box format supported by this library, Vert.x Config provides additional\nformats you can use in your application.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_hocon_configuration_format\"\u003e\u003ca class=\"anchor\" href=\"#_hocon_configuration_format\"\u003e\u003c/a\u003eHocon Configuration Format\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Hocon Configuration Format extends the Vert.x Configuration Retriever and provides the\nsupport for the HOCON(\u003ca href=\"https://github.com/typesafehub/config/blob/master/HOCON.md\" class=\"bare\"\u003ehttps://github.com/typesafehub/config/blob/master/HOCON.md\u003c/a\u003e) format.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt supports includes, json, properties, macros\u0026#8230;\u0026#8203;\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_hocon_configuration_format\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_hocon_configuration_format\"\u003e\u003c/a\u003eUsing the Hocon Configuration Format\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Hocon Configuration Format, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-hocon\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-hocon:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_to_use_hocon\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_to_use_hocon\"\u003e\u003c/a\u003eConfiguring the store to use HOCON\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this format:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"file\"\u003c/span\u003e)\n  .setFormat(\u003cspan class=\"hljs-string\"\u003e\"hocon\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-config.conf\"\u003c/span\u003e)\n  );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou just need to set \u003ccode\u003eformat\u003c/code\u003e to \u003ccode\u003ehocon\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_yaml_configuration_format\"\u003e\u003ca class=\"anchor\" href=\"#_yaml_configuration_format\"\u003e\u003c/a\u003eYaml Configuration Format\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Yaml Configuration Format extends the Vert.x Configuration Retriever and provides the\nsupport for the Yaml Configuration Format format.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_yaml_configuration_format\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_yaml_configuration_format\"\u003e\u003c/a\u003eUsing the Yaml Configuration Format\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Yaml Configuration Format, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-yaml\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-yaml:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_to_use_yaml\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_to_use_yaml\"\u003e\u003c/a\u003eConfiguring the store to use YAML\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this format:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"file\"\u003c/span\u003e)\n  .setFormat(\u003cspan class=\"hljs-string\"\u003e\"yaml\"\u003c/span\u003e)\n  .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-config.yaml\"\u003c/span\u003e)\n  );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou just need to set \u003ccode\u003eformat\u003c/code\u003e to \u003ccode\u003eyaml\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect1\"\u003e\n\u003ch2 id=\"_additional_stores\"\u003e\u003ca class=\"anchor\" href=\"#_additional_stores\"\u003e\u003c/a\u003eAdditional stores\u003c/h2\u003e\n\u003cdiv class=\"sectionbody\"\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eBesides of the out of the box stores supported by this library, Vert.x Config provides additional\nstores you can use in your application.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_git_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_git_configuration_store\"\u003e\u003c/a\u003eGit Configuration Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Git Configuration Store is an extension to the Vert.x Configuration Retriever to\nretrieve configuration from a Git repository.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_git_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_git_configuration_store\"\u003e\u003c/a\u003eUsing the Git Configuration Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Git Configuration, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-git\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-git:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions git = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"git\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\"url\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"https://github.com/cescoffier/vertx-config-test.git\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"local\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"filesets\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonArray().add(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"pattern\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"*.json\"\u003c/span\u003e))));\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(git));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe configuration requires:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003eurl\u003c/code\u003e of the repository\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003epath\u003c/code\u003e where the repository is cloned (local directory)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003euser\u003c/code\u003e for private repository (no authentication by default)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003epassword\u003c/code\u003e of the user\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ethe \u003ccode\u003eidRsaKeyPath\u003c/code\u003e for private repository and requires ssh uri\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eat least \u003ccode\u003efileset\u003c/code\u003e indicating the set of files to read (same behavior as the\ndirectory configuration store).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can also configure the \u003ccode\u003ebranch\u003c/code\u003e (\u003ccode\u003emaster\u003c/code\u003e by default) to use and the name of the\n\u003ccode\u003eremote\u003c/code\u003e repository (\u003ccode\u003eorigin\u003c/code\u003e by default).\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_how_does_it_works\"\u003e\u003ca class=\"anchor\" href=\"#_how_does_it_works\"\u003e\u003c/a\u003eHow does it works\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the local \u003ccode\u003epath\u003c/code\u003e does not exist, the configuration store clones the repository into\nthis directory. Then it reads the file matching the different file sets.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIt the local \u003ccode\u003epath\u003c/code\u003e exist, it tried to update it (it switches branch if needed)). If the\nupdate failed the configuration retrieval fails.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003ePeriodically, the repositories is updated to check if the configuration has been updated.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_kubernetes_configmap_store\"\u003e\u003ca class=\"anchor\" href=\"#_kubernetes_configmap_store\"\u003e\u003c/a\u003eKubernetes ConfigMap Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Kubernetes ConfigMap Store extends the Vert.x Configuration Retriever and provides support Kubernetes Config Map\nand Secrets. So, configuration is retrieved by reading the config map or the secrets.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_kubernetes_configmap_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_kubernetes_configmap_store\"\u003e\u003c/a\u003eUsing the Kubernetes ConfigMap Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Kubernetes ConfigMap Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-kubernetes-configmap\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-kubernetes-configmap:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_2\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_2\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"configmap\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\"namespace\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-project-namespace\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"configmap-name\"\u003c/span\u003e)\n    );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou need to configure the store to find the right configmap. this is done with:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003enamespace\u003c/code\u003e - the project namespace, \u003ccode\u003edefault\u003c/code\u003e by default. If the \u003ccode\u003eKUBERNETES_NAMESPACE\u003c/code\u003e ENV variable is set, it\nuses this value.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ename\u003c/code\u003e - the name of the config map\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eoptional\u003c/code\u003e - whether or not the config map is optional (\u003ccode\u003etrue\u003c/code\u003e by default)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the config map is composed by several element, you can use the \u003ccode\u003ekey\u003c/code\u003e parameter to tell\nwhich \u003ccode\u003ekey\u003c/code\u003e is read\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe application must have the permissions to read the config map.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo read data from a secret, just configure the \u003ccode\u003esecret\u003c/code\u003e property to \u003ccode\u003etrue\u003c/code\u003e:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"configmap\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\"namespace\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-project-namespace\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-secret\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"secret\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e)\n    );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the config map is not available, an empty JSON object is passed as configuration chunk. To disable this\nbehavior and explicitly fail, you can set the \u003ccode\u003eoptional\u003c/code\u003e configuration to \u003ccode\u003efalse\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_redis_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_redis_configuration_store\"\u003e\u003c/a\u003eRedis Configuration Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Redis Configuration Store extends the Vert.x Configuration Retriever and provides the\nway to retrieve configuration from a Redis server.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_redis_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_redis_configuration_store\"\u003e\u003c/a\u003eUsing the Redis Configuration Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Redis Configuration Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-redis\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-redis:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_3\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_3\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"redis\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"port\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6379\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"key\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"my-configuration\"\u003c/span\u003e)\n    );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe store configuration is used to create an instance of\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/redis/RedisClient.html\"\u003eRedisClient\u003c/a\u003e\u003c/code\u003e. check the documentation of the Vert.x Redis Client\nfor further details.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn addition, you can set the \u003ccode\u003ekey\u003c/code\u003e instructing the store in which \u003cem\u003efield\u003c/em\u003e the configuration\nis stored. \u003ccode\u003econfiguration\u003c/code\u003e is used by default.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe created Redis client retrieves the configuration using the \u003ccode\u003eHGETALL\u003c/code\u003e configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_zookeeper_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_zookeeper_configuration_store\"\u003e\u003c/a\u003eZookeeper Configuration Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Zookeeper Configuration Store extends the Vert.x Configuration Retriever and provides the\nway to retrieve configuration from a Zookeeper server. It uses Apache Curator as client.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_zookeeper_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_zookeeper_configuration_store\"\u003e\u003c/a\u003eUsing the Zookeeper Configuration Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Redis Configuration Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-zookeeper\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-zookeeper:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_4\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_4\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"zookeeper\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n        .put(\u003cspan class=\"hljs-string\"\u003e\"connection\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost:2181\"\u003c/span\u003e)\n        .put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"/path/to/my/conf\"\u003c/span\u003e)\n    );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe store configuration is used to configure the Apache Curator client and the \u003cem\u003epath\u003c/em\u003e of the Zookeeper node\ncontaining the configuration. Notice that the format of the configuration can be JSON, or any supported format.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe configuration requires the \u003ccode\u003econfiguration\u003c/code\u003e attribute indicating the connection \u003cem\u003estring\u003c/em\u003e of the Zookeeper\nserver, and the \u003ccode\u003epath\u003c/code\u003e attribute indicating the path of the node containing the configuration.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIn addition you can configure:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003emaxRetries\u003c/code\u003e: the number of connection attempt, 3 by default\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ebaseSleepTimeBetweenRetries\u003c/code\u003e: the amount of milliseconds to wait between retries (exponential backoff strategy).\n1000 ms by default.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_consul_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_consul_configuration_store\"\u003e\u003c/a\u003eConsul Configuration Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Consul Configuration Store extends the Vert.x Configuration Retriever and provides the\nway to retrieve configuration from a \u003ca href=\"https://www.consul.io\"\u003eConsul\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_consul_configuration_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_consul_configuration_store\"\u003e\u003c/a\u003eUsing the Consul Configuration Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Consul Configuration Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-consul\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-consul:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_5\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_5\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"consul\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n      .put(\u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"localhost\"\u003c/span\u003e)\n      .put(\u003cspan class=\"hljs-string\"\u003e\"port\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8500\u003c/span\u003e)\n      .put(\u003cspan class=\"hljs-string\"\u003e\"prefix\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"foo\"\u003c/span\u003e)\n    );\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe store configuration is used to create an instance of\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/ext/consul/ConsulClient.html\"\u003eConsulClient\u003c/a\u003e\u003c/code\u003e. Check the documentation of the Vert.x Consul Client\nfor further details. And this is the parameters specific to the Consul Configuration Store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"dlist\"\u003e\n\u003cdl\u003e\n\u003cdt class=\"hdlist1\"\u003e\u003ccode\u003eprefix\u003c/code\u003e\u003c/dt\u003e\n\u003cdd\u003e\n\u003cp\u003eA prefix that will not be taken into account when building the configuration tree. Defaults to empty.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"hdlist1\"\u003e\u003ccode\u003edelimiter\u003c/code\u003e\u003c/dt\u003e\n\u003cdd\u003e\n\u003cp\u003eSymbol that used to split keys in the Consul storage to obtain levels in the configuration tree. Defaults to \"/\".\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_spring_config_server_store\"\u003e\u003ca class=\"anchor\" href=\"#_spring_config_server_store\"\u003e\u003c/a\u003eSpring Config Server Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Spring Config Server Store extends the Vert.x Configuration Retriever and provides the\na way to retrieve configuration from a Spring Server.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_spring_config_server_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_spring_config_server_store\"\u003e\u003c/a\u003eUsing the Spring Config Server Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Spring Config Server Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-spring-config-server\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-spring-config-server:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_6\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_6\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n    .setType(\u003cspan class=\"hljs-string\"\u003e\"spring-config-server\"\u003c/span\u003e)\n    .setConfig(\u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject().put(\u003cspan class=\"hljs-string\"\u003e\"url\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"http://localhost:8888/foo/development\"\u003c/span\u003e));\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n    \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eConfigurable attributes are:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003eurl\u003c/code\u003e - the \u003ccode\u003eurl\u003c/code\u003e to retrieve the configuration (mandatory), supports two type of formats:\u003c/p\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/{application}/{environment}\u003c/code\u003e which produces response with separated propertySources\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003e/{application}-{environment}.json\u003c/code\u003e which produces response as JSON with unique fields and resolved Spring placeholders\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003etimeout\u003c/code\u003e - the timeout (in milliseconds) to retrieve the configuration, 3000 by default\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003euser\u003c/code\u003e - the \u003ccode\u003euser\u003c/code\u003e (no authentication by default)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003epassword\u003c/code\u003e - the \u003ccode\u003epassword\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ccode\u003ehttpClientConfiguration\u003c/code\u003e - the configuration of the underlying HTTP client\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect2\"\u003e\n\u003ch3 id=\"_vault_config_store\"\u003e\u003ca class=\"anchor\" href=\"#_vault_config_store\"\u003e\u003c/a\u003eVault Config Store\u003c/h3\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe Vault Store extends the Vert.x Configuration Retriever and provides support for Vault (\u003ca href=\"https://www.vaultproject.io/\" class=\"bare\"\u003ehttps://www.vaultproject.io/\u003c/a\u003e).\nSo, configuration (secrets) is retrieved from Vault.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"quoteblock\"\u003e\n\u003cblockquote\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe secrets engines supported by this store are Vault Key/Value version 1 and version 2 engines (\u003ca href=\"https://www.vaultproject.io/docs/secrets/kv/index.html\" class=\"bare\"\u003ehttps://www.vaultproject.io/docs/secrets/kv/index.html\u003c/a\u003e). Other secrets engine are not supported.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/blockquote\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_the_vault_config_store\"\u003e\u003ca class=\"anchor\" href=\"#_using_the_vault_config_store\"\u003e\u003c/a\u003eUsing the Vault Config Store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Vault Config Store, add the following dependency to the\n\u003cem\u003edependencies\u003c/em\u003e section of your build descriptor:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eMaven (in your \u003ccode\u003epom.xml\u003c/code\u003e):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-xml\" data-lang=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config-vault\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003eio.vertx\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003egroupId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003evertx-config\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eartifactId\u003c/span\u003e\u0026gt;\u003c/span\u003e\n \u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e3.9.2\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003eversion\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003edependency\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"ulist\"\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGradle (in your \u003ccode\u003ebuild.gradle\u003c/code\u003e file):\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-groovy\" data-lang=\"groovy\"\u003ecompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config:3.9.2'\u003c/span\u003e\ncompile \u003cspan class=\"hljs-string\"\u003e'io.vertx:vertx-config-vault:3.9.2'\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_configuring_the_store_7\"\u003e\u003ca class=\"anchor\" href=\"#_configuring_the_store_7\"\u003e\u003c/a\u003eConfiguring the store\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eOnce added to your classpath or dependencies, you need to configure the\n\u003ccode\u003e\u003ca href=\"../../apidocs/io/vertx/config/ConfigRetriever.html\"\u003eConfigRetriever\u003c/a\u003e\u003c/code\u003e to use this store:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eTo use the Vault config store, set the \u003ccode\u003etype\u003c/code\u003e to \u003ccode\u003evault\u003c/code\u003e. The configuration is provided as Json. It configures the\naccess to Vault, authentication and the path of the secret to retrieve:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  .put(\u003cspan class=\"hljs-string\"\u003e\"host\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"127.0.0.1\"\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// The host name\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"port\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8200\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// The port\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"ssl\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e); \u003cspan class=\"hljs-comment\"\u003e// Whether or not SSL is used (disabled by default)\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Certificates\u003c/span\u003e\nPemKeyCertOptions certs = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PemKeyCertOptions()\n  .addCertPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/client-cert.pem\"\u003c/span\u003e)\n  .addKeyPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/client-privatekey.pem\"\u003c/span\u003e);\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"pemKeyCertOptions\"\u003c/span\u003e, certs.toJson());\n\n\u003cspan class=\"hljs-comment\"\u003e// Truststore\u003c/span\u003e\nJksOptions jks = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JksOptions()\n  .setPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/truststore.jks\"\u003c/span\u003e);\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"trustStoreOptions\"\u003c/span\u003e, jks.toJson());\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));}\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003evault_config\u003c/code\u003e object can contain the HTTP client / Web client configuration such as trust stores, timeout,\ncertificates, port and host. The \u003ccode\u003epath\u003c/code\u003e and \u003ccode\u003ehost\u003c/code\u003e entries are mandatory. The \u003ccode\u003epath\u003c/code\u003e indicates the secret to\nretrieve. The \u003ccode\u003ehost\u003c/code\u003e is the hostname of the Vault server. By default the port 8200 is used. SSL is disabled by\ndefault, but you should enable it for production settings.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThen, you need to use one of the following method to configure the token to use or the authentication mechanism.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_an_existing_token\"\u003e\u003ca class=\"anchor\" href=\"#_using_an_existing_token\"\u003e\u003c/a\u003eUsing an existing token\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you know the token to use, set the \u003ccode\u003etoken\u003c/code\u003e entry in the configuration:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// The token\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"token\"\u003c/span\u003e, token);\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use the root token, but it\u0026#8217;s not recommended. When the token is revoked, the access to the secret is\nblocked. If the token is renewable, the token is renewed when it expires.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_generating_a_token\"\u003e\u003ca class=\"anchor\" href=\"#_generating_a_token\"\u003e\u003c/a\u003eGenerating a token\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf you have a token allowing you to generate new token, you can request the token generation:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Configure the token generation\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e// Configure the token request (https://www.vaultproject.io/docs/auth/token.html)\u003c/span\u003e\nJsonObject tokenRequest = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n  .put(\u003cspan class=\"hljs-string\"\u003e\"ttl\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"1h\"\u003c/span\u003e)\n  .put(\u003cspan class=\"hljs-string\"\u003e\"noDefault\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003etrue\u003c/span\u003e)\n\n  \u003cspan class=\"hljs-comment\"\u003e// The token to use to request the generation (parts of the tokenRequest object)\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"token\"\u003c/span\u003e, token);\n\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"auth-backend\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"token\"\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// Indicate the auth backend to use\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"renew-window\"\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e5000L\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// Renew error margin in ms\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"token-request\"\u003c/span\u003e, tokenRequest); \u003cspan class=\"hljs-comment\"\u003e// Pass the token generation configuration\u003c/span\u003e\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eWhen using this approach, no token must be provided in the root configuration, the the token use to request the\ngeneration is passed in the nested JSON structure. If the generated token is renewable, it will be\nrenewed automatically upon expiration. The \u003ccode\u003erenew-window\u003c/code\u003e is the time window to add to the token validity to renew\nit. If the generated token is revoked, the access to the secret is blocked.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_certificates\"\u003e\u003ca class=\"anchor\" href=\"#_using_certificates\"\u003e\u003c/a\u003eUsing certificates\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eYou can use TLS certificates as authentication mechanism. So, you don\u0026#8217;t need to know a token, the token is\ngenerated automatically.\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\nPemKeyCertOptions certs = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PemKeyCertOptions()\n  .addCertPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/client-cert.pem\"\u003c/span\u003e)\n  .addKeyPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/client-privatekey.pem\"\u003c/span\u003e);\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"pemKeyCertOptions\"\u003c/span\u003e, certs.toJson());\n\nPemTrustOptions trust = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e PemTrustOptions()\n  .addCertPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/cert.pem\"\u003c/span\u003e);\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"pemTrustStoreOptions\"\u003c/span\u003e, trust.toJson());\n\nJksOptions jks = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JksOptions()\n  .setPath(\u003cspan class=\"hljs-string\"\u003e\"target/vault/config/ssl/truststore.jks\"\u003c/span\u003e);\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"trustStoreOptions\"\u003c/span\u003e, jks.toJson());\n\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"auth-backend\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"cert\"\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eCheck out the HTTP client and Web client configuration to pass the certificates. If the generated token is\nrenewable, it will be renewed. If not, the store attempts to authenticate again.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_approle\"\u003e\u003ca class=\"anchor\" href=\"#_using_approle\"\u003e\u003c/a\u003eUsing AppRole\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003e\u003ccode\u003eAppRole\u003c/code\u003e is used when your application is known by Vault and you have the \u003ccode\u003eappRoleId\u003c/code\u003e and \u003ccode\u003esecretId\u003c/code\u003e. You don\u0026#8217;t\nneed a token, the token being generated automatically:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\nvault_config\n  .put(\u003cspan class=\"hljs-string\"\u003e\"auth-backend\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"approle\"\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// Set the auth-backend to approle\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"approle\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()  \u003cspan class=\"hljs-comment\"\u003e// Configure the role id and secret it\u003c/span\u003e\n    .put(\u003cspan class=\"hljs-string\"\u003e\"role-id\"\u003c/span\u003e, appRoleId).put(\u003cspan class=\"hljs-string\"\u003e\"secret-id\"\u003c/span\u003e, secretId)\n  );\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the generated token is renewable, it will be renewed. If not, the store attempts to authenticate again.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"sect3\"\u003e\n\u003ch4 id=\"_using_username_and_password\"\u003e\u003ca class=\"anchor\" href=\"#_using_username_and_password\"\u003e\u003c/a\u003eUsing username and password\u003c/h4\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eThe \u003ccode\u003euserpass\u003c/code\u003e auth backend is used when the user / app is authenticated using a username/password. You don\u0026#8217;t need a\ntoken as the token is generated during the authentication process:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv class=\"listingblock\"\u003e\n\u003cdiv class=\"content\"\u003e\n\u003cpre class=\"highlight\"\u003e\u003ccode class=\"language-java\" data-lang=\"java\"\u003eJsonObject vault_config = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject();\n\n\u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n\nvault_config\n  .put(\u003cspan class=\"hljs-string\"\u003e\"auth-backend\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"userpass\"\u003c/span\u003e) \u003cspan class=\"hljs-comment\"\u003e// Set the auth-backend to userpass\u003c/span\u003e\n  .put(\u003cspan class=\"hljs-string\"\u003e\"user-credentials\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e JsonObject()\n    .put(\u003cspan class=\"hljs-string\"\u003e\"username\"\u003c/span\u003e, username).put(\u003cspan class=\"hljs-string\"\u003e\"password\"\u003c/span\u003e, password)\n  );\n\n\u003cspan class=\"hljs-comment\"\u003e// Path to the secret to read.\u003c/span\u003e\nvault_config.put(\u003cspan class=\"hljs-string\"\u003e\"path\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"secret/my-secret\"\u003c/span\u003e);\n\nConfigStoreOptions store = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigStoreOptions()\n  .setType(\u003cspan class=\"hljs-string\"\u003e\"vault\"\u003c/span\u003e)\n  .setConfig(vault_config);\n\nConfigRetriever retriever = ConfigRetriever.create(vertx,\n  \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e ConfigRetrieverOptions().addStore(store));\u003c/code\u003e\u003c/pre\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"paragraph\"\u003e\n\u003cp\u003eIf the generated token is renewable, it will be renewed. If not, the store attempts to authenticate again.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e","version":"3.9.2"},"__N_SSG":true},"page":"/docs/[[...slug]]","query":{"slug":["3.9.2","vertx-config","java"]},"buildId":"h1GzA6U3Khy9tM0hPT7x1","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-9a5c89434732593ca2fd.js"></script><script src="/_next/static/chunks/main-b6e20584df76f29b6f35.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.5b8771ac6e8a338f82f1.js" async=""></script><script src="/_next/static/chunks/styles.7064a0f84b2a7c13404a.js" async=""></script><script src="/_next/static/chunks/pages/_app-3dbbc9c041333077c167.js" async=""></script><script src="/_next/static/chunks/5df0631eea625b022d3730b3f1bf573e1b8deb37.dd672925a2e24782fa8b.js" async=""></script><script src="/_next/static/chunks/31acfd8439b7c9eee4abe9f59c7500d6c943ee0d.2792aa440a423c264d43.js" async=""></script><script src="/_next/static/chunks/pages/docs/%5B%5B...slug%5D%5D-a029dc5d19ec928c6924.js" async=""></script><script src="/_next/static/h1GzA6U3Khy9tM0hPT7x1/_buildManifest.js" async=""></script><script src="/_next/static/h1GzA6U3Khy9tM0hPT7x1/_ssgManifest.js" async=""></script></body></html>