{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Eclipse Vert.x 4 beta 1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the first 4.0 beta release of Eclipse Vert.x. Highlights of this release are the improved JDBC Client API, event loop affinity, and much more."},"date":"2020-07-28","slug":"eclipse-vert-x-4-beta-1-released","readingTime":{"text":"4 min read","minutes":3.755,"time":225300,"words":751},"content":{"compiledSource":"var c=Object.defineProperty,d=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var p=(t,a,n)=>a in t?c(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,e=(t,a)=>{for(var n in a||(a={}))s.call(a,n)&&p(t,n,a[n]);if(i)for(var n of i(a))o.call(a,n)&&p(t,n,a[n]);return t},l=(t,a)=>d(t,m(a));var h=(t,a)=>{var n={};for(var r in t)s.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&i)for(var r of i(t))a.indexOf(r)<0&&o.call(t,r)&&(n[r]=t[r]);return n};const makeShortcode=t=>function(n){return console.warn(\"Component \"+t+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},Link=makeShortcode(\"Link\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var r=n,{components:t}=r,a=h(r,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),a),{components:t,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"We are ex\\xADtremely pleased to an\\xADnounce the first 4.0 beta re\\xADlease of Eclipse Vert.x .\"),mdx(\"p\",null,\"Vert.x 4 is the evo\\xADlu\\xADtion of the Vert.x 3.x se\\xADries that will bring key fea\\xADtures to Vert.x.\"),mdx(\"h2\",e({},{id:\"vertx-web\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-web\"})),\"Vert.x Web\"),mdx(\"p\",null,\"Fixed CVE-2020-35217.\"),mdx(\"h2\",e({},{id:\"sql-client-metrics\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#sql-client-metrics\"})),\"SQL client metrics\"),mdx(\"p\",null,\"Vert.x 4 sup\\xADports met\\xADrics for clients which are crit\\xADi\\xADcal for mon\\xADi\\xADtor\\xADing ap\\xADpli\\xADca\\xADtion per\\xADfor\\xADmance.\"),mdx(\"p\",null,`While the ca\\xADpa\\xADbil\\xADi\\xADties are generic and can apply to any client, each client needs a spe\\xADcific in\\xADte\\xADgra\\xADtion.\nOb\\xADvi\\xADously the SQL client was the per\\xADfect can\\xADdi\\xADdate in mind for this new fea\\xADture.`),mdx(\"p\",null,\"Mi\\xADcrom\\xADe\\xADter met\\xADrics will re\\xADport these met\\xADrics as\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"vertx_sql_queue_pend\\xADing: num\\xADber of re\\xADquests sched\\xADuled but not yet ex\\xADe\\xADcuted\"),mdx(\"li\",{parentName:\"ul\"},\"vertx_sql_queue_time: time spent in queue be\\xADfore pro\\xADcess\\xADing\"),mdx(\"li\",{parentName:\"ul\"},\"vertx_sql_pro\\xADcess\\xADing_pend\\xADing: num\\xADber of re\\xADquest being processed\"),mdx(\"li\",{parentName:\"ul\"},\"vertx_sql_pro\\xADcess\\xADing_time: re\\xADquests la\\xADten\\xADcies\")),mdx(\"h2\",e({},{id:\"a-better-api-for-jdbc-client\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#a-better-api-for-jdbc-client\"})),\"A better API for JDBC Client\"),mdx(\"p\",null,`Our JDBC client will not go away in Vert.x 4, we do rec\\xADkn\\xADog\\xADnize that JDBC is im\\xADpor\\xADtant be\\xADcause it sup\\xADports\nthe most im\\xADpor\\xADtant num\\xADber of data\\xADbases in the ecosys\\xADtem.`),mdx(\"p\",null,`When we de\\xADsigned the SQL client API we strived a lot to come with the sim\\xADplest and most pow\\xADer\\xADful API\nfor asyn\\xADcho\\xADnous SQL client.`),mdx(\"p\",null,\"This re\\xADlease brings an im\\xADple\\xADmen\\xADta\\xADtion of the SQL client API for JDBC.\"),mdx(\"p\",null,\"The 3.x API se\\xADries will con\\xADtinue to be sup\\xADported for the life\\xADtime of Vert.x 4.\"),mdx(\"h2\",e({},{id:\"event-loop-affinity\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#event-loop-affinity\"})),\"Event loop affinity\"),mdx(\"p\",null,\"Using Vert.x from a non Vert.x thread is a very com\\xADmon use case we have been sup\\xADport\\xADing since Vert.x 3.\"),mdx(\"p\",null,`When you use a Vert.x re\\xADsource (like a client) from a non Vert.x thread, Vert.x 3 ob\\xADtains a new event-\\u200Bloop\nevery\\xADtime it hap\\xADpens.`),mdx(\"p\",null,`In Vert.x 4 we de\\xADcided to pin the first event loop to the non Vert.x thread. The goal is to pre\\xADvent\nsome data races and also makes rea\\xADson\\xADning about this eas\\xADier.`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-ini\"}),\"Vertx \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"vertx\"),\" = Vertx.vertx()\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n\nfor (int `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"i\"),\" = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";i < 4;i++) {\"),`\n  String `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"msg\"),\" = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Message \"'),\" + i\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n  vertx.runOnContext(v -> {\n    System.out.println(i)`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n  })`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n}\n`)),mdx(\"p\",null,`Run\\xADning this with Vert.x 3 will print the 4 lines but they are likely to not be re\\xADordered, this code could\nalso be run\\xADning in par\\xADal\\xADlel (that is two dif\\xADfer\\xADent threads run\\xADning at the same time on a dif\\xADfer\\xADent CPU core).`),mdx(\"p\",null,`Run\\xADning this with Vert.x 4 will print the 4 lines in the cor\\xADrect order and al\\xADways with the same thread. This\nelim\\xADi\\xADnates some po\\xADten\\xADtial data races and also al\\xADlows to rea\\xADson about what will hap\\xADpen at run\\xADtime.`),mdx(\"h2\",e({},{id:\"vertx-json-schema-supports-draft2019-09\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-json-schema-supports-draft2019-09\"})),\"Vert.x Json Schema supports Draft2019-09\"),mdx(\"p\",null,\"The new \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/eclipse-vertx/vertx-json-schema\"}),\"vertx-\\u200Bjson-schema\"),\" mod\\xADule now sup\\xADports the lat\\xADest Json Schema \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://json-schema.org/specification.html\"}),\"Draft2019-09 spec\"),\". You can fi\\xADnally play with the new \",mdx(\"inlineCode\",{parentName:\"p\"},\"$recursiveRef\"),\" to build ex\\xADten\\xADsi\\xADble re\\xADcur\\xADsive schemas and with \",mdx(\"inlineCode\",{parentName:\"p\"},\"unevaluatedProperties\"),\"/\",mdx(\"inlineCode\",{parentName:\"p\"},\"unevaluatedItems\"),\" to de\\xADfine strict schemas. Look at the mod\\xADule \",mdx(Link,{href:\"/docs/vertx-json-schema/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"doc\\xADu\\xADmen\\xADta\\xADtion\")),\" to start using it.\"),mdx(\"h2\",e({},{id:\"clustering-configuration-simplified\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#clustering-configuration-simplified\"})),\"Clustering configuration simplified\"),mdx(\"p\",null,\"In Vert.x 3, clus\\xADter host was set to \",mdx(\"inlineCode\",{parentName:\"p\"},\"localhost\"),\" by de\\xADfault in \",mdx(\"inlineCode\",{parentName:\"p\"},\"EventBusOptions\"),`.\nCon\\xADse\\xADquently, a lot of new users were con\\xADfused about why event bus con\\xADsumers and pro\\xADduc\\xADers were not able to com\\xADmu\\xADni\\xADcate even if the un\\xADder\\xADly\\xADing clus\\xADter man\\xADager was con\\xADfig\\xADured cor\\xADrectly.`),mdx(\"p\",null,\"Also, when using the CLI tool or the \",mdx(\"inlineCode\",{parentName:\"p\"},\"Launcher\"),\" class, Vert.x tried to find a host among avail\\xADable net\\xADwork in\\xADter\\xADfaces if none was pro\\xADvided with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"-cluster-host\"),` ar\\xADgu\\xADment.\nSome\\xADtimes, the host cho\\xADsen by the clus\\xADter man\\xADager and Vert.x were not the same.`),mdx(\"p\",null,`Start\\xADing with Vert.x 4 beta 1, the clus\\xADter host de\\xADfault has been re\\xADmoved and, if users don\\u2019t pro\\xADvide any, Vert.x will ask the clus\\xADter man\\xADager which one it picked be\\xADfore try\\xADing to find one it\\xADself.\nThis ap\\xADplies whether Vert.x is em\\xADbed\\xADded in any Java pro\\xADgram or started with the CLI tool or with the `,mdx(\"inlineCode\",{parentName:\"p\"},\"Launcher\"),\" class.\"),mdx(\"p\",null,\"So far, only \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-hazelcast\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-infinispan\"),` clus\\xADter man\\xADagers can pro\\xADvide Vert.x with a clus\\xADter host.\nWhen other clus\\xADter man\\xADagers are used, Vert.x will choose one it\\xADself.`),mdx(\"h2\",e({},{id:\"cluster-manager-upgrades\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#cluster-manager-upgrades\"})),\"Cluster manager upgrades\"),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-hazelcast\"),\" has been up\\xADgraded to Hazel\\xADcast 4.0.2 and \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-infinispan\"),\" to In\\xADfin\\xADis\\xADpan 11.0.1.Final.\"),mdx(\"h2\",e({},{id:\"finally\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#finally\"})),\"Finally\"),mdx(\"p\",null,\"This is the Beta1 re\\xADlase of Vert.x 4, you can of course ex\\xADpect more betas as we get feed\\xADback from the com\\xADmu\\xADnity and fix is\\xADsues that we failed to catch be\\xADfore.\"),mdx(\"p\",null,\"You can also read the mile\\xADstone an\\xADnounces to know more about the over\\xADral changes:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(Link,{href:\"/blog/eclipse-vert-x-4-milestone-5-released\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-5-\\u200Breleased\"))),mdx(\"li\",{parentName:\"ul\"},mdx(Link,{href:\"/blog/eclipse-vert-x-4-milestone-4-released\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-4-\\u200Breleased\"))),mdx(\"li\",{parentName:\"ul\"},mdx(Link,{href:\"/blog/eclipse-vert-x-4-milestone-3-released\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-3-\\u200Breleased\"))),mdx(\"li\",{parentName:\"ul\"},mdx(Link,{href:\"/blog/eclipse-vert-x-4-milestone-2-released\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-2-\\u200Breleased\"))),mdx(\"li\",{parentName:\"ul\"},mdx(Link,{href:\"/blog/eclipse-vert-x-4-milestone-1-released\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"li\"},{href:\"\"}),\"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-1-\\u200Breleased\")))),mdx(\"p\",null,\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\"}),\"dep\\xADre\\xADca\\xADtions and break\\xADing changes\"),`\ncan be found on the wiki.`),mdx(\"p\",null,\"For this re\\xADlease there are no Docker im\\xADages.\"),mdx(\"p\",null,\"The re\\xADlease ar\\xADti\\xADfacts have been de\\xADployed to \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\"}),\"Maven Cen\\xADtral\"),\" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\"}),\"Maven Cen\\xADtral\"),\".\"),mdx(\"p\",null,\"You can boot\\xADstrap a Vert.x 4.0.0.Beta1 project using \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://start.vertx.io\"}),\"https://start.vertx.io\"),\".\"),mdx(\"p\",null,\"The doc\\xADu\\xADmen\\xADta\\xADtion has been de\\xADployed on this pre\\xADview web-\\u200Bsite \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vertx-web-site.github.io/docs/\"}),\"https://vertx-\\u200Bweb-site.github.io/docs/\")),mdx(\"p\",null,\"That\\u2019s it! Happy cod\\xADing and see you soon on our user or dev \",mdx(Link,{href:\"/community\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"chan\\xADnels\")),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.9.3 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"Eclipse Vert.x version 3.9.3 has just been released. It fixes quite a few bugs that have been reported by the community."},"date":"2020-09-17","slug":"eclipse-vert-x-3-9-3-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 3.9.2 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new Eclipse Vert.x version 3.9.2 has just been released. It includes a few bug fixes, a new reactive DB2 client, and reactive MySQL Client domain socket support."},"date":"2020-07-21","slug":"eclipse-vert-x-3-9-2-released"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Eclipse Vert.x 4 milestone 5 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4."},"date":"2020-06-10","slug":"eclipse-vert-x-4-milestone-5-released"},{"meta":{"title":"Eclipse Vert.x 4 CR1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first release candidate of the upcoming Vert.x 4 has just been released. We consider it feature complete and invite the community to test it."},"date":"2020-11-04","slug":"eclipse-vert-x-4-cr1-released"}]},"__N_SSG":true}