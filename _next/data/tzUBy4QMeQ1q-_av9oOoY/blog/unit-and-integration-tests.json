{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests","readingTime":{"text":"15 min read","minutes":14.215,"time":852900,"words":2843},"content":{"compiledSource":"var i=Object.defineProperty,N=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var m=(e,s,n)=>s in e?i(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,a=(e,s)=>{for(var n in s||(s={}))r.call(s,n)&&m(e,n,s[n]);if(p)for(var n of p(s))l.call(s,n)&&m(e,n,s[n]);return e},o=(e,s)=>N(e,h(s));var c=(e,s)=>{var n={};for(var t in e)r.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&p)for(var t of p(e))s.indexOf(t)<0&&l.call(e,t)&&(n[t]=e[t]);return n};const makeShortcode=e=>function(n){return console.warn(\"Component \"+e+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",a({},n))},Link=makeShortcode(\"Link\"),Alert=makeShortcode(\"Alert\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var t=n,{components:e}=t,s=c(t,[\"components\"]);return mdx(MDXLayout,o(a(a({},layoutProps),s),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Let\\u2019s re\\xADfresh our mind about what we de\\xADvel\\xADoped so far in the \",mdx(\"em\",{parentName:\"p\"},\"in\\xADtro\\xADduc\\xADtion to vert.x\"),\" se\\xADries. In \",mdx(Link,{href:\"/blog/my-first-vert-x-3-application/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",a({parentName:\"p\"},{href:\"\"}),\"the first post\")),\", we de\\xADvel\\xADoped a very sim\\xADple Vert.x 3 ap\\xADpli\\xADca\\xADtion, and saw how this ap\\xADpli\\xADca\\xADtion can be tested, pack\\xADaged and ex\\xADe\\xADcuted. In \",mdx(Link,{href:\"/blog/vert-x-application-configuration/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",a({parentName:\"p\"},{href:\"\"}),\"the sec\\xADond post\")),\", we saw how this ap\\xADpli\\xADca\\xADtion be\\xADcame con\\xADfig\\xADurable and how we can use a ran\\xADdom port in test, and use an\\xADother con\\xADfig\\xADurable port in pro\\xADduc\\xADtion. Fi\\xADnally, the \",mdx(Link,{href:\"/blog/some-rest-with-vert-x/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",a({parentName:\"p\"},{href:\"\"}),\"pre\\xADvi\\xADous post\")),\" has shown how to use vertx-\\u200Bweb and how to im\\xADple\\xADment a small REST API. How\\xADever, we for\\xADgot an im\\xADpor\\xADtant task. We didn\\u2019t test the API. In this post we will in\\xADcrease the con\\xADfi\\xADdence we have on this ap\\xADpli\\xADca\\xADtion by im\\xADple\\xADment\\xADing unit and in\\xADte\\xADgra\\xADtion tests.\"),mdx(\"p\",null,\"The code of this post is avail\\xADable in the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/tree/post-4\"}),\"post-4 branch\"),\" of the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app\"}),\"project\"),\". The start\\xADing post, how\\xADever is the code avail\\xADable in the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/tree/post-3\"}),\"post-3 branch\"),\".\"),mdx(\"h2\",a({},{id:\"tests-tests-tests\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#tests-tests-tests\"})),\"Tests, Tests, Tests\\u2026\"),mdx(\"p\",null,\"This post is mainly about tests. We dis\\xADtin\\xADguish two types of tests: unit tests and in\\xADte\\xADgra\\xADtion tests. Both are equally im\\xADpor\\xADtant, but have dif\\xADfer\\xADent focus. Unit tests en\\xADsure that one \",mdx(\"em\",{parentName:\"p\"},\"com\\xADpo\\xADnent\"),\" of your ap\\xADpli\\xADca\\xADtion, gen\\xADer\\xADally a class in the Java world, be\\xADhaves as ex\\xADpected. The ap\\xADpli\\xADca\\xADtion is not tested as a whole, but pieces by pieces. In\\xADte\\xADgra\\xADtion tests are more \",mdx(\"em\",{parentName:\"p\"},\"black box\"),\" in the sense that the ap\\xADpli\\xADca\\xADtion is started and tested gen\\xADer\\xADally ex\\xADter\\xADnally.\"),mdx(\"p\",null,\"In this post we are going to start with some more unit tests as a warm up ses\\xADsion and then focus on in\\xADte\\xADgra\\xADtion tests. If you al\\xADready im\\xADple\\xADmented in\\xADte\\xADgra\\xADtion tests, you may be a bit scared, and it makes sense. But don\\u2019t worry, with Vert.x there are no hid\\xADden sur\\xADprises.\"),mdx(\"h2\",a({},{id:\"warmup-some-more-unit-tests\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#warmup-some-more-unit-tests\"})),\"Warmup: Some more unit tests\"),mdx(\"p\",null,\"Let\\u2019s start slowly. Re\\xADmem\\xADber in the first post we have im\\xADple\\xADmented a unit test with \",mdx(Link,{href:\"/docs/vertx-unit/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",a({parentName:\"p\"},{href:\"\"}),\"vertx-\\u200Bunit\")),\". The test we did is dead sim\\xADple:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"we started the ap\\xADpli\\xADca\\xADtion be\\xADfore the test\"),mdx(\"li\",{parentName:\"ol\"},\"we checks that it replies \\u201CHello\\u201D\")),mdx(\"p\",null,\"Just to re\\xADfresh your mind, let\\u2019s have a look at the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/blob/post-4/src/test/java/io/vertx/blog/first/MyFirstVerticleTest.java\"}),\"code\")),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Before\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"setUp\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"(TestContext context)\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"throws\"),\" IOException \"),`{\n  vertx = Vertx.vertx();\n  ServerSocket socket = `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" ServerSocket(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),`);\n  port = socket.getLocalPort();\n  socket.close();\n  DeploymentOptions options = `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` DeploymentOptions()\n      .setConfig(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" JsonObject().put(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"http.port\"'),`, port)\n      );\n  vertx.deployVerticle(MyFirstVerticle.class.getName(), options, context.asyncAssertSuccess());\n}\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"setUp\"),\" method is in\\xADvoked be\\xADfore each test (as in\\xADstructed by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"@Before\"),\" an\\xADno\\xADta\\xADtion). It, first, cre\\xADates a new in\\xADstance of Vert.x. Then, it gets a free port and then de\\xADploys our ver\\xADti\\xADcle with the right con\\xADfig\\xADu\\xADra\\xADtion. Thanks to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"context.asyncAssertSuccess()\"),\" it waits until the suc\\xADcess\\xADful de\\xADploy\\xADment of the ver\\xADti\\xADcle.\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"tearDown\"),\" is straight\\xADfor\\xADward and just closes the Vert.x in\\xADstance. It au\\xADto\\xADmat\\xADi\\xADcally un-\\u200Bdeploys the ver\\xADti\\xADcles:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@After\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"tearDown\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"(TestContext context)\"),\" \"),`{\n  vertx.close(context.asyncAssertSuccess());\n}\n`)),mdx(\"p\",null,\"Fi\\xADnally, our sin\\xADgle test is:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"testMyApplication\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"(TestContext context)\"),\" \"),`{\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),` Async async = context.async();\n  vertx.createHttpClient().getNow(port, `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"localhost\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/\"'),`, response -> {\n    response.handler(body -> {\n      context.assertTrue(body.toString().contains(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Hello\"'),`));\n      async.complete();\n    });\n  });\n }\n`)),mdx(\"p\",null,\"It is only check\\xADing that the ap\\xADpli\\xADca\\xADtion replies \\u201CHello\\u201D when we emit a HTTP re\\xADquest on \",mdx(\"inlineCode\",{parentName:\"p\"},\"/\"),\".\"),mdx(\"p\",null,\"Let\\u2019s now try to im\\xADple\\xADment some unit tests checkin that our web ap\\xADpli\\xADca\\xADtion and the REST API be\\xADhave as ex\\xADpected. Let\\u2019s start by check\\xADing that the \",mdx(\"inlineCode\",{parentName:\"p\"},\"index.html\"),\" page is cor\\xADrectly served. This test is very sim\\xADi\\xADlar to the pre\\xADvi\\xADous one:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"checkThatTheIndexPageIsServed\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"(TestContext context)\"),\" \"),`{\n  Async async = context.async();\n  vertx.createHttpClient().getNow(port, `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"localhost\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/assets/index.html\"'),`, response -> {\n    context.assertEquals(response.statusCode(), `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),`);\n    context.assertEquals(response.headers().get(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\"), \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"text/html\"'),`);\n    response.bodyHandler(body -> {\n      context.assertTrue(body.toString().contains(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"<title>My Whisky Collection</title>\"'),`));\n      async.complete();\n    });\n  });\n}\n`)),mdx(\"p\",null,\"We re\\xADtrieve the \",mdx(\"inlineCode\",{parentName:\"p\"},\"index.html\"),\" page and check:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"it\\u2019s there (sta\\xADtus code 200)\"),mdx(\"li\",{parentName:\"ol\"},\"it\\u2019s a HTML page (con\\xADtent type set to \\u201Ctext/html\\u201D)\"),mdx(\"li\",{parentName:\"ol\"},\"it has the right title (\\u201CMy Whisky Col\\xADlec\\xADtion\\u201D)\")),mdx(Alert,{info:!0,mdxType:\"Alert\"},mdx(\"p\",null,\"As you can see, we can test the sta\\xADtus code and the head\\xADers di\\xADrectly on the HTTP re\\xADsponse, but en\\xADsure that the body is right, we need to re\\xADtrieve it. This is done with a body han\\xADdler that re\\xADceives the com\\xADplete body as pa\\xADra\\xADme\\xADter. Once the last check is made, we re\\xADlease the \",mdx(\"inlineCode\",{parentName:\"p\"},\"async\"),\" by call\\xADing \",mdx(\"inlineCode\",{parentName:\"p\"},\"complete\"),\".\")),mdx(\"p\",null,\"Ok, great, but this ac\\xADtu\\xADally does not test our REST API. Let\\u2019s en\\xADsure that we can add a bot\\xADtle to the col\\xADlec\\xADtion. Un\\xADlike the pre\\xADvi\\xADous tests, this one is using \",mdx(\"inlineCode\",{parentName:\"p\"},\"post\"),\" to \",mdx(\"em\",{parentName:\"p\"},\"post\"),\" data to the server:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"checkThatWeCanAdd\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"(TestContext context)\"),\" \"),`{\n  Async async = context.async();\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),\" String json = Json.encodePrettily(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" Whisky(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Jameson\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Ireland\"'),`));\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),` String length = Integer.toString(json.length());\n  vertx.createHttpClient().post(port, `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"localhost\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies\"'),`)\n      .putHeader(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json\"'),`)\n      .putHeader(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-length\"'),`, length)\n      .handler(response -> {\n        context.assertEquals(response.statusCode(), `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"201\"),`);\n        context.assertTrue(response.headers().get(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\").contains(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json\"'),`));\n        response.bodyHandler(body -> {\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),` Whisky whisky = Json.decodeValue(body.toString(), Whisky.class);\n          context.assertEquals(whisky.getName(), `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Jameson\"'),`);\n          context.assertEquals(whisky.getOrigin(), `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Ireland\"'),`);\n          context.assertNotNull(whisky.getId());\n          async.complete();\n        });\n      })\n      .write(json)\n      .end();\n}\n`)),mdx(\"p\",null,\"First we cre\\xADate the con\\xADtent we want to add. The server con\\xADsumes JSON data, so we need a JSON string. You can ei\\xADther write your JSON doc\\xADu\\xADment man\\xADu\\xADally, or use the Vert.x method (\",mdx(\"inlineCode\",{parentName:\"p\"},\"Json.encodePrettily\"),\") as done here. Once we have the con\\xADtent, we cre\\xADate a \",mdx(\"inlineCode\",{parentName:\"p\"},\"post\"),\" re\\xADquest. We need to con\\xADfig\\xADure some head\\xADers to be cor\\xADrectly read by the server. First, we say that we are send\\xADing JSON data and we also set the con\\xADtent length. We also at\\xADtach a re\\xADsponse han\\xADdler very close to the checks made in the pre\\xADvi\\xADous test. No\\xADtice that we can re\\xADbuild our ob\\xADject from the JSON doc\\xADu\\xADment send by the server using the \",mdx(\"inlineCode\",{parentName:\"p\"},\"JSON.decodeValue\"),\" method. It\\u2019s very con\\xADve\\xADnient as it avoids lots of boil\\xADer\\xADplate code.  At this point the re\\xADquest is not emit\\xADted, we need to write the data and call the \",mdx(\"inlineCode\",{parentName:\"p\"},\"end()\"),\" method. This is made using \",mdx(\"inlineCode\",{parentName:\"p\"},\".write(json).end();\"),\".\"),mdx(\"p\",null,\"The order of the meth\\xADods is im\\xADpor\\xADtant. You can\\xADnot \",mdx(\"em\",{parentName:\"p\"},\"write\"),\" data if you don\\u2019t have a re\\xADsponse han\\xADdler con\\xADfig\\xADured. Fi\\xADnally don\\u2019t for\\xADget to call \",mdx(\"inlineCode\",{parentName:\"p\"},\"end\"),\".\"),mdx(\"p\",null,\"So, let\\u2019s try this. You can run the test using:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),\"mvn clean \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-built_in\"}),\"test\"),`\n`)),mdx(\"p\",null,\"We could con\\xADtinue writ\\xADing more unit test like that, but it could be\\xADcome quite com\\xADplex. Let\\u2019s see how we could con\\xADtinue our tests using in\\xADte\\xADgra\\xADtion tests.\"),mdx(\"h2\",a({},{id:\"it-hurts\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#it-hurts\"})),\"IT hurts\"),mdx(\"p\",null,\"Well, I think we need to make that clear, in\\xADte\\xADgra\\xADtion test\\xADing hurts. If you have ex\\xADpe\\xADri\\xADence in this area, can you re\\xADmem\\xADber how long did it take to setup every\\xADthing cor\\xADrectly? I get new white hairs by just think\\xADing about it. Why are in\\xADte\\xADgra\\xADtion tests more com\\xADpli\\xADcated? It\\u2019s ba\\xADsi\\xADcally be\\xADcause of the setup:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"We must start the ap\\xADpli\\xADca\\xADtion in a \",mdx(\"em\",{parentName:\"li\"},\"close to pro\\xADduc\\xADtion\"),\" way\"),mdx(\"li\",{parentName:\"ol\"},\"We must then run the tests (and con\\xADfig\\xADure them to hit the right ap\\xADpli\\xADca\\xADtion in\\xADstance)\"),mdx(\"li\",{parentName:\"ol\"},\"We must stop the ap\\xADpli\\xADca\\xADtion\")),mdx(\"p\",null,\"That does not sound un\\xADcon\\xADquer\\xADable like that, but if you need Linux, MacOS X and Win\\xADdows sup\\xADport, it quickly get messy. There are plenty of great frame\\xADworks eas\\xADing this such as \",mdx(\"a\",a({parentName:\"p\"},{href:\"http://arquillian.org\"}),\"Ar\\xADquil\\xADlian\"),\", but let\\u2019s do it with\\xADout any frame\\xADwork to un\\xADder\\xADstand how it works.\"),mdx(\"h2\",a({},{id:\"we-need-a-battle-plan\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#we-need-a-battle-plan\"})),\"We need a battle plan\"),mdx(\"p\",null,\"Be\\xADfore rush\\xADing into the com\\xADplex con\\xADfig\\xADu\\xADra\\xADtion, let\\u2019s think a minute about the tasks:\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Step 1 - Re\\xADserve a free port\"),`\nWe need to get a free port on which the ap\\xADpli\\xADca\\xADtion can `,mdx(\"em\",{parentName:\"p\"},\"lis\\xADten\"),\", and we need to in\\xADject this port in our in\\xADte\\xADgra\\xADtion tests.\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Step 2 - Gen\\xADer\\xADate the ap\\xADpli\\xADca\\xADtion con\\xADfig\\xADu\\xADra\\xADtion\"),`\nOnce we have the free port, we need to write a JSON file con\\xADfig\\xADur\\xADing the ap\\xADpli\\xADca\\xADtion HTTP Port to this port.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Step 3 - Start the ap\\xADpli\\xADca\\xADtion\"),`\nSounds easy right? Well it\\u2019s not that sim\\xADple as we need to launch our ap\\xADpli\\xADca\\xADtion in a back\\xADground process.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Step 4 - Ex\\xADe\\xADcute the in\\xADte\\xADgra\\xADtion tests\"),`\nFi\\xADnally, the cen\\xADtral part, run the tests. But be\\xADfore that we should im\\xADple\\xADment some in\\xADte\\xADgra\\xADtion tests. Let\\u2019s come to that later.`),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Step 5 - Stop the ap\\xADpli\\xADca\\xADtion\"),`\nOnce the tests have been ex\\xADe\\xADcuted, re\\xADgard\\xADless if there are fail\\xADures or er\\xADrors in the tests, we need to stop the ap\\xADpli\\xADca\\xADtion.`),mdx(\"p\",null,\"There are mul\\xADti\\xADple way to im\\xADple\\xADment this plan. We are going to use a \",mdx(\"em\",{parentName:\"p\"},\"generic\"),\" way. It\\u2019s not nec\\xADes\\xADsar\\xADily the bet\\xADter, but can be ap\\xADplied al\\xADmost every\\xADwhere. The ap\\xADproach is tight to Apache Maven. If you want to pro\\xADpose an al\\xADter\\xADna\\xADtive using Gra\\xADdle or a dif\\xADfer\\xADent tool, I will be happy to add your way to the post.\"),mdx(\"h2\",a({},{id:\"implement-the-plan\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#implement-the-plan\"})),\"Implement the plan\"),mdx(\"p\",null,\"As said above, this sec\\xADtion is Maven-\\u200Bcentric, and most of the code goes in the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/cescoffier/my-vertx-first-app/blob/post-4/pom.xml\"}),\"pom.xml\"),\" file. If you never used the dif\\xADfer\\xADent Maven life\\xADcy\\xADcle phases, I rec\\xADom\\xADmend you to look at the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\"}),\"in\\xADtro\\xADduc\\xADtion to the Maven life\\xADcy\\xADcle\"),\".\"),mdx(\"p\",null,\"We need to add and con\\xADfig\\xADure a cou\\xADple of plu\\xADg\\xADins. Open the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file and in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"<plugins>\"),\" sec\\xADtion add:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),\"org.codehaus.mojo\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"build-helper-maven-plugin\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"1.9.1\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),\"reserve-network-port\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"reserve-network-port\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),\"process-sources\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"portNames\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"portName\"),\">\"),\"http.port\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"portName\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"portNames\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n`)),mdx(\"p\",null,\"We use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"build-helper-maven-plugin\"),\" (a plug\\xADin to know if you are often using Maven) to pick up a free port. Once found, the plug\\xADin as\\xADsigns the \",mdx(\"inlineCode\",{parentName:\"p\"},\"http.port\"),\" vari\\xADable to the picked port. We ex\\xADe\\xADcute this plug\\xADin early in the build (dur\\xADing the \",mdx(\"inlineCode\",{parentName:\"p\"},\"process-sources\"),\" phase), so we can use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"http.port\"),\" vari\\xADable in the other plug\\xADin. This was for the first step.\"),mdx(\"p\",null,\"Two ac\\xADtions are re\\xADquired for the sec\\xADond step. First, in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file, just below the \",mdx(\"inlineCode\",{parentName:\"p\"},\"<build>\"),\" open\\xADing tag, add:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"testResources\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"testResource\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"directory\"),\">\"),\"src/test/resources\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"directory\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"filtering\"),\">\"),\"true\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"filtering\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"testResource\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"testResources\"),\">\"),`\n`)),mdx(\"p\",null,\"This in\\xADstructs Maven to \",mdx(\"em\",{parentName:\"p\"},\"fil\\xADter\"),\" re\\xADsources from the \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/test/resources\"),\" di\\xADrec\\xADtory. \",mdx(\"em\",{parentName:\"p\"},\"Fil\\xADter\"),\" means re\\xADplac\\xADing place\\xADhold\\xADers by ac\\xADtual val\\xADues. That\\u2019s ex\\xADactly what we need as we now have the \",mdx(\"inlineCode\",{parentName:\"p\"},\"http.port\"),\" vari\\xADable. So cre\\xADate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/test/resources/my-it-config.json\"),\" file with the fol\\xADlow\\xADing con\\xADtent:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-javascript\"}),`{\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"http.port\"'),`: \\${http.port}\n}\n`)),mdx(\"p\",null,\"This con\\xADfig\\xADu\\xADra\\xADtion file is sim\\xADi\\xADlar to the one we did in pre\\xADvi\\xADous posts. The only dif\\xADfer\\xADence is the \",mdx(\"inlineCode\",{parentName:\"p\"},\"${http.port}\"),\" which is the (de\\xADfault) Maven syn\\xADtax for fil\\xADter\\xADing. So, when Maven is going to process or file it will re\\xADplace \",mdx(\"inlineCode\",{parentName:\"p\"},\"${http.port}\"),\" by the se\\xADlected port. That\\u2019s all for the sec\\xADond step.\"),mdx(\"p\",null,\"The step 3 and 5 are a bit more tricky. We should start and stop the ap\\xADpli\\xADca\\xADtion. We are going to use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"maven-antrun-plugin\"),\" to achieve this. In the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file, below the \",mdx(\"inlineCode\",{parentName:\"p\"},\"build-helper-maven-plugin\"),\", add:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),`<!-- We use the maven-antrun-plugin to start the application before the integration tests\nand stop them afterward -->`),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"maven-antrun-plugin\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"1.8\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),\"start-vertx-app\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),\"pre-integration-test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"run\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),`<!--\n          Launch the application as in 'production' using the fatjar.\n          We pass the generated configuration, configuring the http port to the picked one\n          -->`),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"executable\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${java.home}/bin/java\"'),`\n                `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"dir\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${project.build.directory}\"'),`\n                `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"spawn\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"true\"'),\">\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"-jar\"'),\"/>\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${project.artifactId}-${project.version}-fat.jar\"'),\"/>\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"-conf\"'),\"/>\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${project.build.directory}/test-classes/my-it-config.json\"'),\"/>\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),\"stop-vertx-app\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),\"post-integration-test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"run\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),`<!--\n          Kill the started process.\n          Finding the right process is a bit tricky. Windows command in in the windows profile (below)\n          -->`),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"executable\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"bash\"'),`\n                `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"dir\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${project.build.directory}\"'),`\n                `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"spawn\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"false\"'),\">\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"-c\"'),\"/>\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),\"\\\"ps ax | grep -Ei '[\\\\-]DtestPort=${http.port}\\\\s+\\\\-jar\\\\s+${project.artifactId}' | awk 'NR==1{print $1}' | xargs kill -SIGTERM\\\"\"),\"/>\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n`)),mdx(\"p\",null,\"That\\u2019s a huge piece of XML, isn\\u2019t it ? We con\\xADfig\\xADure two ex\\xADe\\xADcu\\xADtions of the plug\\xADin. The first one, hap\\xADpen\\xADing in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pre-integration-test\"),\" phase, ex\\xADe\\xADcutes a set of bash com\\xADmand to start the ap\\xADpli\\xADca\\xADtion. It ba\\xADsi\\xADcally ex\\xADe\\xADcutes:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),`java -jar my-first-app-1.0-SNAPSHOT-fat.jar -conf .../my-it-config.json\n`)),mdx(Alert,{info:!0,title:\"Is the fatjar created?\",mdxType:\"Alert\"},mdx(\"p\",null,\"The fat jar em\\xADbed\\xADding our ap\\xADpli\\xADca\\xADtion is cre\\xADated in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"package\"),\" phase, pre\\xADced\\xADing the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pre-integration-test\"),\", so yes, the fat jar is cre\\xADated.\")),mdx(\"p\",null,\"As men\\xADtioned above, we launch the ap\\xADpli\\xADca\\xADtion as we would in a pro\\xADduc\\xADtion en\\xADvi\\xADron\\xADment.\"),mdx(\"p\",null,\"Once, the in\\xADte\\xADgra\\xADtion tests are ex\\xADe\\xADcuted (step 4 we didn\\u2019t look at it yet), we need to stop the ap\\xADpli\\xADca\\xADtion (so in the the \",mdx(\"inlineCode\",{parentName:\"p\"},\"post-integration-test\"),\" phase).  To close the ap\\xADpli\\xADca\\xADtion, we are going to in\\xADvoke some shell magic com\\xADmand to find our process in with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"ps\"),\" com\\xADmand and send the \",mdx(\"inlineCode\",{parentName:\"p\"},\"SIGTERM\"),\" sig\\xADnal. It is equiv\\xADa\\xADlent to:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),`ps\n.... -> find your process id\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-built_in\"}),\"kill\"),` your_process_id -SIGTERM\n`)),mdx(Alert,{info:!0,title:\"And Windows?\",mdxType:\"Alert\"},mdx(\"p\",null,\"I men\\xADtioned it above, we want Win\\xADdows to be sup\\xADported and these com\\xADmands are not going to work on Win\\xADdows. Don\\u2019t worry, Win\\xADdows con\\xADfig\\xADu\\xADra\\xADtion is below \\u2026\")),mdx(\"p\",null,\"We should now do the fourth step we (silently) skipped. To ex\\xADe\\xADcute our in\\xADte\\xADgra\\xADtion tests, we use the \",mdx(\"inlineCode\",{parentName:\"p\"},\"maven-failsafe-plugin\"),\". Add the fol\\xADlow\\xADing plug\\xADin con\\xADfig\\xADu\\xADra\\xADtion to your \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),\"org.apache.maven.plugins\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"maven-failsafe-plugin\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"2.18.1\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"integration-test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"verify\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"systemProperties\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"http.port\"),\">\"),\"${http.port}\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"http.port\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"systemProperties\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n`)),mdx(\"p\",null,\"As you can see, we pass the \",mdx(\"inlineCode\",{parentName:\"p\"},\"http.port\"),\" prop\\xADerty as a sys\\xADtem vari\\xADable, so our tests are able to con\\xADnect on the right port.\"),mdx(\"p\",null,\"That\\u2019s all! Wow\\u2026 Let\\u2019s try this (for win\\xADdows users, you will need to be pa\\xADtient or to jump to the last sec\\xADtion).\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),`mvn clean verify\n`)),mdx(\"p\",null,\"We should not use \",mdx(\"inlineCode\",{parentName:\"p\"},\"mvn integration-test\"),\" be\\xADcause the ap\\xADpli\\xADca\\xADtion would still be run\\xADning. The \",mdx(\"inlineCode\",{parentName:\"p\"},\"verify\"),\" phase is after the \",mdx(\"inlineCode\",{parentName:\"p\"},\"post-integration-test\"),\" phase and will analyse the integration-\\u200Btests re\\xADsults. Build fail\\xADures be\\xADcause of in\\xADte\\xADgra\\xADtion tests failed as\\xADser\\xADtions are re\\xADported in this phase.\"),mdx(\"h2\",a({},{id:\"hey-we-dont-have-integration-tests-\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#hey-we-dont-have-integration-tests-\"})),\"Hey, we don\\u2019t have integration tests !\"),mdx(\"p\",null,\"And that\\u2019s right, we set up every\\xADthing, but we don\\u2019t have a sin\\xADgle in\\xADte\\xADgra\\xADtion test. To ease the im\\xADple\\xADmen\\xADta\\xADtion, let\\u2019s use two li\\xADbraries: \",mdx(\"a\",a({parentName:\"p\"},{href:\"http://joel-costigliola.github.io/assertj/\"}),\"As\\xADsertJ\"),\" and \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/jayway/rest-assured\"}),\"Rest-\\u200BAssured\"),\".\"),mdx(\"p\",null,\"As\\xADsertJ pro\\xADposes a set of as\\xADser\\xADtions that you can chain and use flu\\xADently. Rest As\\xADsured is a frame\\xADwork to test REST API.\"),mdx(\"p\",null,\"In the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" file, add the two fol\\xADlow\\xADing de\\xADpen\\xADden\\xADcies just be\\xADfore \",mdx(\"inlineCode\",{parentName:\"p\"},\"</dependencies>\"),\":\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),\"com.jayway.restassured\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"rest-assured\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"2.4.0\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\">\"),\"test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),\"org.assertj\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"groupId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"assertj-core\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"2.0.0\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\">\"),\"test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"scope\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"dependency\"),\">\"),`\n`)),mdx(\"p\",null,\"Then, cre\\xADate the \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/test/java/io/vertx/blog/first/MyRestIT.java\"),\" file. Un\\xADlike unit test, in\\xADte\\xADgra\\xADtion test ends with \",mdx(\"inlineCode\",{parentName:\"p\"},\"IT\"),\". It\\u2019s a con\\xADven\\xADtion from the Fail\\xADsafe plug\\xADin to dis\\xADtin\\xADguish unit (start\\xADing or end\\xADing with \",mdx(\"em\",{parentName:\"p\"},\"Test\"),\") from in\\xADte\\xADgra\\xADtion tests (start\\xADing or end\\xADing with \",mdx(\"em\",{parentName:\"p\"},\"IT\"),\"). In the cre\\xADated file add:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"package\"),` io.vertx.blog.first;\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"import\"),` com.jayway.restassured.RestAssured;\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"import\"),` org.junit.AfterClass;\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"import\"),` org.junit.BeforeClass;\n\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-class\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"class\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"MyRestIT\"),\" \"),`{\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@BeforeClass\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"static\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"configureRestAssured\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n    RestAssured.baseURI = `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"http://localhost\"'),`;\n    RestAssured.port = Integer.getInteger(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"http.port\"'),\", \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),`);\n  }\n\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@AfterClass\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"static\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"unconfigureRestAssured\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n    RestAssured.reset();\n  }\n}\n`)),mdx(\"p\",null,\"The meth\\xADods an\\xADno\\xADtated with \",mdx(\"inlineCode\",{parentName:\"p\"},\"@BeforeClass\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"@AfterClass\"),\" are in\\xADvoked once be\\xADfore / after all tests of the class. Here, we just re\\xADtrieve the http port (passed as a sys\\xADtem prop\\xADerty) and we con\\xADfig\\xADure REST As\\xADsured.\"),mdx(Alert,{info:!0,title:\"Am I ready to serve?\",mdxType:\"Alert\"},mdx(\"p\",null,\"You may need to wait in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"configureRestAssured\"),\" method that the HTTP server has been started. We rec\\xADom\\xADmend the \",mdx(\"a\",a({parentName:\"p\"},{href:\"https://github.com/jayway/awaitility\"}),\"await\\xADil\\xADity\"),\" test frame\\xADwork to check that the re\\xADquest can be served. It would fail the test if the server does not start.\")),mdx(\"p\",null,\"It\\u2019s now time to im\\xADple\\xADment a real test. Let\\u2019s check we can re\\xADtrieve an in\\xADdi\\xADvid\\xADual prod\\xADuct:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"checkThatWeCanRetrieveIndividualProduct\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Get the list of bottles, ensure it's a success and extract the first id.\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"final\"),\" \",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-keyword\"}),\"int\"),\" id = get(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies\"'),`).then()\n      .assertThat()\n      .statusCode(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),`)\n      .extract()\n      .jsonPath().getInt(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),`\"find { it.name=='Bowmore 15 Years Laimrig' }.id\"`),`);\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Now get the individual resource and check the content\"),`\n  get(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies/\"'),` + id).then()\n      .assertThat()\n      .statusCode(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),`)\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"name\"'),\", equalTo(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Bowmore 15 Years Laimrig\"'),`))\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"origin\"'),\", equalTo(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Scotland, Islay\"'),`))\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"id\"'),`, equalTo(id));\n}\n`)),mdx(\"p\",null,\"Here you can ap\\xADpre\\xADci\\xADate the power and ex\\xADpres\\xADsive\\xADness of Rest As\\xADsured. We re\\xADtrieve the list of prod\\xADuct, en\\xADsure the re\\xADsponse is cor\\xADrect, and ex\\xADtract the \",mdx(\"em\",{parentName:\"p\"},\"id\"),\" of a spe\\xADcific bot\\xADtle using a JSON (Groovy) Path ex\\xADpres\\xADsion.\"),mdx(\"p\",null,\"Then, we try to re\\xADtrieve the meta\\xADdata of this in\\xADdi\\xADvid\\xADual prod\\xADuct, and check the re\\xADsult.\"),mdx(\"p\",null,\"Let\\u2019s now im\\xADple\\xADment a more so\\xADphis\\xADti\\xADcated sce\\xADnario. Let\\u2019s add and delete a prod\\xADuct:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-title\"}),\"checkWeCanAddAndDeleteAProduct\"),mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-params\"}),\"()\"),\" \"),`{\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Create a new bottle and retrieve the result (as a Whisky instance).\"),`\n  Whisky whisky = given()\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"{\\\\\"name\\\\\":\\\\\"Jameson\\\\\", \\\\\"origin\\\\\":\\\\\"Ireland\\\\\"}\"'),\").request().post(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies\"'),`).thenReturn().as(Whisky.class);\n  assertThat(whisky.getName()).isEqualToIgnoringCase(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Jameson\"'),`);\n  assertThat(whisky.getOrigin()).isEqualToIgnoringCase(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Ireland\"'),`);\n  assertThat(whisky.getId()).isNotZero();\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Check that it has created an individual resource, and check the content.\"),`\n  get(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies/\"'),` + whisky.getId()).then()\n      .assertThat()\n      .statusCode(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),`)\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"name\"'),\", equalTo(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Jameson\"'),`))\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"origin\"'),\", equalTo(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"Ireland\"'),`))\n      .body(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"id\"'),`, equalTo(whisky.getId()));\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Delete the bottle\"),`\n  delete(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies/\"'),\" + whisky.getId()).then().assertThat().statusCode(\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"204\"),`);\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Check that the resource is not available anymore\"),`\n  get(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-string\"}),'\"/api/whiskies/\"'),` + whisky.getId()).then()\n      .assertThat()\n      .statusCode(`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-number\"}),\"404\"),`);\n}\n`)),mdx(\"p\",null,\"So, now we have in\\xADte\\xADgra\\xADtion tests let\\u2019s try:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),`mvn clean verify\n`)),mdx(\"p\",null,\"Sim\\xADple no? Well, sim\\xADple once the setup is done right\\u2026 You can con\\xADtinue im\\xADple\\xADment\\xADing other in\\xADte\\xADgra\\xADtion tests to be sure that every\\xADthing be\\xADhave as you ex\\xADpect.\"),mdx(\"h2\",a({},{id:\"dear-windows-users\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#dear-windows-users\"})),\"Dear Windows users\\u2026\"),mdx(\"p\",null,\"This sec\\xADtion is the bonus part for Win\\xADdows user, or peo\\xADple want\\xADing to run their in\\xADte\\xADgra\\xADtion tests on Win\\xADdows ma\\xADchine too. The com\\xADmand we ex\\xADe\\xADcute to stop the ap\\xADpli\\xADca\\xADtion is not going to work on Win\\xADdows. Luck\\xADily, it\\u2019s pos\\xADsi\\xADble to ex\\xADtend the \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" with a pro\\xADfile ex\\xADe\\xADcuted on Win\\xADdows.\"),mdx(\"p\",null,\"In your \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\", just after \",mdx(\"inlineCode\",{parentName:\"p\"},\"</build>\"),\", add:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-xml\"}),mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"profiles\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-comment\"}),\"<!-- A profile for windows as the stop command is different -->\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"profile\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),\"windows\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"activation\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"os\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"family\"),\">\"),\"windows\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"family\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"os\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"activation\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"build\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugins\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),\"maven-antrun-plugin\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"artifactId\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),\"1.8\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"version\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),\"stop-vertx-app\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"id\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),\"post-integration-test\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"phase\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),\"run\",mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goal\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"goals\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n                  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"executable\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"wmic\"'),`\n                      `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"dir\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"${project.build.directory}\"'),`\n                      `,mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"spawn\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"false\"'),\">\"),`\n                    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"process\"'),\"/>\"),`\n                    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"where\"'),\"/>\"),`\n                    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),`\"CommandLine like '%\\${project.artifactId}%' and not name='wmic.exe'\"`),\"/>\"),`\n                    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"<\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"arg\"),\" \",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-attr\"}),\"value\"),\"=\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-string\"}),'\"delete\"'),\"/>\"),`\n                  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"exec\"),\">\"),`\n                `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"target\"),\">\"),`\n              `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"configuration\"),\">\"),`\n            `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"execution\"),\">\"),`\n          `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"executions\"),\">\"),`\n        `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugin\"),\">\"),`\n      `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"plugins\"),\">\"),`\n    `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"build\"),\">\"),`\n  `,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"profile\"),\">\"),`\n`,mdx(\"span\",a({parentName:\"code\"},{className:\"hljs-tag\"}),\"</\",mdx(\"span\",a({parentName:\"span\"},{className:\"hljs-name\"}),\"profiles\"),\">\"),`\n`)),mdx(\"p\",null,\"This pro\\xADfile re\\xADplaces the ac\\xADtions de\\xADscribed above to stop the ap\\xADpli\\xADca\\xADtion with a ver\\xADsion work\\xADing on win\\xADdows. The pro\\xADfile is au\\xADto\\xADmat\\xADi\\xADcally en\\xADabled on Win\\xADdows. As on oth\\xADers op\\xADer\\xADat\\xADing sys\\xADtems, ex\\xADe\\xADcute with:\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"hljs language-bash\"}),`mvn clean verify\n`)),mdx(\"h2\",a({},{id:\"conclusion\"}),mdx(\"a\",a({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#conclusion\"})),\"Conclusion\"),mdx(\"p\",null,\"Wow, what a trip ! We are done\\u2026 In this post we have seen how we can gain con\\xADfi\\xADdence in Vert.x ap\\xADpli\\xADca\\xADtions by im\\xADple\\xADment\\xADing both unit and in\\xADte\\xADgra\\xADtion tests. Unit tests, thanks to vert.x unit, are able to check the asyn\\xADchro\\xADnous as\\xADpect of Vert.x ap\\xADpli\\xADca\\xADtion, but could be com\\xADplex for large sce\\xADnar\\xADios. Thanks to Rest As\\xADsured and As\\xADsertJ, in\\xADte\\xADgra\\xADtion tests are dead sim\\xADple to write\\u2026 but the setup is not straight\\xADfor\\xADward. This post have shown how it can be con\\xADfig\\xADured eas\\xADily. Ob\\xADvi\\xADously, you could also use As\\xADsertJ and Rest As\\xADsured in your unit tests.\"),mdx(\"p\",null,\"In the \",mdx(Link,{href:\"/blog/using-the-asynchronous-sql-client/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",a({parentName:\"p\"},{href:\"\"}),\"next post\")),\", we re\\xADplace the \",mdx(\"em\",{parentName:\"p\"},\"in mem\\xADory\"),\" back\\xADend with a data\\xADbase, and use asyn\\xADchro\\xADnous in\\xADte\\xADgra\\xADtion with this data\\xADbase.\"),mdx(\"p\",null,\"Stay Tuned & Happy Cod\\xADing !\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Vert.x 3 real time web apps","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"One of the interesting features of Vert.x is the SockJS event bus bridge. It allows external applications to communicate with Vert.x event bus using Websockets."},"date":"2015-08-31","slug":"vert-x3-real-time-web-apps"},"nextPost":{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x"},"relatedPosts":[{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x"},{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"}]},"__N_SSG":true}