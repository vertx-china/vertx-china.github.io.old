{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Eclipse Vert.x 3.5.1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We have just released Vert.x 3.5.1!"},"date":"2018-02-13","slug":"eclipse-vert-x-3-5-1-released","readingTime":{"text":"4 min read","minutes":3.38,"time":202800,"words":676},"content":{"compiledSource":"var h=Object.defineProperty,d=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var p=(a,t,n)=>t in a?h(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=>{for(var n in t||(t={}))s.call(t,n)&&p(a,n,t[n]);if(i)for(var n of i(t))o.call(t,n)&&p(a,n,t[n]);return a},l=(a,t)=>d(a,c(t));var m=(a,t)=>{var n={};for(var r in a)s.call(a,r)&&t.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&i)for(var r of i(a))t.indexOf(r)<0&&o.call(a,r)&&(n[r]=a[r]);return n};const makeShortcode=a=>function(n){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},Link=makeShortcode(\"Link\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var r=n,{components:a}=r,t=m(r,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"We have just re\\xADleased Vert.x 3.5.1!\"),mdx(\"h2\",e({},{id:\"fixes-first\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#fixes-first\"})),\"Fixes first!\"),mdx(\"p\",null,\"As usual this re\\xADlease fixes bugs re\\xADported in 3.5.0, see the re\\xADlease notes.\"),mdx(\"h2\",e({},{id:\"junit-5-support\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#junit-5-support\"})),\"JUnit 5 support\"),mdx(\"p\",null,\"This re\\xADlease in\\xADtro\\xADduces the new \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-junit5\"}),\"vertx-\\u200Bjunit5 mod\\xADule\"),\".\"),mdx(\"p\",null,mdx(\"a\",e({parentName:\"p\"},{href:\"http://junit.org/junit5/\"}),\"JUnit 5\"),\" is a rewrite of the fa\\xADmous Java test\\xADing frame\\xADwork that brings new in\\xADter\\xADest\\xADing fea\\xADtures, in\\xADclud\\xADing:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"nested tests,\"),mdx(\"li\",{parentName:\"ul\"},\"the abil\\xADity to give a human-\\u200Breadable de\\xADscrip\\xADtion of tests and test cases (and yes, even use emo\\xADjis),\"),mdx(\"li\",{parentName:\"ul\"},\"a mod\\xADu\\xADlar ex\\xADten\\xADsion mech\\xADa\\xADnism that is more pow\\xADer\\xADful than the JUnit 4 run\\xADner mech\\xADa\\xADnism (@Run\\xADWith an\\xADno\\xADta\\xADtion),\"),mdx(\"li\",{parentName:\"ul\"},\"con\\xADdi\\xADtional test ex\\xADe\\xADcu\\xADtion,\"),mdx(\"li\",{parentName:\"ul\"},\"pa\\xADra\\xADme\\xADter\\xADized tests, in\\xADclud\\xADing from sources such as CSV data,\"),mdx(\"li\",{parentName:\"ul\"},\"the sup\\xADport of Java 8 lambda ex\\xADpres\\xADsions in the re\\xADworked built-\\u200Bin as\\xADser\\xADtions API,\"),mdx(\"li\",{parentName:\"ul\"},\"sup\\xADport for run\\xADning tests pre\\xADvi\\xADously writ\\xADten for JUnit 4.\")),mdx(\"p\",null,\"Sup\\xADpose that we have a \",mdx(\"inlineCode\",{parentName:\"p\"},\"SampleVerticle\"),` ver\\xADti\\xADcle that ex\\xADposes a HTTP server on port 11981.\nHere is how we can test its de\\xADploy\\xADment as well as the re\\xADsult of 10 con\\xADcur\\xADrent HTTP re\\xADquests:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Test\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),'@DisplayName(\"\\u{1F680} Deploy a HTTP service verticle and make 10 requests\")'),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"void\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"useSampleVerticle\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(Vertx vertx, VertxTestContext testContext)\"),\" \"),`{\n  WebClient webClient = WebClient.create(vertx);\n  Checkpoint deploymentCheckpoint = testContext.checkpoint();\n\n  Checkpoint requestCheckpoint = testContext.checkpoint(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),`);\n  vertx.deployVerticle(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),` SampleVerticle(), testContext.succeeding(id -> {\n    deploymentCheckpoint.flag();\n\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"for\"),\" (\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"int\"),\" i = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"0\"),\"; i < \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"10\"),`; i++) {\n      webClient.get(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"11981\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"localhost\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/\"'),`)\n        .as(BodyCodec.string())\n        .send(testContext.succeeding(resp -> {\n          testContext.verify(() -> {\n            assertThat(resp.statusCode()).isEqualTo(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),`);\n            assertThat(resp.body()).contains(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Yo!\"'),`);\n            requestCheckpoint.flag();\n          });\n        }));\n    }\n  }));\n}\n`)),mdx(\"p\",null,\"The test method above ben\\xADe\\xADfits from the in\\xADjec\\xADtion of a work\\xADing \",mdx(\"inlineCode\",{parentName:\"p\"},\"Vertx\"),\" con\\xADtext, a \",mdx(\"inlineCode\",{parentName:\"p\"},\"VertxTestContext\"),` for deal\\xADing with\nasyn\\xADchro\\xADnous op\\xADer\\xADa\\xADtions, and the guar\\xADan\\xADtee that the ex\\xADe\\xADcu\\xADtion time is bound by a time\\xADout which can op\\xADtion\\xADally be con\\xADfig\\xADured\nusing a `,mdx(\"inlineCode\",{parentName:\"p\"},\"@Timeout\"),\" an\\xADno\\xADta\\xADtion.\"),mdx(\"p\",null,`The test suc\\xADceeds when all check\\xADpoints have been flagged.\nNote that `,mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-junit5\"),` is ag\\xADnos\\xADtic of the as\\xADser\\xADtions li\\xADbrary being used: you may opt for the built-\\u200Bin JUnit 5 as\\xADser\\xADtions\nor use a 3rd-\\u200Bparty li\\xADbrary such as `,mdx(\"a\",e({parentName:\"p\"},{href:\"http://joel-costigliola.github.io/assertj/\"}),\"As\\xADsertJ\"),\" as we did in the ex\\xADam\\xADple above.\"),mdx(\"p\",null,\"You can check\\xADout the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-junit5\"}),\"source on GitHub\"),\", read \",mdx(Link,{href:\"/docs/vertx-junit5/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"the man\\xADual\")),\" and learn from \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-examples/tree/master/junit5-examples\"}),\"the ex\\xADam\\xADples\"),\".\"),mdx(\"h2\",e({},{id:\"web-api-contract-enhancements\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#web-api-contract-enhancements\"})),\"Web API Contract enhancements\"),mdx(\"p\",null,\"The pack\\xADage \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-web-api-contract\"),\" in\\xADcludes a va\\xADri\\xADety of fixes, from schema \",mdx(\"inlineCode\",{parentName:\"p\"},\"$ref\"),` to\n`,mdx(Link,{href:\"/docs/vertx-web-api-contract/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"re\\xADvamped doc\\xADu\\xADmen\\xADta\\xADtion\")),`. You can give a look at list of all\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-web/pull/802\"}),\"fixes/im\\xADprove\\xADments here\"),` and all\n`,mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/wiki/wiki/3.5.1-Breaking-Changes#vertx-web-api-contracts\"}),\"break\\xADing changes here\"),\".\"),mdx(\"p\",null,\"From 3.5.1 to load the ope\\xADnapi spec and in\\xADstan\\xADti\\xADate the Router you should use new method \",mdx(\"inlineCode\",{parentName:\"p\"},\"OpenAPI3RouterFactory.create()\"),`\nthat re\\xADplaces old meth\\xADods `,mdx(\"inlineCode\",{parentName:\"p\"},\"createRouterFactoryFromFile()\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"createRouterFactoryFromURL()\"),`. This new method ac\\xADcepts\nrel\\xADa\\xADtive paths, ab\\xADsolute paths, local URL with `,mdx(\"inlineCode\",{parentName:\"p\"},\"file://\"),\" and re\\xADmote URL with \",mdx(\"inlineCode\",{parentName:\"p\"},\"http://\"),`. Note that if you want refeer to\na file rel\\xADa\\xADtive to your jar\\u2019s root, you can sim\\xADply use a rel\\xADa\\xADtive path and the parser will look out the jar and into the\njar for the spec.`),mdx(\"p\",null,\"From 3.5.1 all set\\xADtings about \",mdx(\"inlineCode\",{parentName:\"p\"},\"OpenAPI3RouterFactory\"),` be\\xADhav\\xADiours dur\\xADing router gen\\xADer\\xADa\\xADtion are in\\xADglobed in a new ob\\xADject called\n`,mdx(Link,{href:\"/docs/apidocs/io/vertx/ext/web/api/contract/RouterFactoryOptions.html\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"RouterFactoryOptions\"))),`. From\nthis ob\\xADject you can:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},`Con\\xADfig\\xADure if you want to mount a de\\xADfault val\\xADi\\xADda\\xADtion fail\\xADure han\\xADdler and which one\n(meth\\xADods `,mdx(\"inlineCode\",{parentName:\"li\"},\"setMountValidationFailureHandler(boolean)\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"setValidationFailureHandler(Handler)\"),\")\"),mdx(\"li\",{parentName:\"ul\"},`Con\\xADfig\\xADure if you want to mount a de\\xADfault 501 not im\\xADple\\xADmented han\\xADdler and which one\n(meth\\xADods `,mdx(\"inlineCode\",{parentName:\"li\"},\"setMountNotImplementedFailureHandler(boolean)\"),\" and \",mdx(\"inlineCode\",{parentName:\"li\"},\"setNotImplementedFailureHandler(Handler)\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"Con\\xADfig\\xADure if you want to mount \",mdx(\"inlineCode\",{parentName:\"li\"},\"ResponseContentTypeHandler\"),` au\\xADto\\xADmat\\xADi\\xADcally\n(method `,mdx(\"inlineCode\",{parentName:\"li\"},\"setMountResponseContentTypeHandler(boolean)\"),\")\"),mdx(\"li\",{parentName:\"ul\"},`Con\\xADfig\\xADure if you want to fail dur\\xADing router gen\\xADer\\xADa\\xADtion when se\\xADcu\\xADrity han\\xADdlers are not con\\xADfig\\xADured\n(method `,mdx(\"inlineCode\",{parentName:\"li\"},\"setRequireSecurityHandlers(boolean)\"),\")\")),mdx(\"p\",null,\"After ini\\xADtial\\xADiza\\xADtion of route, you can mount the \",mdx(\"inlineCode\",{parentName:\"p\"},\"RouterFactoryOptions\"),\" ob\\xADject with method \",mdx(\"inlineCode\",{parentName:\"p\"},\"routerFactory.setOptions()\"),`\nwhen you want be\\xADfore call\\xADing `,mdx(\"inlineCode\",{parentName:\"p\"},\"getRouter()\"),\".\"),mdx(\"h2\",e({},{id:\"rxjava-deprecation-removal\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#rxjava-deprecation-removal\"})),\"RxJava deprecation removal\"),mdx(\"p\",null,\"It is im\\xADpor\\xADtant to know that 3.5.x will be the last re\\xADlease with the legacy \",mdx(\"inlineCode\",{parentName:\"p\"},\"xyzObservable()\"),\" meth\\xADods:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-meta\"}),\"@Deprecated()\"),`\n`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" Observable<HttpServer> \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"listenObservable\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"int\"),\" port, String host)\")),`;\n`)),mdx(\"p\",null,\"has been re\\xADplaced since Vert.x 3.4 by:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-function\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"public\"),\" Single<HttpServer> \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-title\"}),\"rxListen\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-keyword\"}),\"int\"),\" port, String host)\")),`;\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"xyzObservable()\"),\" dep\\xADre\\xADcated meth\\xADods will be \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-rx/issues/113\"}),\"re\\xADmoved\"),\" in Vert.x 3.6.\"),mdx(\"h2\",e({},{id:\"wrap-up\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#wrap-up\"})),\"Wrap up\"),mdx(\"p\",null,\"Vert.x 3.5.1 re\\xADlease notes and break\\xADing changes:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/vert-x3/wiki/wiki/3.5.1-Release-Notes\"}),\"https://github.com/vert-\\u200Bx3/wiki/wiki/3.5.1-\\u200BRelease-Notes\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/vert-x3/wiki/wiki/3.5.1-Breaking-Changes\"}),\"https://github.com/vert-\\u200Bx3/wiki/wiki/3.5.1-\\u200BBreaking-Changes\"))),mdx(\"p\",null,\"The event bus client using the SockJS bridge are avail\\xADable from NPM, Bower and as a We\\xADb\\xADJar:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://www.npmjs.com/package/vertx3-eventbus-client\"}),\"https://www.npmjs.com/pack\\xADage/vertx3-\\u200Beventbus-client\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/vert-x3/vertx-bus-bower\"}),\"https://github.com/vert-\\u200Bx3/vertx-\\u200Bbus-bower\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"http://www.webjars.org/\"}),\"http://www.we\\xADb\\xADjars.org/\"))),mdx(\"p\",null,\"Docker im\\xADages are also avail\\xADable on the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://hub.docker.com/u/vertx/\"}),\"Docker Hub\"),\". The Vert.x dis\\xADtri\\xADb\\xADu\\xADtion is also avail\\xADable from \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://sdkman.io/index.html\"}),\"SD\\xADKMan\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://brew.sh/\"}),\"Home\\xADBrew\"),\".\"),mdx(\"p\",null,\"The ar\\xADti\\xADfacts have been de\\xADployed to \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.1%22\"}),\"Maven Cen\\xADtral\"),\" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://bintray.com/vertx/downloads/distribution/3.3.3/view\"}),\"Bin\\xADtray\"),\".\"),mdx(\"p\",null,\"Happy cod\\xADing !\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Google Summer of Code 2018","category":"news","authors":[{"name":"Thomas Segismont","github_id":"tsegismont"}],"summary":"It's this time of year again! Google Summer of Code 2018 submission period has just started!"},"date":"2018-03-13","slug":"google-summer-of-code-2018"},"nextPost":{"meta":{"title":"Eclipse Vert.x based Framework URL Shortener Backend","category":"guides","authors":[{"name":"Lazar Bulić","github_id":"pendula95"}],"summary":"We combine Vert.x with the serverless framework to write a microservice that runs on AWS Lambda."},"date":"2017-12-21","slug":"eclipse-vert-x-based-framework-url-shortener-backend"},"relatedPosts":[{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"Checklist for Migrating from Vert.x 2.1.x to Vert.x 3 - Part One","category":"guides","authors":[{"name":"Mark Spritzler","github_id":"bytor99999"}],"summary":"So while upgrading our application, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major upgrade from the previous version, with so many changes."},"date":"2015-07-06","slug":"checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one"},{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"}]},"__N_SSG":true}