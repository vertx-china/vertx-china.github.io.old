{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Getting started with new fabric8 Vert.x Maven Plugin","category":"guides","authors":[{"name":"Kamesh Sampath","github_id":"kameshsampath"}],"summary":"The all new fabric8 Vert.x Maven Plugin allows you to setup, package, run, start, stop and redeploy easily with a very little configuration resulting in a less verbose pom.xml."},"date":"2016-12-07","slug":"getting-started-with-new-fabric8-vert-x-maven-plugin","readingTime":{"text":"5 min read","minutes":4.455,"time":267300,"words":891},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"The all new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" al\\xADlows you to setup, pack\\xADage, run, start, stop and re\\xADde\\xADploy eas\\xADily with a very lit\\xADtle con\\xADfig\\xADu\\xADra\\xADtion re\\xADsult\\xADing in a less ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \".\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"The plug\\xADin is de\\xADvel\\xADoped under the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fabric8.io/\"\n  }), \"fab\\xADric8\"), \" um\\xADbrella.\")), mdx(\"p\", null, \"Tra\\xADdi\\xADtion\\xADally Vert.x ap\\xADpli\\xADca\\xADtions using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" need to have one or more of the fol\\xADlow\\xADing plu\\xADg\\xADins:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://maven.apache.org/plugins/maven-shade-plugin/\"\n  }), \"Maven Shade Plu\\xADgin\"), \" - aids in pack\\xADag\\xADing a uber jar of Vert.x ap\\xADpli\\xADca\\xADtion with ad\\xADdi\\xADtional con\\xADfig\\xADu\\xADra\\xADtions to per\\xADform SPI com\\xADbin\\xADing, MAN\\xADI\\xADFEST.MF en\\xADtries etc.,\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://www.mojohaus.org/exec-maven-plugin/\"\n  }), \"Maven Exec Plu\\xADgin\"), \" - aids in start\\xADing the Vert.x ap\\xADpli\\xADca\\xADtion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://maven.apache.org/plugins/maven-ant-plugin/\"\n  }), \"Maven Ant Plu\\xADgin\"), \" - aids in stop\\xADping the run\\xADning Vert.x ap\\xADpli\\xADca\\xADtion\")), mdx(\"p\", null, \"Though these are great plu\\xADg\\xADins and do what is re\\xADquired, but at the end of the day the de\\xADvel\\xADoper is left with a ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" which might be\\xADcome harder to main\\xADtain as the ap\\xADpli\\xADca\\xADtion or its con\\xADfig\\xADu\\xADra\\xADtion grows. Even if we de\\xADcide to go this way and use those plu\\xADg\\xADins, there are some things which can\\u2019t done or done eas\\xADily:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"run\"), \" an ap\\xADpli\\xADca\\xADtion on fore\\xADground - which is a typ\\xADi\\xADcal way dur\\xADing de\\xADvel\\xADop\\xADment where the ap\\xADpli\\xADca\\xADtion starts in fore\\xADground of \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" build and killed au\\xADto\\xADmat\\xADi\\xADcally once we hit \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Ctrl + c\"), \"(or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CMD + c\"), \" on Mac)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"redeploy\"), \" is one of the coolest fea\\xADture of Vert.x al\\xADlow\\xADing us to per\\xADform hot de\\xADploy\\xADments. Still we can man\\xADage to do this with IDE sup\\xADport but not na\\xADtively using \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" - typ\\xADi\\xADcal cases where we dis\\xADable \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"Au\\xADto\\xADmatic Builds\"), \" via IDE\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"setup\"), \" Vert.x ap\\xADpli\\xADca\\xADtions with sen\\xADsi\\xADble de\\xADfaults and re\\xADquired Vert.x de\\xADpen\\xADden\\xADcies e.g. vertx-\\u200Bcore\")), mdx(\"p\", null, \"In this first blog of fab\\xADric8 Vert.x Maven Plu\\xADgin se\\xADries we will help you to get started with this new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \", high\\xADlight\\xADing how this plug\\xADin helps al\\xADle\\xADvi\\xADat\\xADing the afore\\xADmen\\xADtioned pain points with a less ver\\xADbose \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \".\"), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" plug\\xADin source code is avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/fabric8io/vertx-maven-plugin\"\n  }), \"github\"), \" with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" plug\\xADin doc\\xADu\\xADmen\\xADta\\xADtion avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\")), mdx(\"p\", null, \"The source code of the ex\\xADam\\xADples used in this blog are avail\\xADable at \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog\"\n  }), \"github\")), mdx(\"h2\", {\n    \"id\": \"lets-set-it-up\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#lets-set-it-up\"\n  })), \"Let\\u2019s set it up\"), mdx(\"p\", null, \"Its very easy to setup and get started. Let\\u2019s say you have a project called \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"vmp-\\u200Bblog\"), \" with the fol\\xADlow\\xADing con\\xADtent as part of your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\")), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/0e0cfc90ea3cb9d69553ee9901dfd796\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"from the project di\\xADrec\\xADtory just run the fol\\xADlow\\xADing com\\xADmand:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn io.fabric8:vertx-maven-plugin:1.0.0:setup\\n\")), mdx(\"p\", null, \"On suc\\xADcess\\xADful ex\\xADe\\xADcu\\xADtion of the above com\\xADmand the project\\u2019s \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" will be up\\xADdated:\"), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/3c2e96d98f1e16d0f7a0501c05ce0d12\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"The com\\xADmand did the fol\\xADlow\\xADing for you on the project:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added cou\\xADple of prop\\xADer\\xADties\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fabric8.vertx.plugin.version\"), \" - the lat\\xADest fab\\xADric8 vert.x maven plug\\xADin ver\\xADsion\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx.version\"), \" - the lat\\xADest Vert.x frame\\xADwork ver\\xADsion\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added the Vert.x de\\xADpen\\xADdency BOM and vertx-\\u200Bcore de\\xADpen\\xADdency cor\\xADre\\xADspond\\xADing to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx.version\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"added \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"vertx-maven-plugin\"), \" with a sin\\xADgle ex\\xADe\\xADcu\\xADtion for goals \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:initalize\"\n  }), \"ini\\xADtial\\xADize\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:package\"\n  }), \"pack\\xADage\"))), mdx(\"p\", null, \"The source code cre\\xADated by this step is avail\\xADable \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/setup\"\n  }), \"here\")), mdx(\"p\", null, \"Et voil\\xE0, you are now all set to go with your Vert.x ap\\xADpli\\xADca\\xADtion build\\xADing with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \"!!\"), mdx(\"h2\", {\n    \"id\": \"lets-package-it\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#lets-package-it\"\n  })), \"Let\\u2019s package it\"), mdx(\"p\", null, \"Now that we have set up our project to use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-maven-plugin\"), \", lets add a sim\\xADple ver\\xADti\\xADcle and pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion as typ\\xADi\\xADcal \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"uber\"), \" jar (in the Vert.x world we call them \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fat\"), \" jars).  The source code of this sec\\xADtion is avail\\xADable \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/package\"\n  }), \"here\"), \".\"), mdx(\"p\", null, \"To make \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package\"), \" work cor\\xADrectly we need to add prop\\xADerty called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx.verticle\"), \", which will be used by the vertx-\\u200Bmaven-plugin to set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Main-Verticle:\"), \" at\\xADtribute of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MANIFEST.MF\"), \".  Please refer to the doc\\xADu\\xADmen\\xADta\\xADtion of  \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:package\"\n  }), \"pack\\xADage\"), \" for other pos\\xADsi\\xADble con\\xADfig\\xADu\\xADra\\xADtions.  There is also a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vmp.fabric8.io/#vertx:examples\"\n  }), \"ex\\xADam\\xADples\"), \" sec\\xADtion of the vertx-\\u200Bmaven-plugin which pro\\xADvides var\\xADi\\xADous sam\\xADples snip\\xADpets.\"), mdx(\"p\", null, \"The up\\xADdated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"pom.xml\"), \" with the added prop\\xADerty \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-maven-plugin\"), \" is shown below:\"), mdx(Alert, {\n    info: true,\n    mdxType: \"Alert\"\n  }, mdx(\"p\", null, \"Only up\\xADdated sec\\xADtion is shown below, rest of the pom.xml is same as above\")), mdx(Gist, {\n    url: \"https://gist.github.com/kameshsampath/24a1ed6a377b118f06af2c4b4ddf0ca0\",\n    mdxType: \"Gist\"\n  }), mdx(\"p\", null, \"To pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion, run the fol\\xADlow\\xADing \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" com\\xADmand from the project di\\xADrec\\xADtory:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"mvn clean package\\n\")), mdx(\"p\", null, \"On suc\\xADcess\\xADful run of the above com\\xADmand you should see the file with name \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.finalName}.jar\"), \" cre\\xADated in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.build.directory}\"), \", you could now do the fol\\xADlow\\xADing to start and run the Vert.x ap\\xADpli\\xADca\\xADtion.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-bash\"\n  }), \"java -jar \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-variable\"\n  }), \"${project.build.directory}\"), \"/\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-variable\"\n  }), \"${project.finalName}\"), \".jar\\n\")), mdx(\"p\", null, \"The gen\\xADer\\xADated \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MANIFEST.MF\"), \" file is as shown below:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"Main-Class                               io.vertx.core.Launcher\\nMain-Verticle                            io.fabric8.blog.MainVerticle\\nManifest-Version                         1.0\\n\")), mdx(\"p\", null, \"The source code up to now is avail\\xADable in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kameshsampath/vmp-blog/tree/package\"\n  }), \"here\")), mdx(\"h3\", {\n    \"id\": \"spi-combination\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#spi-combination\"\n  })), \"SPI Combination\"), mdx(\"p\", null, \"The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"package\"), \" goal by de\\xADfault does a SPI com\\xADbi\\xADna\\xADtion, lets say you have a ser\\xADvice file called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.basedir}/src/main/resources/META-INF/services\"), \" with con\\xADtents:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"foo.bar.baz.MyImpl\\n${combine}\\n\")), mdx(\"p\", null, \"Dur\\xADing pack\\xADag\\xADing, if the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" finds an\\xADother \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" ser\\xADvice de\\xADf\\xADi\\xADn\\xADi\\xADtion file within the project de\\xADpen\\xADden\\xADcies with con\\xADtent \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz2.My\\xADImpl2\"), \", then it merges the con\\xADtent into \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"com.fasterxml.jackson.core.JsonFactory\"), \" of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${project.basedir}/src/main/resources/META-INF/services\"), \", re\\xADsult\\xADing in the fol\\xADlow\\xADing con\\xADtent:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-text\"\n  }), \"foo.bar.baz.MyImpl\\nfoo.bar.baz2.MyImpl2\\n\")), mdx(\"p\", null, \"The po\\xADsi\\xADtion of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${combine}\"), \" con\\xADtrols the or\\xADder\\xADing of the merge, since we added \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${combine}\"), \" below \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz.My\\xADImpl\"), \" all other SPI de\\xADf\\xADi\\xADn\\xADi\\xADtions will be ap\\xADpended below \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"foo.bar.baz.My\\xADImpl\")), mdx(\"h2\", {\n    \"id\": \"whats-next-\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#whats-next-\"\n  })), \"What\\u2019s next ?\"), mdx(\"p\", null, \"It\\u2019s good to have the jar pack\\xADaged and run using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"java -jar uber-jar\"), \", but when doing typ\\xADi\\xADcal de\\xADvel\\xADop\\xADment you don\\u2019t  want to do fre\\xADquent \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" pack\\xADag\\xADing and wish to see your changes au\\xADto\\xADmat\\xADi\\xADcally re\\xADde\\xADployed.\"), mdx(\"p\", null, \"Don\\u2019t worry!!! As part of \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" we have added the in\\xADcre\\xADmen\\xADtal builder to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://maven.apache.org\"\n  }), \"Apache Maven\"), \" build, which will watch for your source and re\\xADsource changes to per\\xADform au\\xADto\\xADmatic re-\\u200Bbuild and del\\xADe\\xADgate the re\\xADde\\xADploy\\xADment to Vert.x.\"), mdx(\"p\", null, \"Run, re\\xADde\\xADploy and other fea\\xADtures of the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \" will be ex\\xADplored in de\\xADtail in the next part of this se\\xADries, until then have fun with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://vmp.fabric8.io\"\n  }), \"fab\\xADric8 Vert.x Maven Plu\\xADgin\"), \"!!\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<p>The all new <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a> al­lows you to setup, pack­age, run, start, stop and re­de­ploy eas­ily with a very lit­tle con­fig­u­ra­tion re­sult­ing in a less ver­bose <code>pom.xml</code>.</p><div class=\"alert info\"><p>The plug­in is de­vel­oped under the <a href=\"https://fabric8.io/\">fab­ric8</a> um­brella.</p></div><p>Tra­di­tion­ally Vert.x ap­pli­ca­tions using <a href=\"http://maven.apache.org\">Apache Maven</a> need to have one or more of the fol­low­ing plu­g­ins:</p><ul><li><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\">Maven Shade Plu­gin</a> - aids in pack­ag­ing a uber jar of Vert.x ap­pli­ca­tion with ad­di­tional con­fig­u­ra­tions to per­form SPI com­bin­ing, MAN­I­FEST.MF en­tries etc.,</li><li><a href=\"http://www.mojohaus.org/exec-maven-plugin/\">Maven Exec Plu­gin</a> - aids in start­ing the Vert.x ap­pli­ca­tion</li><li><a href=\"https://maven.apache.org/plugins/maven-ant-plugin/\">Maven Ant Plu­gin</a> - aids in stop­ping the run­ning Vert.x ap­pli­ca­tion</li></ul><p>Though these are great plu­g­ins and do what is re­quired, but at the end of the day the de­vel­oper is left with a ver­bose <code>pom.xml</code> which might be­come harder to main­tain as the ap­pli­ca­tion or its con­fig­u­ra­tion grows. Even if we de­cide to go this way and use those plu­g­ins, there are some things which can’t done or done eas­ily:</p><ul><li><code>run</code> an ap­pli­ca­tion on fore­ground - which is a typ­i­cal way dur­ing de­vel­op­ment where the ap­pli­ca­tion starts in fore­ground of <a href=\"http://maven.apache.org\">Apache Maven</a> build and killed au­to­mat­i­cally once we hit <code>Ctrl + c</code>(or <code>CMD + c</code> on Mac)</li><li><code>redeploy</code> is one of the coolest fea­ture of Vert.x al­low­ing us to per­form hot de­ploy­ments. Still we can man­age to do this with IDE sup­port but not na­tively using <a href=\"http://maven.apache.org\">Apache Maven</a> - typ­i­cal cases where we dis­able <em>Au­to­matic Builds</em> via IDE</li><li><code>setup</code> Vert.x ap­pli­ca­tions with sen­si­ble de­faults and re­quired Vert.x de­pen­den­cies e.g. vertx-​core</li></ul><p>In this first blog of fab­ric8 Vert.x Maven Plu­gin se­ries we will help you to get started with this new <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a>, high­light­ing how this plug­in helps al­le­vi­at­ing the afore­men­tioned pain points with a less ver­bose <code>pom.xml</code>.</p><p>The <a href=\"http://maven.apache.org\">Apache Maven</a> plug­in source code is avail­able at <a href=\"https://github.com/fabric8io/vertx-maven-plugin\">github</a> with <a href=\"http://maven.apache.org\">Apache Maven</a> plug­in doc­u­men­ta­tion avail­able at <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a></p><p>The source code of the ex­am­ples used in this blog are avail­able at <a href=\"https://github.com/kameshsampath/vmp-blog\">github</a></p><h2 id=\"lets-set-it-up\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#lets-set-it-up\"></a>Let’s set it up</h2><p>Its very easy to setup and get started. Let’s say you have a project called <em>vmp-​blog</em> with the fol­low­ing con­tent as part of your <code>pom.xml</code></p><div>...waiting for Gist...</div><p>from the project di­rec­tory just run the fol­low­ing com­mand:</p><pre><code class=\"hljs language-bash\">mvn io.fabric8:vertx-maven-plugin:1.0.0:setup\n</code></pre><p>On suc­cess­ful ex­e­cu­tion of the above com­mand the project’s <code>pom.xml</code> will be up­dated:</p><div>...waiting for Gist...</div><p>The com­mand did the fol­low­ing for you on the project:</p><ul><li>added cou­ple of prop­er­ties<ul><li><code>fabric8.vertx.plugin.version</code> - the lat­est fab­ric8 vert.x maven plug­in ver­sion</li><li><code>vertx.version</code> - the lat­est Vert.x frame­work ver­sion</li></ul></li><li>added the Vert.x de­pen­dency BOM and vertx-​core de­pen­dency cor­re­spond­ing to <code>vertx.version</code></li><li>added <code>vertx-maven-plugin</code> with a sin­gle ex­e­cu­tion for goals <a href=\"https://vmp.fabric8.io/#vertx:initalize\">ini­tial­ize</a> and <a href=\"https://vmp.fabric8.io/#vertx:package\">pack­age</a></li></ul><p>The source code cre­ated by this step is avail­able <a href=\"https://github.com/kameshsampath/vmp-blog/tree/setup\">here</a></p><p>Et voilà, you are now all set to go with your Vert.x ap­pli­ca­tion build­ing with <a href=\"http://maven.apache.org\">Apache Maven</a>!!</p><h2 id=\"lets-package-it\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#lets-package-it\"></a>Let’s package it</h2><p>Now that we have set up our project to use <code>vertx-maven-plugin</code>, lets add a sim­ple ver­ti­cle and pack­age the Vert.x ap­pli­ca­tion as typ­i­cal <em>uber</em> jar (in the Vert.x world we call them <em>fat</em> jars).  The source code of this sec­tion is avail­able <a href=\"https://github.com/kameshsampath/vmp-blog/tree/package\">here</a>.</p><p>To make <code>package</code> work cor­rectly we need to add prop­erty called <code>vertx.verticle</code>, which will be used by the vertx-​maven-plugin to set the <code>Main-Verticle:</code> at­tribute of the <code>MANIFEST.MF</code>.  Please refer to the doc­u­men­ta­tion of  <a href=\"https://vmp.fabric8.io/#vertx:package\">pack­age</a> for other pos­si­ble con­fig­u­ra­tions.  There is also a <a href=\"https://vmp.fabric8.io/#vertx:examples\">ex­am­ples</a> sec­tion of the vertx-​maven-plugin which pro­vides var­i­ous sam­ples snip­pets.</p><p>The up­dated <code>pom.xml</code> with the added prop­erty <code>vertx-maven-plugin</code> is shown below:</p><div class=\"alert info\"><p>Only up­dated sec­tion is shown below, rest of the pom.xml is same as above</p></div><div>...waiting for Gist...</div><p>To pack­age the Vert.x ap­pli­ca­tion, run the fol­low­ing <a href=\"http://maven.apache.org\">Apache Maven</a> com­mand from the project di­rec­tory:</p><pre><code class=\"hljs language-bash\">mvn clean package\n</code></pre><p>On suc­cess­ful run of the above com­mand you should see the file with name <code>${project.finalName}.jar</code> cre­ated in the <code>${project.build.directory}</code>, you could now do the fol­low­ing to start and run the Vert.x ap­pli­ca­tion.</p><pre><code class=\"hljs language-bash\">java -jar <span class=\"hljs-variable\">${project.build.directory}</span>/<span class=\"hljs-variable\">${project.finalName}</span>.jar\n</code></pre><p>The gen­er­ated <code>MANIFEST.MF</code> file is as shown below:</p><pre><code class=\"hljs language-text\">Main-Class                               io.vertx.core.Launcher\nMain-Verticle                            io.fabric8.blog.MainVerticle\nManifest-Version                         1.0\n</code></pre><p>The source code up to now is avail­able in <a href=\"https://github.com/kameshsampath/vmp-blog/tree/package\">here</a></p><h3 id=\"spi-combination\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#spi-combination\"></a>SPI Combination</h3><p>The <code>package</code> goal by de­fault does a SPI com­bi­na­tion, lets say you have a ser­vice file called <code>com.fasterxml.jackson.core.JsonFactory</code> in <code>${project.basedir}/src/main/resources/META-INF/services</code> with con­tents:</p><pre><code class=\"hljs language-text\">foo.bar.baz.MyImpl\n${combine}\n</code></pre><p>Dur­ing pack­ag­ing, if the <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a> finds an­other <code>com.fasterxml.jackson.core.JsonFactory</code> ser­vice de­f­i­n­i­tion file within the project de­pen­den­cies with con­tent <em>foo.bar.baz2.My­Impl2</em>, then it merges the con­tent into <code>com.fasterxml.jackson.core.JsonFactory</code> of <code>${project.basedir}/src/main/resources/META-INF/services</code>, re­sult­ing in the fol­low­ing con­tent:</p><pre><code class=\"hljs language-text\">foo.bar.baz.MyImpl\nfoo.bar.baz2.MyImpl2\n</code></pre><p>The po­si­tion of <code>${combine}</code> con­trols the or­der­ing of the merge, since we added <code>${combine}</code> below <em>foo.bar.baz.My­Impl</em> all other SPI de­f­i­n­i­tions will be ap­pended below <em>foo.bar.baz.My­Impl</em></p><h2 id=\"whats-next-\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#whats-next-\"></a>What’s next ?</h2><p>It’s good to have the jar pack­aged and run using <code>java -jar uber-jar</code>, but when doing typ­i­cal de­vel­op­ment you don’t  want to do fre­quent <a href=\"http://maven.apache.org\">Apache Maven</a> pack­ag­ing and wish to see your changes au­to­mat­i­cally re­de­ployed.</p><p>Don’t worry!!! As part of <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a> we have added the in­cre­men­tal builder to <a href=\"http://maven.apache.org\">Apache Maven</a> build, which will watch for your source and re­source changes to per­form au­to­matic re-​build and del­e­gate the re­de­ploy­ment to Vert.x.</p><p>Run, re­de­ploy and other fea­tures of the <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a> will be ex­plored in de­tail in the next part of this se­ries, until then have fun with <a href=\"http://vmp.fabric8.io\">fab­ric8 Vert.x Maven Plu­gin</a>!!</p>","scope":{}}},"prevPost":{"meta":{"title":"Internet of Things - Reactive and Asynchronous with Vert.x","category":"guides","authors":[{"name":"Paolo Patierno","github_id":"ppatierno"}],"summary":"I have to admit … before joining Red Hat I didn’t know about the Eclipse Vert.x project but it took me few days to fall in love with it!"},"date":"2016-12-29","slug":"internet-of-things-reactive-and-asynchronous-with-vert-x"},"nextPost":{"meta":{"title":"OAuth2 got easy","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"Oauth2 support exists in Eclipse Vert.x since version 3.2.0. The implementation follows the principles that rule the whole vert.x ecosystem."},"date":"2016-12-02","slug":"oauth2-got-easy"},"relatedPosts":[{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"},{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"TCP Client using Eclipse Vert.x, Kotlin and Gradle build","category":"guides","authors":[{"name":"Usman Saleem","github_id":"usmansaleem"}],"summary":"In this blog post, I demonstrate how to write a very simple TCP client that keeps a connection open to a custom-written server in cloud."},"date":"2017-12-20","slug":"tcp-client-using-eclipse-vert-x-kotlin-and-gradle-build"}]},"__N_SSG":true}