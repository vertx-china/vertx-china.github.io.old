{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Eclipse Vert.x 3.9.0 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"New features include fluent queries in SQL clients, a new Redis client, an updated Kafka client, an improved Future API, and many more things."},"date":"2020-04-02","slug":"eclipse-vert-x-3-9-0-released","readingTime":{"text":"3 min read","minutes":2.83,"time":169800,"words":566},"content":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      p: \"p\",\n      h2: \"h2\",\n      a: \"a\",\n      code: \"code\",\n      pre: \"pre\",\n      span: \"span\",\n      ul: \"ul\",\n      li: \"li\"\n    }, props.components), {Link} = _components;\n    if (!Link) _missingMdxReference(\"Link\", true);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.p, {\n        children: \"We are ex­tremely pleased to an­nounce that the Eclipse Vert.x ver­sion 3.9.0 has been re­leased.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"sql-client-fluent-queries\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#sql-client-fluent-queries\"\n        }), \"SQL Client fluent queries\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The query API be­comes flu­ent with the ad­di­tion of a \", _jsx(_components.code, {\n          children: \"Query\"\n        }), \" API for queries cre­ation and con­fig­u­ra­tion.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Col­lec­tors query now be­comes part of the \", _jsx(_components.code, {\n          children: \"Query\"\n        }), \" in­ter­face.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"This is a break­ing API change done under the tech pre­view sta­tus given that SQL client is a Vert.x 4 fea­ture back-​ported to Vert.x 3.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [\"client.prepareQuery(sql).execute(tuple, ar -> ...);\\n\\n\", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// With a collector\"\n          }), \"\\nclient.preparedQuery(sql).collecting(Collectors.toList()).execute(tuple, ar -> ...);\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"You can read more about this new fea­ture \", _jsx(_components.a, {\n          href: \"https://github.com/vert-x3/wiki/wiki/3.9.0-Deprecations-and-breaking-changes#fluent-query-api\",\n          children: \"here\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"redis-client-backport\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#redis-client-backport\"\n        }), \"Redis client backport\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"For Vert.x 4.0 we are doing a full re­boot to the redis client. The func­tion­al­ity for the new client is ready to test on the mas­ter branch. In order to give users the op­por­tu­nity to test and make the up­com­ing client even bet­ter it has been back­ported to the 3.9.0 re­lease. The new client will allow users to con­nect to a sin­gle node, sen­tinel or clus­ter of redis nodes. The eas­i­est way to start is:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [\"Redis.createClient(\\n      vertx,\\n      \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"new\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"RedisOptions\"\n          }), \"()\\n        .setConnectionString(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"redis://localhost:7006\\\"\"\n          }), \"))\\n      .send(Request.cmd(Command.PING), send -> {\\n        \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"if\"\n          }), \" (send.succeeded()) {\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// Should have received a pong...\"\n          }), \"\\n        }\\n      });\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"same-site-cookies\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#same-site-cookies\"\n        }), \"Same-site cookies\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsxs(_components.a, {\n          href: \"https://tools.ietf.org/html/draft-west-first-party-cookies-07\",\n          children: [_jsx(_components.code, {\n            children: \"SameSite\"\n          }), \" Cookie\"]\n        }), \" pol­icy has been added to the HTTP Server Cook­ies.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"This is also ap­plic­a­ble to web which al­lows cookie ses­sions to use \", _jsx(_components.code, {\n          children: \"SameSite\"\n        }), \" cook­ies:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"hljs language-java\",\n          children: \"SessionHandler.create(store)\\n  .setCookieSameSite(CookieSameSite.STRICT);\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Same-​site cook­ies let servers re­quire that a cookie shouldn’t be sent with cross-​site (where Site is de­fined by the reg­is­tra­ble do­main) re­quests,\\nwhich pro­vides some pro­tec­tion against cross-​site re­quest forgery at­tacks (CSRF).\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"kafka-client-upgrade\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#kafka-client-upgrade\"\n        }), \"Kafka client upgrade\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The Kafka client has been up­graded to Kafka 2.4.0 .\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Our re­ac­tive client ex­poses the Kafka Admin API. As of 2.4.0 this API has been re­placed by a new Kafka Admin API and there­fore\\nthe Vert.x Kafka Admin API changes, e.g list­ing con­sumers groups\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [\"adminClient.listConsumerGroups(ar -> {\\n    System.out.println(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"ConsumerGroups= \\\"\"\n          }), \" + ar.result());\\n});\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"future-api\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#future-api\"\n        }), \"Future API\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"With the re­cent ad­di­tion of \", _jsx(_components.code, {\n          children: \"Future#onComplete(...)\"\n        }), \" sup­port­ing sev­eral han­dlers per \", _jsx(_components.code, {\n          children: \"Future\"\n        }), \" in 3.9 made the\\n\", _jsx(_components.code, {\n          children: \"Future#setHandler(...)\"\n        }), \" method feel awk­ward. In­deed \", _jsx(_components.code, {\n          children: \"setHandler\"\n        }), \" con­veys the mean­ing that the \", _jsx(_components.code, {\n          children: \"Future\"\n        }), \" man­ages\\na sin­gle han­dler. In 3.9 we dep­re­cate \", _jsx(_components.code, {\n          children: \"Future#setHandler\"\n        }), \" in favor of \", _jsx(_components.code, {\n          children: \"Future#onComplete\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"edns-disabled-by-default\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#edns-disabled-by-default\"\n        }), \"EDNS disabled by default\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"EDNS is an ex­ten­sion mech­a­nism for DNS (\", _jsx(_components.a, {\n          href: \"https://fr.wikipedia.org/wiki/EDNS\",\n          children: \"https://fr.wikipedia.org/wiki/EDNS\"\n        }), \") that should be dis­abled by de­fault. It might\\ncause un­wanted issue and should be dis­abled by de­fault.\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"auth-deprecation-warnings\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#auth-deprecation-warnings\"\n        }), \"Auth Deprecation warnings\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"As of 3.9.0 many APIs will be start warn­ing about dep­re­ca­tions. There is a big refac­tor­ing and some break­ing API changes com­ing\\non 4.0.0 and these warn­ings are just to give users a heads up that API will change on the up­com­ing ver­sion.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"For more in­for­ma­tion about the up­com­ing 4.0 changes you can read \", _jsx(_components.a, {\n          href: \"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\",\n          children: \"4.0.0-​Deprecations-and-breaking-changes\"\n        })]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"dependency-upgrades\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#dependency-upgrades\"\n        }), \"Dependency upgrades\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"In 3.9 we up­date a few ver­sions:\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Netty 4.1.48.Final\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Jack­son 2.10.2\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Guava 25.1-jre\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"GraphQL Java 14\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"finally\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#finally\"\n        }), \"Finally\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://github.com/vert-x3/wiki/wiki/3.9.0-Release-Notes\",\n          children: \"3.9.0 re­lease notes\"\n        }), \" can be found on the wiki, as well as the\\nlist of \", _jsx(_components.a, {\n          href: \"https://github.com/vert-x3/wiki/wiki/3.9.0-Deprecations-and-breaking-changes\",\n          children: \"dep­re­ca­tions and break­ing changes\"\n        })]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Docker im­ages are avail­able on \", _jsx(_components.a, {\n          href: \"https://hub.docker.com/u/vertx/\",\n          children: \"Docker Hub\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The Vert.x dis­tri­b­u­tion can be down­loaded on the web­site but is also avail­able from \", _jsx(_components.a, {\n          href: \"http://sdkman.io/index.html\",\n          children: \"SD­KMan\"\n        }), \" and \", _jsx(_components.a, {\n          href: \"http://brew.sh/\",\n          children: \"Home­Brew\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The event bus client using the SockJS bridge is avail­able from:\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://www.npmjs.com/package/vertx3-eventbus-client\",\n            children: \"NPM\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://github.com/vert-x3/vertx-bus-bower\",\n            children: \"Bower\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"http://www.webjars.org/\",\n            children: \"We­b­Jars\"\n          })\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The re­lease ar­ti­facts have been de­ployed to \", _jsx(_components.a, {\n          href: \"http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.9.0%22\",\n          children: \"Maven Cen­tral\"\n        }), \" and you can get the dis­tri­b­u­tion on \", _jsx(_components.a, {\n          href: \"https://bintray.com/vertx/downloads/distribution/3.9.0/view\",\n          children: \"Bin­tray\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"That’s it! Happy cod­ing and see you soon on our user or dev \", _jsx(Link, {\n          href: \"/community\",\n          passHref: true,\n          children: _jsx(_components.a, {\n            href: \"\",\n            children: \"chan­nels\"\n          })\n        }), \".\"]\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n"},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.9.1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new version comes with many enhancements including an SQL client for DB2 and out-of-the-box support for HTTP/2 on JDK 8."},"date":"2020-05-22","slug":"eclipse-vert-x-3-9-1-released"},"nextPost":{"meta":{"title":"Easy SSO for Vert.x with Keycloak","category":"guides","authors":[{"name":"Thomas Darimont","github_id":"thomasdarimont"}],"summary":"In this blog post, you'll learn how to implement Single Sign-on with OpenID Connect and how to use Keycloak together with Eclipse Vert.x."},"date":"2020-03-16","slug":"easy-sso-for-vert-x-with-keycloak"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Building services and APIs with AMQP 1.0","category":"guides","authors":[{"name":"Jakub Scholz","github_id":"scholzj"}],"summary":"Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them."},"date":"2017-01-25","slug":"building-services-and-apis-with-amqp-1-0"},{"meta":{"title":"Eclipse Vert.x 3.7.0 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce that the Eclipse Vert.x version 3.7.0 has been released."},"date":"2019-04-02","slug":"eclipse-vert-x-3-7-0-released"}]},"__N_SSG":true}