{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Writing secure Vert.x Web apps","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"This is a starting guide for securing Vert.x web applications. Standard rules and practices apply to Vert.x apps as if they would to any other web framework."},"date":"2015-09-14","slug":"writing-secure-vert-x-web-apps","readingTime":{"text":"5 min read","minutes":4.215,"time":252900,"words":843},"content":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      p: \"p\",\n      a: \"a\",\n      h2: \"h2\",\n      pre: \"pre\",\n      code: \"code\",\n      span: \"span\",\n      strong: \"strong\",\n      img: \"img\",\n      ul: \"ul\",\n      li: \"li\"\n    }, props.components);\n    return _jsxs(_Fragment, {\n      children: [_jsxs(_components.p, {\n        children: [\"This is a start­ing guide for se­cur­ing vert.x web ap­pli­ca­tions. It is by no means a com­pre­hen­sive guide on web ap­pli­ca­tion se­cu­rity such as \", _jsx(_components.a, {\n          href: \"https://www.owasp.org\",\n          children: \"OWASP\"\n        }), \". Stan­dard rules and prac­tices apply to vert.x apps as if they would to any other web frame­work.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The post will cover the items that al­ways seem to come up on fo­rums.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"dont-run-as-root\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#dont-run-as-root\"\n        }), \"Don’t run as root\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"It is a com­mon prac­tise that your de­vops team mem­ber will con­stantly say, one shall run a ser­vice with the least amount of priv­i­leges nec­es­sary and no more. Al­though this might sound like folk­lore to less ex­pe­ri­enced de­vel­op­ers that hit an issue when try­ing to run on priv­i­leged ports 80, 443, run­ning as root solves it quickly but open a door to big­ger prob­lems. Lets look at this code:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"App\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"AbstractVerticle\"\n          }), \" {\\n  \", _jsx(_components.span, {\n            className: \"hljs-meta\",\n            children: \"@Override\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"()\"\n          }), \" {\\n\\n    \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n\\n    router.route().handler(StaticHandler.create(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"\\\"\"\n          }), \"));\\n\\n    vertx.createHttpServer().requestHandler(router::accept).listen(\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"80\"\n          }), \");\\n  }\\n}\\n\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"When started with the \", _jsx(_components.code, {\n          children: \"CWD\"\n        }), \" set to \", _jsx(_components.code, {\n          children: \"/\"\n        }), \" (\", _jsx(_components.code, {\n          children: \"java -Dvertx.cwd=/ ...\"\n        }), \") you just cre­ated a sim­ple file server for all your server stor­age. Now imag­ine that you want to start this ap­pli­ca­tion you will hit the error:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"hljs language-text\",\n          children: \"Aug 26, 2015 2:02:18 PM io.vertx.core.http.impl.HttpServerImpl\\nSEVERE: java.net.SocketException: Permission denied\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"So if you do now run as \", _jsx(_components.code, {\n          children: \"root\"\n        }), \" it will start, how­ever in your browser now try to nav­i­gate to: \", _jsx(_components.code, {\n          children: \"http://localhost/etc/shadow\"\n        }), \" con­grat­u­la­tions you just ex­posed your server \", _jsx(_components.code, {\n          children: \"logins\"\n        }), \" \", _jsx(_components.strong, {\n          children: \"and\"\n        }), \" \", _jsx(_components.code, {\n          children: \"passwords\"\n        }), \"!\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"There are sev­eral ways to run as a under priv­i­leged user, you can use \", _jsx(_components.code, {\n          children: \"iptables\"\n        }), \" to for­ward re­quests to higher ports, use \", _jsx(_components.code, {\n          children: \"authbind\"\n        }), \", run be­hind a proxy like \", _jsx(_components.code, {\n          children: \"ngnix\"\n        }), \", etc…\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"sessions\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#sessions\"\n        }), \"Sessions\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Many ap­pli­ca­tions are going to deal with user ses­sions at some point.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Ses­sion cook­ies should have the \", _jsx(_components.code, {\n          children: \"SECURE\"\n        }), \" and \", _jsx(_components.code, {\n          children: \"HTTPOnly\"\n        }), \" flags set. This en­sures that they can only be sent over \", _jsx(_components.code, {\n          children: \"HTTPS\"\n        }), \" (you are using \", _jsx(_components.code, {\n          children: \"HTTPS\"\n        }), \" right?) and there is no script ac­cess to the cookie client side:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n\\nrouter.route().handler(CookieHandler.create());\\nrouter.route().handler(SessionHandler\\n    .create(LocalSessionStore.create(vertx))\\n    .setCookieHttpOnlyFlag(\", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"true\"\n          }), \")\\n    .setCookieSecureFlag(\", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"true\"\n          }), \")\\n);\\n\\nrouter.route().handler(routingContext -> {\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Session\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"session\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" routingContext.session();\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Integer\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"cnt\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" session.get(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"hitcount\\\"\"\n          }), \");\\n  cnt = (cnt == \", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"null\"\n          }), \" ? \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"0\"\n          }), \" : cnt) + \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"1\"\n          }), \";\\n\\n  session.put(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"hitcount\\\"\"\n          }), \", cnt);\\n\\n  routingContext.response().end(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"Hitcount: \\\"\"\n          }), \" + cnt);\\n});\\n\\nvertx.createHttpServer().requestHandler(router::accept).listen(\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"8080\"\n          }), \");\\n\"]\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"And in this case when in­spect­ing your browser you should see:\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.img, {\n          src: \"/images/blog/vertx3-secure-webapps/nocookie.png\",\n          alt: \"nocookie\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Of course if you do not do that any script on your browser has the ca­pa­bil­ity of read­ing, sniff­ing hi­jack­ing or tam­per­ing your ses­sions.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"security-headers\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#security-headers\"\n        }), \"Security Headers\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"There are plenty of se­cu­rity head­ers that help im­prove se­cu­rity with just a cou­ple of lines of code. There is no need to ex­plain them here since there are good \", _jsx(_components.a, {\n          href: \"http://recxltd.blogspot.nl/2012/03/seven-web-server-http-headers-that.html\",\n          children: \"ar­ti­cles\"\n        }), \" on­line that will prob­a­bly do it bet­ter than me.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Here is how one could im­ple­ment a cou­ple of them:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"App\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"AbstractVerticle\"\n          }), \" {\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-meta\",\n            children: \"@Override\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"()\"\n          }), \" {\\n\\n    \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n    router.route().handler(ctx -> {\\n      ctx.response()\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// do not allow proxies to cache the data\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"Cache-Control\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"no-store, no-cache\\\"\"\n          }), \")\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// prevents Internet Explorer from MIME - sniffing a\"\n          }), \"\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// response away from the declared content-type\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"X-Content-Type-Options\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"nosniff\\\"\"\n          }), \")\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// Strict HTTPS (for about ~6Months)\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"Strict-Transport-Security\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"max-age=\\\"\"\n          }), \" + \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"15768000\"\n          }), \")\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// IE8+ do not allow opening of attachments in the context of this resource\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"X-Download-Options\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"noopen\\\"\"\n          }), \")\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// enable XSS for IE\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"X-XSS-Protection\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"1; mode=block\\\"\"\n          }), \")\\n          \", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \"// deny frames\"\n          }), \"\\n          .putHeader(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"X-FRAME-OPTIONS\\\"\"\n          }), \", \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"DENY\\\"\"\n          }), \");\\n    });\\n\\n    vertx.createHttpServer().requestHandler(router::accept).listen(\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"8080\"\n          }), \");\\n  }\\n}\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"cross-site-request-forgery-csrf-protection\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#cross-site-request-forgery-csrf-protection\"\n        }), \"Cross-Site Request Forgery (CSRF) Protection\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Vert.x web pro­vides CSRF pro­tec­tion using an in­cluded han­dler. To en­able CSRF pro­tec­tions you need to add it to your router as you would add any other han­dler:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"App\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"AbstractVerticle\"\n          }), \" {\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-meta\",\n            children: \"@Override\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"()\"\n          }), \" {\\n\\n    \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n\\n    router.route().handler(CookieHandler.create());\\n    router.route().handler(SessionHandler\\n        .create(LocalSessionStore.create(vertx))\\n        .setCookieSecureFlag(\", _jsx(_components.span, {\n            className: \"hljs-literal\",\n            children: \"true\"\n          }), \")\\n    );\\n    router.route().handler(CSRFHandler.create(\", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"not a good secret\\\"\"\n          }), \"));\\n\\n    router.route().handler(ctx -> {\\n      ...\\n    });\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The han­dler adds a CSRF token to re­quests which mu­tate state. In order change the state a (\", _jsx(_components.code, {\n          children: \"XSRF-TOKEN\"\n        }), \") cookie is set with a unique token, that is ex­pected to be sent back in a (\", _jsx(_components.code, {\n          children: \"X-XSRF-TOKEN\"\n        }), \") header.\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"limit-uploads\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#limit-uploads\"\n        }), \"Limit uploads\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"When deal­ing with up­loads \", _jsx(_components.strong, {\n          children: \"al­ways\"\n        }), \" de­fine a upper bound, oth­er­wise you will be vul­ner­a­ble to \", _jsx(_components.code, {\n          children: \"DDoS\"\n        }), \" at­tacks. For ex­am­ple lets say that you have the fol­low­ing code:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"App\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"AbstractVerticle\"\n          }), \" {\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-meta\",\n            children: \"@Override\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"()\"\n          }), \" {\\n\\n    \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n\\n    router.route().handler(BodyHandler.create());\\n\\n    router.route().handler(ctx -> {\\n      ...\\n\"]\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Now a bad in­ten­tioned per­son could gen­er­ate a ran­dom file with 1GB of trash:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-gradle\",\n          children: [\"dd \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"if\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-regexp\",\n            children: \"/dev/u\"\n          }), \"random of=ddos bs=\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"1\"\n          }), \"G \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"count\"\n          }), \"=\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"1\"\n          }), \"\\n\"]\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"And then up­load it to your server:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-css\",\n          children: [\"curl \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"--data-binary\"\n          }), \" \\\"\", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"@ddos\"\n          }), \"\\\" -H \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"Content-Type: application/octet-stream\\\"\"\n          }), \" -X POST \", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"http\"\n          }), \"://\", _jsx(_components.span, {\n            className: \"hljs-attribute\",\n            children: \"localhost\"\n          }), \":\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"8080\"\n          }), \"/\\n\"]\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Your ap­pli­ca­tion will hap­pily try to han­dle this until one of 2 things hap­pens, it will run out of disk space or mem­ory. In order to mit­i­gate these kind of at­tacks al­ways spec­ify the max­i­mum al­lowed up­load size:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-java\",\n          children: [_jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"App\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"extends\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-class\",\n            children: \"AbstractVerticle\"\n          }), \" {\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"int\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"KB\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"1024\"\n          }), \";\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"int\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"MB\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"1024\"\n          }), \" * KB;\\n\\n  \", _jsx(_components.span, {\n            className: \"hljs-meta\",\n            children: \"@Override\"\n          }), \"\\n  \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-title hljs-function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"hljs-params\",\n            children: \"()\"\n          }), \" {\\n\\n    \", _jsx(_components.span, {\n            className: \"hljs-type\",\n            children: \"Router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-variable\",\n            children: \"router\"\n          }), \" \", _jsx(_components.span, {\n            className: \"hljs-operator\",\n            children: \"=\"\n          }), \" Router.router(vertx);\\n    router.route().handler(BodyHandler.create().setBodyLimit(\", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"50\"\n          }), \" * MB));\\n\"]\n        })\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"final-words\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#final-words\"\n        }), \"Final Words\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Al­though this is just a small list of things you should re­mem­ber when im­ple­ment­ing your ap­pli­ca­tion there are more com­pre­hen­sive check­lists to check:\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project\",\n            children: \"OWASP Top Ten Project\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java\",\n            children: \"Pre­vent­ing SQL In­jec­tion in Java\"\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(_components.a, {\n            href: \"https://www.owasp.org/index.php/Testing_for_NoSQL_injection\",\n            children: \"Test­ing for NoSQL in­jec­tion\"\n          })\n        }), \"\\n\"]\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\n"},"prevPost":{"meta":{"title":"Contract Driven REST Services with Vert.x3","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"We see a new trend in development where we are shifting from developing applications to APIs. More and more we see services being offered as REST APIs that we are allowed to consume."},"date":"2015-09-17","slug":"contract-driven-rest-services-with-vert-x3"},"nextPost":{"meta":{"title":"Vert.x 3 real time web apps","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"One of the interesting features of Vert.x is the SockJS event bus bridge. It allows external applications to communicate with Vert.x event bus using Websockets."},"date":"2015-08-31","slug":"vert-x3-real-time-web-apps"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x"},{"meta":{"title":"Real-time bidding with Websockets and Vert.x","category":"guides","authors":[{"name":"Marcin Warczyglowa","github_id":"mwarc"}],"summary":"The expectations of users for interactivity with web applications have changed over the past few years.\n    Users during bidding in auction no longer want to press the refresh button."},"date":"2016-01-15","slug":"real-time-bidding-with-websockets-and-vert-x"}]},"__N_SSG":true}