{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"Eclipse Vert.x 4 beta 1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the first 4.0 beta release of Eclipse Vert.x. Highlights of this release are the improved JDBC Client API, event loop affinity, and much more."},"date":"2020-07-28","slug":"eclipse-vert-x-4-beta-1-released","readingTime":{"text":"4 min read","minutes":3.755,"time":225300,"words":751},"content":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = props.components || ({});\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      p: \"p\",\n      h2: \"h2\",\n      a: \"a\",\n      ul: \"ul\",\n      li: \"li\",\n      pre: \"pre\",\n      code: \"code\",\n      span: \"span\"\n    }, props.components), {Link} = _components;\n    if (!Link) _missingMdxReference(\"Link\", true);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.p, {\n        children: \"We are ex­tremely pleased to an­nounce the first 4.0 beta re­lease of Eclipse Vert.x .\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Vert.x 4 is the evo­lu­tion of the Vert.x 3.x se­ries that will bring key fea­tures to Vert.x.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"vertx-web\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#vertx-web\"\n        }), \"Vert.x Web\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Fixed CVE-2020-35217.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"sql-client-metrics\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#sql-client-metrics\"\n        }), \"SQL client metrics\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Vert.x 4 sup­ports met­rics for clients which are crit­i­cal for mon­i­tor­ing ap­pli­ca­tion per­for­mance.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"While the ca­pa­bil­i­ties are generic and can apply to any client, each client needs a spe­cific in­te­gra­tion.\\nOb­vi­ously the SQL client was the per­fect can­di­date in mind for this new fea­ture.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Mi­crom­e­ter met­rics will re­port these met­rics as\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"vertx_sql_queue_pend­ing: num­ber of re­quests sched­uled but not yet ex­e­cuted\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"vertx_sql_queue_time: time spent in queue be­fore pro­cess­ing\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"vertx_sql_pro­cess­ing_pend­ing: num­ber of re­quest being processed\"\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"vertx_sql_pro­cess­ing_time: re­quests la­ten­cies\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"a-better-api-for-jdbc-client\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#a-better-api-for-jdbc-client\"\n        }), \"A better API for JDBC Client\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Our JDBC client will not go away in Vert.x 4, we do rec­kn­og­nize that JDBC is im­por­tant be­cause it sup­ports\\nthe most im­por­tant num­ber of data­bases in the ecosys­tem.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"When we de­signed the SQL client API we strived a lot to come with the sim­plest and most pow­er­ful API\\nfor asyn­cho­nous SQL client.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"This re­lease brings an im­ple­men­ta­tion of the SQL client API for JDBC.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The 3.x API se­ries will con­tinue to be sup­ported for the life­time of Vert.x 4.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"event-loop-affinity\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#event-loop-affinity\"\n        }), \"Event loop affinity\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Using Vert.x from a non Vert.x thread is a very com­mon use case we have been sup­port­ing since Vert.x 3.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"When you use a Vert.x re­source (like a client) from a non Vert.x thread, Vert.x 3 ob­tains a new event-​loop\\nevery­time it hap­pens.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"In Vert.x 4 we de­cided to pin the first event loop to the non Vert.x thread. The goal is to pre­vent\\nsome data races and also makes rea­son­ning about this eas­ier.\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsxs(_components.code, {\n          className: \"hljs language-ini\",\n          children: [\"Vertx \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"vertx\"\n          }), \" = Vertx.vertx()\", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \";\"\n          }), \"\\n\\nfor (int \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"i\"\n          }), \" = \", _jsx(_components.span, {\n            className: \"hljs-number\",\n            children: \"0\"\n          }), _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \";i < 4;i++) {\"\n          }), \"\\n  String \", _jsx(_components.span, {\n            className: \"hljs-attr\",\n            children: \"msg\"\n          }), \" = \", _jsx(_components.span, {\n            className: \"hljs-string\",\n            children: \"\\\"Message \\\"\"\n          }), \" + i\", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \";\"\n          }), \"\\n  vertx.runOnContext(v -> {\\n    System.out.println(i)\", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \";\"\n          }), \"\\n  })\", _jsx(_components.span, {\n            className: \"hljs-comment\",\n            children: \";\"\n          }), \"\\n}\\n\"]\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Run­ning this with Vert.x 3 will print the 4 lines but they are likely to not be re­ordered, this code could\\nalso be run­ning in par­al­lel (that is two dif­fer­ent threads run­ning at the same time on a dif­fer­ent CPU core).\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Run­ning this with Vert.x 4 will print the 4 lines in the cor­rect order and al­ways with the same thread. This\\nelim­i­nates some po­ten­tial data races and also al­lows to rea­son about what will hap­pen at run­time.\"\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"vertx-json-schema-supports-draft2019-09\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#vertx-json-schema-supports-draft2019-09\"\n        }), \"Vert.x Json Schema supports Draft2019-09\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The new \", _jsx(_components.a, {\n          href: \"https://github.com/eclipse-vertx/vertx-json-schema\",\n          children: \"vertx-​json-schema\"\n        }), \" mod­ule now sup­ports the lat­est Json Schema \", _jsx(_components.a, {\n          href: \"http://json-schema.org/specification.html\",\n          children: \"Draft2019-09 spec\"\n        }), \". You can fi­nally play with the new \", _jsx(_components.code, {\n          children: \"$recursiveRef\"\n        }), \" to build ex­ten­si­ble re­cur­sive schemas and with \", _jsx(_components.code, {\n          children: \"unevaluatedProperties\"\n        }), \"/\", _jsx(_components.code, {\n          children: \"unevaluatedItems\"\n        }), \" to de­fine strict schemas. Look at the mod­ule \", _jsx(Link, {\n          href: \"/docs/vertx-json-schema/java/\",\n          passHref: true,\n          children: _jsx(_components.a, {\n            href: \"\",\n            children: \"doc­u­men­ta­tion\"\n          })\n        }), \" to start using it.\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"clustering-configuration-simplified\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#clustering-configuration-simplified\"\n        }), \"Clustering configuration simplified\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"In Vert.x 3, clus­ter host was set to \", _jsx(_components.code, {\n          children: \"localhost\"\n        }), \" by de­fault in \", _jsx(_components.code, {\n          children: \"EventBusOptions\"\n        }), \".\\nCon­se­quently, a lot of new users were con­fused about why event bus con­sumers and pro­duc­ers were not able to com­mu­ni­cate even if the un­der­ly­ing clus­ter man­ager was con­fig­ured cor­rectly.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Also, when using the CLI tool or the \", _jsx(_components.code, {\n          children: \"Launcher\"\n        }), \" class, Vert.x tried to find a host among avail­able net­work in­ter­faces if none was pro­vided with the \", _jsx(_components.code, {\n          children: \"-cluster-host\"\n        }), \" ar­gu­ment.\\nSome­times, the host cho­sen by the clus­ter man­ager and Vert.x were not the same.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Start­ing with Vert.x 4 beta 1, the clus­ter host de­fault has been re­moved and, if users don’t pro­vide any, Vert.x will ask the clus­ter man­ager which one it picked be­fore try­ing to find one it­self.\\nThis ap­plies whether Vert.x is em­bed­ded in any Java pro­gram or started with the CLI tool or with the \", _jsx(_components.code, {\n          children: \"Launcher\"\n        }), \" class.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"So far, only \", _jsx(_components.code, {\n          children: \"vertx-hazelcast\"\n        }), \" and \", _jsx(_components.code, {\n          children: \"vertx-infinispan\"\n        }), \" clus­ter man­agers can pro­vide Vert.x with a clus­ter host.\\nWhen other clus­ter man­agers are used, Vert.x will choose one it­self.\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"cluster-manager-upgrades\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#cluster-manager-upgrades\"\n        }), \"Cluster manager upgrades\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [_jsx(_components.code, {\n          children: \"vertx-hazelcast\"\n        }), \" has been up­graded to Hazel­cast 4.0.2 and \", _jsx(_components.code, {\n          children: \"vertx-infinispan\"\n        }), \" to In­fin­is­pan 11.0.1.Final.\"]\n      }), \"\\n\", _jsxs(_components.h2, {\n        id: \"finally\",\n        children: [_jsx(_components.a, {\n          \"aria-hidden\": true,\n          tabIndex: \"-1\",\n          className: \"heading-anchor\",\n          href: \"#finally\"\n        }), \"Finally\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"This is the Beta1 re­lase of Vert.x 4, you can of course ex­pect more betas as we get feed­back from the com­mu­nity and fix is­sues that we failed to catch be­fore.\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"You can also read the mile­stone an­nounces to know more about the over­ral changes:\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: _jsx(Link, {\n            href: \"/blog/eclipse-vert-x-4-milestone-5-released\",\n            passHref: true,\n            children: _jsx(_components.a, {\n              href: \"\",\n              children: \"https://vertx.io/blog/eclipse-​vert-x-4-​milestone-5-​released\"\n            })\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(Link, {\n            href: \"/blog/eclipse-vert-x-4-milestone-4-released\",\n            passHref: true,\n            children: _jsx(_components.a, {\n              href: \"\",\n              children: \"https://vertx.io/blog/eclipse-​vert-x-4-​milestone-4-​released\"\n            })\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(Link, {\n            href: \"/blog/eclipse-vert-x-4-milestone-3-released\",\n            passHref: true,\n            children: _jsx(_components.a, {\n              href: \"\",\n              children: \"https://vertx.io/blog/eclipse-​vert-x-4-​milestone-3-​released\"\n            })\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(Link, {\n            href: \"/blog/eclipse-vert-x-4-milestone-2-released\",\n            passHref: true,\n            children: _jsx(_components.a, {\n              href: \"\",\n              children: \"https://vertx.io/blog/eclipse-​vert-x-4-​milestone-2-​released\"\n            })\n          })\n        }), \"\\n\", _jsx(_components.li, {\n          children: _jsx(Link, {\n            href: \"/blog/eclipse-vert-x-4-milestone-1-released\",\n            passHref: true,\n            children: _jsx(_components.a, {\n              href: \"\",\n              children: \"https://vertx.io/blog/eclipse-​vert-x-4-​milestone-1-​released\"\n            })\n          })\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The \", _jsx(_components.a, {\n          href: \"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\",\n          children: \"dep­re­ca­tions and break­ing changes\"\n        }), \"\\ncan be found on the wiki.\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"For this re­lease there are no Docker im­ages.\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The re­lease ar­ti­facts have been de­ployed to \", _jsx(_components.a, {\n          href: \"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\",\n          children: \"Maven Cen­tral\"\n        }), \" and you can get the dis­tri­b­u­tion on \", _jsx(_components.a, {\n          href: \"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\",\n          children: \"Maven Cen­tral\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"You can boot­strap a Vert.x 4.0.0.Beta1 project using \", _jsx(_components.a, {\n          href: \"https://start.vertx.io\",\n          children: \"https://start.vertx.io\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The doc­u­men­ta­tion has been de­ployed on this pre­view web-​site \", _jsx(_components.a, {\n          href: \"https://vertx-web-site.github.io/docs/\",\n          children: \"https://vertx-​web-site.github.io/docs/\"\n        })]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"That’s it! Happy cod­ing and see you soon on our user or dev \", _jsx(Link, {\n          href: \"/community\",\n          passHref: true,\n          children: _jsx(_components.a, {\n            href: \"\",\n            children: \"chan­nels\"\n          })\n        }), \".\"]\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n"},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.9.3 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"Eclipse Vert.x version 3.9.3 has just been released. It fixes quite a few bugs that have been reported by the community."},"date":"2020-09-17","slug":"eclipse-vert-x-3-9-3-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 3.9.2 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new Eclipse Vert.x version 3.9.2 has just been released. It includes a few bug fixes, a new reactive DB2 client, and reactive MySQL Client domain socket support."},"date":"2020-07-21","slug":"eclipse-vert-x-3-9-2-released"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Eclipse Vert.x 4 milestone 5 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4."},"date":"2020-06-10","slug":"eclipse-vert-x-4-milestone-5-released"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"}]},"__N_SSG":true}