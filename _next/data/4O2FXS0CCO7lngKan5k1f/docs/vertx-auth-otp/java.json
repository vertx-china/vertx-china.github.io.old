{"pageProps":{"slug":"vertx-auth-otp/java","title":"一次性密码身份验证功能","fallbackGitHubStars":null,"toc":"<div id=\"toc\" class=\"toc\">\n<div id=\"toctitle\">Table of Contents</div>\n<ul class=\"sectlevel1\">\n<li><a href=\"#_hotp_authentication\">HOTP 身份验证</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_hotp_configuration\">HOTP 配置</a></li>\n<li><a href=\"#_notes\">备注</a></li>\n</ul>\n</li>\n<li><a href=\"#_totp_authentication\">TOTP 身份验证</a>\n<ul class=\"sectlevel2\">\n<li><a href=\"#_totp_configuration\">TOTP 配置</a></li>\n<li><a href=\"#_notes_2\">备注</a></li>\n</ul>\n</li>\n</ul>\n</div>","contents":"<h1>一次性密码身份验证功能</h1>\n\n<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>我们提供了一个 <code><a href=\"../../apidocs/io/vertx/ext/auth/authentication/AuthenticationProvider.html\">AuthenticationProvider</a></code> 实现类，可以用一次性密码\n进行身份验证。\n这个模块支持 Google Authenticator，您可以使用任何方便的库来根据密钥来生成二维码，或者仅仅是对密钥进行 base32 编码。</p>\n</div>\n<div class=\"paragraph\">\n<p>要使用这个项目，\n将下面的依赖添加到您构建描述里的 <em>dependencies</em> 部分</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Maven (在您的 <code>pom.xml</code> 文件中):</p>\n</li>\n</ul>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">dependency</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">groupId</span>&gt;</span>io.vertx<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">groupId</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">artifactId</span>&gt;</span>vertx-auth-otp<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">artifactId</span>&gt;</span>\n <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">version</span>&gt;</span>4.2.4<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">version</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">dependency</span>&gt;</span></code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Gradle (在您的 <code>build.gradle</code> 文件中):</p>\n</li>\n</ul>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-groovy\" data-lang=\"groovy\">compile <span class=\"hljs-string\">&#x27;io.vertx:vertx-auth-otp:4.2.4&#x27;</span></code></pre>\n</div>\n</div>\n<hr>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_hotp_authentication\"><a class=\"anchor\" href=\"#_hotp_authentication\"></a>HOTP 身份验证</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>为了创建一个使用 HOTP（译者注：基于 Hash 的一次性密码） 进行验证的实例，参考以下代码使用 <code><a href=\"../../apidocs/io/vertx/ext/auth/otp/hotp/HotpAuth.html#create-io.vertx.ext.auth.otp.hotp.HotpAuthOptions-\">HotpAuth.create</a></code> ：</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_hotp_configuration\"><a class=\"anchor\" href=\"#_hotp_configuration\"></a>HOTP 配置</h3>\n<div class=\"paragraph\">\n<p><code><a href=\"../../apidocs/io/vertx/ext/auth/otp/hotp/HotpAuthOptions.html\">HotpAuthOptions</a></code> 类用于配置 Hotp 身份验证功能：</p>\n</div>\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\"><code>passwordLength</code></dt>\n<dd>\n<p>设置一次性密码的消息码的长度，有效值在 6 到 8 之间，默认为 6.</p>\n</dd>\n<dt class=\"hdlist1\"><code>authAttemptsLimit</code></dt>\n<dd>\n<p>设置最大允许的验证次数.</p>\n</dd>\n<dt class=\"hdlist1\"><code>lookAheadWindow</code></dt>\n<dd>\n<p>用于设置再同步机制.</p>\n</dd>\n</dl>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_notes\"><a class=\"anchor\" href=\"#_notes\"></a>备注</h3>\n<div class=\"paragraph\">\n<p>注意，当使用以上的身份认证方式时，代码假定身份验证信息中存在 <code>identifier</code>, <code>key</code> 和 <code>counter</code> 字段</p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_totp_authentication\"><a class=\"anchor\" href=\"#_totp_authentication\"></a>TOTP 身份验证</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>为了创建一个使用 TOTP（译者注：基于时间的一次性密码）进行验证的实例, 参考以下代码使用 <code><a href=\"../../apidocs/io/vertx/ext/auth/otp/totp/TotpAuth.html#create-io.vertx.ext.auth.otp.totp.TotpAuthOptions-\">TotpAuth.create</a></code> ：</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_totp_configuration\"><a class=\"anchor\" href=\"#_totp_configuration\"></a>TOTP 配置</h3>\n<div class=\"paragraph\">\n<p><code><a href=\"../../apidocs/io/vertx/ext/auth/otp/totp/TotpAuthOptions.html\">TotpAuthOptions</a></code> 类用于配置 Totp 身份验证功能：</p>\n</div>\n<div class=\"dlist\">\n<dl>\n<dt class=\"hdlist1\"><code>passwordLength</code></dt>\n<dd>\n<p>设置一次性密码的消息码的长度，有效值在 6 到 8 之间，默认为 6.</p>\n</dd>\n<dt class=\"hdlist1\"><code>authAttemptsLimit</code></dt>\n<dd>\n<p>设置最大允许的验证次数.</p>\n</dd>\n<dt class=\"hdlist1\"><code>period</code></dt>\n<dd>\n<p>设置验证码的有效时间，单位为秒，默认值为 30.</p>\n</dd>\n</dl>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_notes_2\"><a class=\"anchor\" href=\"#_notes_2\"></a>备注</h3>\n<div class=\"paragraph\">\n<p>注意，当使用以上的身份认证方式时，代码假定身份验证信息中存在 <code>identifier</code> 和 <code>key</code> 字段</p>\n</div>\n</div>\n</div>\n</div>"},"__N_SSG":true}