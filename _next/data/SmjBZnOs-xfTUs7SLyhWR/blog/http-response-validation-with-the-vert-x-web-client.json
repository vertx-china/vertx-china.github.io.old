{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"HTTP response validation with the Vert.x Web Client","category":"guides","authors":[{"name":"Thomas Segismont","github_id":"tsegismont"}],"summary":"Learn how to use response predicates from the Vert.x Web module to validate HTTP responses and to automatically generate error messages."},"date":"2018-12-10","slug":"http-response-validation-with-the-vert-x-web-client","readingTime":{"text":"4 min read","minutes":3.09,"time":185400,"words":618},"content":{"compiledSource":"var d=Object.defineProperty,N=Object.defineProperties;var i=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var t=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var o=(a,s,n)=>s in a?d(a,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[s]=n,e=(a,s)=>{for(var n in s||(s={}))t.call(s,n)&&o(a,n,s[n]);if(r)for(var n of r(s))c.call(s,n)&&o(a,n,s[n]);return a},l=(a,s)=>N(a,i(s));var m=(a,s)=>{var n={};for(var p in a)t.call(a,p)&&s.indexOf(p)<0&&(n[p]=a[p]);if(a!=null&&r)for(var p of r(a))s.indexOf(p)<0&&c.call(a,p)&&(n[p]=a[p]);return n};const makeShortcode=a=>function(n){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},Link=makeShortcode(\"Link\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var p=n,{components:a}=p,s=m(p,[\"components\"]);return mdx(MDXLayout,l(e(e({},layoutProps),s),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"By de\\xADfault, a \",mdx(Link,{href:\"/docs/vertx-web-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Vert.x Web Client\")),` re\\xADquest ends with an error only if some\\xADthing wrong hap\\xADpens at the net\\xADwork level.\nIn other words, a `,mdx(\"inlineCode\",{parentName:\"p\"},\"404 Not Found\"),\" re\\xADsponse, or a re\\xADsponse with the wrong con\\xADtent type, are \",mdx(\"strong\",{parentName:\"p\"},\"not\"),\" con\\xADsid\\xADered as fail\\xADures.\"),mdx(\"p\",null,\"Hence, you would usu\\xADally per\\xADform san\\xADity checks man\\xADu\\xADally after the re\\xADsponse is re\\xADceived:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-stylus\"}),`client\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".get\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"myserver.mycompany.com\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/some-uri\"'),`)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".send\"),`(ar -> {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (ar\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".succeeded\"),`()) {\n      HttpResponse<Buffer> response = ar`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".result\"),`();\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (response\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".statusCode\"),\"() == \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),\" && response\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".getHeader\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"content-type\"'),\")\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".equals\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json\"'),`)) {\n        `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Decode the body as a json object\"),`\n        JsonObject `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-tag\"}),\"body\"),\" = response\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".bodyAsJsonObject\"),`();\n      } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n        System`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".out\"),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".println\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Something went wrong \"'),\" + response\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".statusCode\"),`());\n      }\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n      System`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".out\"),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".println\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Something went wrong \"'),\" + ar\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".cause\"),\"()\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".getMessage\"),`());\n    }\n  });\n`)),mdx(\"p\",null,\"Start\\xADing with \",mdx(Link,{href:\"/blog/eclipse-vert-x-3-6-0-released/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Vert.x 3.6\")),\", you can can trade flex\\xADi\\xADbil\\xADity for clar\\xADity and con\\xADcise\\xADness using \",mdx(\"em\",{parentName:\"p\"},\"re\\xADsponse pred\\xADi\\xADcates\"),\".\"),mdx(\"h2\",e({},{id:\"response-predicates\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#response-predicates\"})),\"Response predicates\"),mdx(\"p\",null,mdx(Link,{href:\"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Re\\xADsponse pred\\xADi\\xADcates\")),\" can fail a re\\xADquest when the re\\xADsponse does not match cri\\xADte\\xADrion.\"),mdx(\"p\",null,\"The Web Client mod\\xADule comes with a set of ready-\\u200Bto-use pred\\xADi\\xADcates:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-stylus\"}),`client\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".get\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"myserver.mycompany.com\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/some-uri\"'),`)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".expect\"),`(ResponsePredicate.SC_SUCCESS)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".expect\"),`(ResponsePredicate.JSON)\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".send\"),`(ar -> {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (ar\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".succeeded\"),`()) {\n      HttpResponse<Buffer> response = ar`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".result\"),`();\n      `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Safely decode the body as a json object\"),`\n      JsonObject `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-tag\"}),\"body\"),\" = response\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".bodyAsJsonObject\"),`();\n    } `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"else\"),` {\n      System`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".out\"),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".println\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Something went wrong \"'),\" + ar\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".cause\"),\"()\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-selector-class\"}),\".getMessage\"),`());\n    }\n  });\n\n`)),mdx(\"p\",null,\"The web is full of HTTP/JSON end\\xADpoints, so there is no doubt the \",mdx(\"inlineCode\",{parentName:\"p\"},\"ResponsePredicate.SC_SUCCESS\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"ResponsePredicate.JSON\"),\" can be handy.\"),mdx(\"p\",null,\"Nev\\xADer\\xADthe\\xADless, you might also need to check that the sta\\xADtus code is whithin a spe\\xADcific range:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-clojure\"}),`client\n  .get(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"myserver.mycompany.com\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/some-uri\"'),`)\n  .expect(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ResponsePredicate.status\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"200\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"202\"),`))\n  .send(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ar\"),` -> {\n    // ....\n  })`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n`)),mdx(\"p\",null,\"Or that the con\\xADtent is of a spe\\xADcific type: \"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-clojure\"}),`client\n  .get(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"myserver.mycompany.com\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/some-uri\"'),`)\n  .expect(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ResponsePredicate.contentType\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"some/content-type\"'),`))\n  .send(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ar\"),` -> {\n    // ....\n  })`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n`)),mdx(\"p\",null,\"Please refer to the \",mdx(Link,{href:\"/docs/apidocs/io/vertx/ext/web/client/predicate/ResponsePredicate.html\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"ResponsePredicate\"),\" doc\\xADu\\xADmen\\xADta\\xADtion\")),\" for a full list of pre\\xADde\\xADfined pred\\xADi\\xADcates.\"),mdx(\"h3\",e({},{id:\"custom-predicates\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#custom-predicates\"})),\"Custom predicates\"),mdx(\"p\",null,\"Even\\xADtu\\xADally, pred\\xADi\\xADcates were not de\\xADsigned for sta\\xADtus code and con\\xADtent type check\\xADing only, so feel free to cre\\xADate your own val\\xADi\\xADda\\xADtion code:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-clojure\"}),`// Check CORS header allowing to do POST\nFunction<HttpResponse<Void>, ResponsePredicateResult> methodsPredicate = resp -> {\n  String methods = resp.getHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Access-Control-Allow-Methods\"'),\")\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n  if (`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"methods\"),` != null) {\n    if (`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"methods.contains\"),\"(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"POST\"'),`)) {\n      return ResponsePredicateResult.success()`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n    }\n  }\n  return ResponsePredicateResult.failure(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Does not work\"'),\")\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n}`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n\n// Send pre-flight CORS request\nclient\n  .request(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"HttpMethod.OPTIONS\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"myserver.mycompany.com\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"/some-uri\"'),`)\n  .putHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Origin\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Server-b.com\"'),`)\n  .putHeader(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Access-Control-Request-Method\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"POST\"'),`)\n  .expect(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"methodsPredicate\"),`)\n  .send(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ar\"),` -> {\n    if (`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-name\"}),\"ar.succeeded\"),`()) {\n      // Process the POST request now\n    } else {\n      System.out.println(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"Something went wrong \"'),\" + ar.cause().getMessage())\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n    }\n  })`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\";\"),`\n`)),mdx(\"p\",null,\"Note that re\\xADsponse pred\\xADi\\xADcates are eval\\xADu\\xADated \",mdx(\"em\",{parentName:\"p\"},\"be\\xADfore\"),` the re\\xADsponse body is re\\xADceived.\nThere\\xADfore `,mdx(\"strong\",{parentName:\"p\"},\"you can\\u2019t in\\xADspect the re\\xADsponse body\"),\" in a pred\\xADi\\xADcate test func\\xADtion, only sta\\xADtus code, sta\\xADtus mes\\xADsage and re\\xADsponse head\\xADers.\"),mdx(\"h2\",e({},{id:\"dealing-with-failures\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#dealing-with-failures\"})),\"Dealing with failures\"),mdx(\"p\",null,`By de\\xADfault, re\\xADsponse pred\\xADi\\xADcates (in\\xADclud\\xADing the pre\\xADde\\xADfined ones) use a generic error con\\xADverter which dis\\xADcards the re\\xADsponse body and con\\xADveys a sim\\xADple mes\\xADsage.\nYou can cus\\xADtomize the ex\\xADcep\\xADtion class by chang\\xADing the error con\\xADverter:`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-reasonml\"}),\"ResponsePredicate predicate = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-module-access\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-module\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-identifier\"}),\"ResponsePredicate\"),\".\")),`create(ResponsePredicate.SC_SUCCESS, result -> {\n  return `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"MyCustomException(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"result\"),\".\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"message\"),\"()\"),`);\n});\n`)),mdx(\"p\",null,\"Be\\xADware that cre\\xADat\\xADing ex\\xADcep\\xADtions in Java comes with the \",mdx(\"strong\",{parentName:\"p\"},\"per\\xADfor\\xADmance cost\"),` of cap\\xADtur\\xADing the call stack.\nThe generic error con\\xADverter gen\\xADer\\xADates ex\\xADcep\\xADtions that do not cap\\xADture it.`),mdx(\"h3\",e({},{id:\"reading-details-in-error-responses\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#reading-details-in-error-responses\"})),\"Reading details in error responses\"),mdx(\"p\",null,`Many web APIs pro\\xADvide de\\xADtails in error re\\xADsponses.\nFor ex\\xADam\\xADple, the `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://developer.marvel.com/docs\"}),\"Mar\\xADvel API\"),\" uses this JSON ob\\xADject for\\xADmat:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-json\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"code\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"InvalidCredentials\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),'\"message\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"The passed API key is invalid.\"'),`\n}\n`)),mdx(\"p\",null,\"To avoid los\\xADing this in\\xADfor\\xADma\\xADtion, it is pos\\xADsi\\xADble to wait for the re\\xADsponse body to be fully re\\xADceived be\\xADfore the error con\\xADverter is called:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-reasonml\"}),\"ErrorConverter converter = \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-module-access\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-module\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-identifier\"}),\"ErrorConverter\"),\".\")),\"create\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"FullBody(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"result\"),` -> {\n\n  `,mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-operator\"}),\"/\"),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-operator\"}),\"/\"),\" Invoked \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"after\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"the\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"response\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"body\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"is\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"fully\"),\" \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"received\"),`\n  HttpResponse<Buffer> `,mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"response\"),\" = \",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"result\"),\".\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"response\"),\"()\"),`;\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"if\"),\" (response.get\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"Header(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-string\"}),'\"content-type\"'),\")\"),\".equals(\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"application/json\"'),`)) {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Error body is JSON data\"),`\n    JsonObject body = response.body`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"AsJsonObject()\"),`;\n    return `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"MyCustomException(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"body\"),\".\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"getString\"),\"(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-string\"}),'\"code\"'),\")\"),\", body.get\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"String(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-string\"}),'\"message\"'),\")\"),`);\n  }\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Fallback to defaut message\"),`\n  return `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"new\"),\" \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-constructor\"}),\"MyCustomException(\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"result\"),\".\",mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-params\"}),\"message\"),\"()\"),`);\n});\n\nResponsePredicate predicate = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-module-access\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-module\"}),mdx(\"span\",e({parentName:\"span\"},{className:\"hljs-identifier\"}),\"ResponsePredicate\"),\".\")),`create(ResponsePredicate.SC_SUCCESS, converter);\n`)),mdx(\"p\",null,\"That\\u2019s it! Feel free to com\\xADment here or ask ques\\xADtions on our \",mdx(Link,{href:\"/community\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"com\\xADmu\\xADnity chan\\xADnels\")),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Vert.x Web API Service Introduction","category":"guides","authors":[{"name":"Francesco Guardiani","github_id":"slinkydeveloper"}],"summary":"This blog post teaches you how to use the new module vertx-web-api-service to combine the Web Router and the OpenAPI Router Factory with service proxies."},"date":"2018-12-13","slug":"vert-x-web-api-service-introduction"},"nextPost":{"meta":{"title":"The RSS reader tutorial (Step 3)","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"This is the third installment of our Vert.x Cassandra Client tutorial. We will implement the last RSS endpoint serving a list of articles related to a specific channel."},"date":"2018-12-06","slug":"the-rss-reader-tutorial-step-3"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Some Rest with Vert.x","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"This post is part of the Introduction to Vert.x series. Let’s go a bit further this time and develop a CRUD-ish application"},"date":"2015-07-27","slug":"some-rest-with-vert-x"},{"meta":{"title":"Real-time bidding with Websockets and Vert.x","category":"guides","authors":[{"name":"Marcin Warczyglowa","github_id":"mwarc"}],"summary":"The expectations of users for interactivity with web applications have changed over the past few years.\n    Users during bidding in auction no longer want to press the refresh button."},"date":"2016-01-15","slug":"real-time-bidding-with-websockets-and-vert-x"}]},"__N_SSG":true}