{"pageProps":{"categories":["releases","guides","security","news"],"post":{"meta":{"title":"An Eclipse Vert.x Gradle Plugin","category":"news","authors":[{"name":"Julien Ponge","github_id":"jponge"}],"summary":"The new Vert.x Gradle plugin offers an opinionated plugin for building Vert.x applications with Gradle."},"date":"2017-09-28","slug":"an-eclipse-vert-x-gradle-plugin","readingTime":{"text":"4 min read","minutes":3.305,"time":198300,"words":661},"content":{"compiledSource":"var c=Object.defineProperty,m=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var t=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var l=(a,n,s)=>n in a?c(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,e=(a,n)=>{for(var s in n||(n={}))r.call(n,s)&&l(a,s,n[s]);if(t)for(var s of t(n))p.call(n,s)&&l(a,s,n[s]);return a},o=(a,n)=>m(a,h(n));var d=(a,n)=>{var s={};for(var i in a)r.call(a,i)&&n.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&t)for(var i of t(a))n.indexOf(i)<0&&p.call(a,i)&&(s[i]=a[i]);return s};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(s){var i=s,{components:a}=i,n=d(i,[\"components\"]);return mdx(MDXLayout,o(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Eclipse Vert.x is a ver\\xADsa\\xADtile toolkit, and as such it does not have any strong opin\\xADion on the tools that you should be using.\"),mdx(\"p\",null,\"Gra\\xADdle is a pop\\xADu\\xADlar build tool in the JVM ecosys\\xADtem, and it is quite easy to use for build\\xADing Vert.x project as \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/vert-x3/vertx-examples/blob/master/gradle-verticles/gradle-verticle/build.gradle\"}),\"show in one of the \",mdx(\"inlineCode\",{parentName:\"a\"},\"vertx-examples\"),\" sam\\xADples\"),\" where a so-\\u200Bcalled \",mdx(\"em\",{parentName:\"p\"},\"fat Jar\"),\" is being pro\\xADduced.\"),mdx(\"p\",null,\"The new \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://plugins.gradle.org/plugin/io.vertx.vertx-plugin\"}),\"Vert.x Gra\\xADdle plugin\"),\" of\\xADfers an \",mdx(\"em\",{parentName:\"p\"},\"opin\\xADion\\xADated\"),\" plug\\xADin for build\\xADing Vert.x ap\\xADpli\\xADca\\xADtions with Gra\\xADdle.\"),mdx(\"p\",null,\"It au\\xADto\\xADmat\\xADi\\xADcally ap\\xADplies the fol\\xADlow\\xADing plu\\xADg\\xADins:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"java\"),\" (and sets the source com\\xADpat\\xADi\\xADbil\\xADity to Java 8),\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"application\"),\" + \",mdx(\"inlineCode\",{parentName:\"li\"},\"shadow\"),\" to gen\\xADer\\xADate fat Jars with all de\\xADpen\\xADden\\xADcies bun\\xADdled,\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"nebula-dependency-recommender-plugin\"),\" so that you can omit ver\\xADsions from mod\\xADules from the the Vert.x stack.\")),mdx(\"p\",null,\"The plug\\xADin au\\xADto\\xADmat\\xADi\\xADcally adds \",mdx(\"inlineCode\",{parentName:\"p\"},\"io.vertx:vertx-core\"),\" as a \",mdx(\"inlineCode\",{parentName:\"p\"},\"compile\"),\" de\\xADpen\\xADdency, so you don\\u2019t need to do it.\"),mdx(\"p\",null,\"The plug\\xADin pro\\xADvides a \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertxRun\"),\" task that can take ad\\xADvan\\xADtage of the Vert.x auto-\\u200Breloading ca\\xADpa\\xADbil\\xADi\\xADties, so you can just run it then have your code being au\\xADto\\xADmat\\xADi\\xADcally com\\xADpiled and re\\xADloaded as you make changes.\"),mdx(\"h2\",e({},{id:\"getting-started\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#getting-started\"})),\"Getting started\"),mdx(\"p\",null,\"A min\\xADi\\xADmal \",mdx(\"inlineCode\",{parentName:\"p\"},\"build.gradle\"),\" looks like:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-groovy\"}),`plugins {\n  id `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'io.vertx.vertx-plugin'\"),\" version \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'0.0.4'\"),`\n}\n\nrepositories {\n  jcenter()\n}\n\nvertx {\n  mainVerticle = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'sample.App'\"),`\n}\n`)),mdx(\"p\",null,\"Pro\\xADvided \",mdx(\"inlineCode\",{parentName:\"p\"},\"sample.App\"),\" is a Vert.x ver\\xADti\\xADcle, then:\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"gradle shadowJar\"),\" builds an ex\\xADe\\xADcutable Jar with all de\\xADpen\\xADden\\xADcies: \",mdx(\"inlineCode\",{parentName:\"li\"},\"java -jar build/libs/simple-project-fat.jar\"),\", and\"),mdx(\"li\",{parentName:\"ol\"},mdx(\"inlineCode\",{parentName:\"li\"},\"gradle vertxRun\"),\" starts the ap\\xADpli\\xADca\\xADtion and au\\xADto\\xADmat\\xADi\\xADcally re\\xADcom\\xADpiles (\",mdx(\"inlineCode\",{parentName:\"li\"},\"gradle classes\"),\") and re\\xADloads the code when any file under \",mdx(\"inlineCode\",{parentName:\"li\"},\"src/\"),\" is being added, mod\\xADi\\xADfied or deleted.\")),mdx(\"h2\",e({},{id:\"using-with-kotlin-or-groovy-or\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#using-with-kotlin-or-groovy-or\"})),\"Using with Kotlin (or Groovy, or\\u2026)\"),mdx(\"p\",null,\"The plug\\xADin in\\xADte\\xADgrates well with plu\\xADg\\xADins that add con\\xADfig\\xADu\\xADra\\xADtions and tasks trig\\xADgered by the \",mdx(\"inlineCode\",{parentName:\"p\"},\"classes\"),\" task.\"),mdx(\"p\",null,\"Here is how to use the plug\\xADin with Kotlin (re\\xADplace the ver\\xADsion num\\xADbers with the lat\\xADest ones\\u2026):\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-groovy\"}),`plugins {\n  id `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'io.vertx.vertx-plugin'\"),\" version \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'x.y.z'\"),`\n  id `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'org.jetbrains.kotlin.jvm'\"),\" version \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'a.b.c'\"),`\n}\n\nrepositories {\n  jcenter()\n}\n\ndependencies {\n  compile `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'io.vertx:vertx-lang-kotlin'\"),`\n  compile `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'org.jetbrains.kotlin:kotlin-stdlib-jre8'\"),`\n}\n\nvertx {\n  mainVerticle = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"sample.MainVerticle\"'),`\n}\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n  kotlinOptions {\n    jvmTarget = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"1.8\"'),`\n  }\n}\n`)),mdx(\"h2\",e({},{id:\"using-with-webpack-or-any-other-custom-task\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#using-with-webpack-or-any-other-custom-task\"})),\"Using with WebPack (or any other custom task)\"),mdx(\"p\",null,\"Web\\xADPack is pop\\xADu\\xADlar to bun\\xADdle web as\\xADsets, and there is even \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://guides.gradle.org/running-webpack-with-gradle/\"}),\"a guide for its in\\xADte\\xADgra\\xADtion with Gra\\xADdle\"),\".\"),mdx(\"p\",null,\"Mix\\xADing the Vert.x Gra\\xADdle plug\\xADin with Web\\xADPack is very sim\\xADple, es\\xADpe\\xADcially in com\\xADbi\\xADna\\xADtion with the \",mdx(\"inlineCode\",{parentName:\"p\"},\"com.moowork.node\"),\" plug\\xADin that in\\xADte\\xADgrates Node into Gra\\xADdle.\"),mdx(\"p\",null,`Sup\\xADpose we want to mix Vert.x code and JavaScript with Gra\\xADdle and Web\\xADPack.\nWe as\\xADsume a `,mdx(\"inlineCode\",{parentName:\"p\"},\"package.json\"),\" as:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-javascript\"}),`{\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"name\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"webpack-sample\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"version\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"0.0.1\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"description\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"A sample with Vert.x, Gradle and Webpack\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"main\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"src/main/webapp/index.js\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"scripts\"'),`: {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"test\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"echo \\\\\"Error: no test specified\\\\\" && exit 1\"'),`\n  },\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"author\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"license\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"ISC\"'),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"devDependencies\"'),`: {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"webpack\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"^2.7.0\"'),`\n  },\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"dependencies\"'),`: {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"axios\"'),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"^0.16.2\"'),`\n  }\n}\n`)),mdx(\"p\",null,\"and \",mdx(\"inlineCode\",{parentName:\"p\"},\"webpack.config.js\"),\" as:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-javascript\"}),mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-built_in\"}),\"module\"),`.exports = {\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"entry\"),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'./src/main/webapp/index.js'\"),`,\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"output\"),`: {\n    `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"filename\"),\": \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'./build/resources/main/webroot/bundle.js'\"),`\n  }\n}\n`)),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"build.gradle\"),\" file is the fol\\xADlow\\xADing:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-groovy\"}),`plugins {\n  id `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'io.vertx.vertx-plugin'\"),\" version \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'0.0.4'\"),`\n  id `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'com.moowork.node'\"),\" version \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),\"'1.2.0'\"),`\n}\n\nrepositories {\n  jcenter()\n}\n\ndependencies {\n  compile `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"io.vertx:vertx-web\"'),`\n}\n\nvertx {\n  mainVerticle = `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"sample.MainVerticle\"'),`\n  watch = [`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"src/**/*\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"build.gradle\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"yarn.lock\"'),`]\n  onRedeploy = [`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"classes\"'),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"webpack\"'),`]\n}\n\ntask webpack(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-attr\"}),\"type:\"),` Exec) {\n  inputs.file(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$projectDir/yarn.lock\"'),`)\n  inputs.file(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$projectDir/webpack.config.js\"'),`)\n  inputs.dir(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$projectDir/src/main/webapp\"'),`)\n  outputs.dir(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$buildDir/resources/main/webroot\"'),`)\n  commandLine `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"$projectDir/node_modules/.bin/webpack\"'),`\n}\n`)),mdx(\"p\",null,\"This cus\\xADtom build ex\\xADposes a \",mdx(\"inlineCode\",{parentName:\"p\"},\"webpack\"),\" task that in\\xADvokes Web\\xADPack, with proper file track\\xADing so that Gra\\xADdle knows when the task is up-\\u200Bto-date or not.\"),mdx(\"p\",null,\"The Node plug\\xADin adds many tasks, and in\\xADte\\xADgrates fine with \",mdx(\"inlineCode\",{parentName:\"p\"},\"npm\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn\"),\", so fetch\\xADing all NPM de\\xADpen\\xADden\\xADcies is done by call\\xADing \",mdx(\"inlineCode\",{parentName:\"p\"},\"./gradlew yarn\"),\".\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertxRun\"),\" task now re\\xADde\\xADploys on mod\\xADi\\xADfi\\xADca\\xADtions to files in \",mdx(\"inlineCode\",{parentName:\"p\"},\"src/\"),\" (and sub-\\u200Bfolders), \",mdx(\"inlineCode\",{parentName:\"p\"},\"build.gradle\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"yarn.lock\"),\", call\\xADing both the \",mdx(\"inlineCode\",{parentName:\"p\"},\"classes\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"webpack\"),\" tasks:\"),mdx(\"div\",{className:\"youtube-embed\"},mdx(\"iframe\",{src:\"https://www.youtube.com/embed/OGy-1w8Z6Dc?rel=0\",frameBorder:\"0\",allowFullScreen:!0})),mdx(\"h2\",e({},{id:\"summary\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#summary\"})),\"Summary\"),mdx(\"p\",null,\"The Vert.x Gra\\xADdle plug\\xADin pro\\xADvides lots of de\\xADfaults to con\\xADfig\\xADure a Gra\\xADdle project for Vert.x ap\\xADpli\\xADca\\xADtions, pro\\xADduc\\xADing \",mdx(\"em\",{parentName:\"p\"},\"fat Jars\"),` and of\\xADfer\\xADing a run\\xADning task with au\\xADto\\xADmatic re\\xADde\\xADploy\\xADment.\nThe plug\\xADin also in\\xADte\\xADgrates well with other plu\\xADg\\xADins and ex\\xADter\\xADnal tools for which a Gra\\xADdle task is avail\\xADable.`),mdx(\"p\",null,\"The project is still in its early stages and we are look\\xADing for\\xADward to hear\\xADing from you!\"),mdx(\"h3\",e({},{id:\"links\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#links\"})),\"Links\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/jponge/vertx-gradle-plugin\"}),\"The project on GitHub\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://plugins.gradle.org/plugin/io.vertx.vertx-plugin\"}),\"The plug\\xADin on the Gra\\xADdle plu\\xADg\\xADins por\\xADtal\"))))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.5.0 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The Vert.x team is pleased to announce the release of Eclipse Vert.x 3.5.0."},"date":"2017-10-20","slug":"eclipse-vert-x-3-5-0-released"},"nextPost":{"meta":{"title":"Introducing Vert.x MQTT client","category":"guides","authors":[{"name":"Pavel Drankov","github_id":"Sammers21"}],"summary":"In this article, we will see how to set up the new Vert.x MQTT client. An example project is available on GitHub."},"date":"2017-08-21","slug":"introducing-vert-x-mqtt-client"},"relatedPosts":[{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"TCP Client using Eclipse Vert.x, Kotlin and Gradle build","category":"guides","authors":[{"name":"Usman Saleem","github_id":"usmansaleem"}],"summary":"In this blog post, I demonstrate how to write a very simple TCP client that keeps a connection open to a custom-written server in cloud."},"date":"2017-12-20","slug":"tcp-client-using-eclipse-vert-x-kotlin-and-gradle-build"},{"meta":{"title":"Checklist for Migrating from Vert.x 2.1.x to Vert.x 3 - Part One","category":"guides","authors":[{"name":"Mark Spritzler","github_id":"bytor99999"}],"summary":"So while upgrading our application, I thought I should note down all the changes that we had to do in the process. Since Vert.x 3 is a major upgrade from the previous version, with so many changes."},"date":"2015-07-06","slug":"checklist-for-migrating-from-vert-x-2-1-x-to-vert-x-3-part-one"}]},"__N_SSG":true}