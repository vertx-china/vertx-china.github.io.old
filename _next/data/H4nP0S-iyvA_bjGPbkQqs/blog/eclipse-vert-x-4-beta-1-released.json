{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Eclipse Vert.x 4 beta 1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the first 4.0 beta release of Eclipse Vert.x. Highlights of this release are the improved JDBC Client API, event loop affinity, and much more."},"date":"2020-07-28","slug":"eclipse-vert-x-4-beta-1-released","readingTime":{"text":"4 min read","minutes":3.73,"time":223800,"words":746},"content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We are ex\\xADtremely pleased to an\\xADnounce the first 4.0 beta re\\xADlease of Eclipse Vert.x .\"), mdx(\"p\", null, \"Vert.x 4 is the evo\\xADlu\\xADtion of the Vert.x 3.x se\\xADries that will bring key fea\\xADtures to Vert.x.\"), mdx(\"h2\", {\n    \"id\": \"sql-client-metrics\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#sql-client-metrics\"\n  })), \"SQL client metrics\"), mdx(\"p\", null, \"Vert.x 4 sup\\xADports met\\xADrics for clients which are crit\\xADi\\xADcal for mon\\xADi\\xADtor\\xADing ap\\xADpli\\xADca\\xADtion per\\xADfor\\xADmance.\"), mdx(\"p\", null, \"While the ca\\xADpa\\xADbil\\xADi\\xADties are generic and can apply to any client, each client needs a spe\\xADcific in\\xADte\\xADgra\\xADtion.\\nOb\\xADvi\\xADously the SQL client was the per\\xADfect can\\xADdi\\xADdate in mind for this new fea\\xADture.\"), mdx(\"p\", null, \"Mi\\xADcrom\\xADe\\xADter met\\xADrics will re\\xADport these met\\xADrics as\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_queue_pend\\xADing: num\\xADber of re\\xADquests sched\\xADuled but not yet ex\\xADe\\xADcuted\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_queue_time: time spent in queue be\\xADfore pro\\xADcess\\xADing\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_pro\\xADcess\\xADing_pend\\xADing: num\\xADber of re\\xADquest being processed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"vertx_sql_pro\\xADcess\\xADing_time: re\\xADquests la\\xADten\\xADcies\")), mdx(\"h2\", {\n    \"id\": \"a-better-api-for-jdbc-client\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#a-better-api-for-jdbc-client\"\n  })), \"A better API for JDBC Client\"), mdx(\"p\", null, \"Our JDBC client will not go away in Vert.x 4, we do rec\\xADkn\\xADog\\xADnize that JDBC is im\\xADpor\\xADtant be\\xADcause it sup\\xADports\\nthe most im\\xADpor\\xADtant num\\xADber of data\\xADbases in the ecosys\\xADtem.\"), mdx(\"p\", null, \"When we de\\xADsigned the SQL client API we strived a lot to come with the sim\\xADplest and most pow\\xADer\\xADful API\\nfor asyn\\xADcho\\xADnous SQL client.\"), mdx(\"p\", null, \"This re\\xADlease brings an im\\xADple\\xADmen\\xADta\\xADtion of the SQL client API for JDBC.\"), mdx(\"p\", null, \"The 3.x API se\\xADries will con\\xADtinue to be sup\\xADported for the life\\xADtime of Vert.x 4.\"), mdx(\"h2\", {\n    \"id\": \"event-loop-affinity\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#event-loop-affinity\"\n  })), \"Event loop affinity\"), mdx(\"p\", null, \"Using Vert.x from a non Vert.x thread is a very com\\xADmon use case we have been sup\\xADport\\xADing since Vert.x 3.\"), mdx(\"p\", null, \"When you use a Vert.x re\\xADsource (like a client) from a non Vert.x thread, Vert.x 3 ob\\xADtains a new event-\\u200Bloop\\nevery\\xADtime it hap\\xADpens.\"), mdx(\"p\", null, \"In Vert.x 4 we de\\xADcided to pin the first event loop to the non Vert.x thread. The goal is to pre\\xADvent\\nsome data races and also makes rea\\xADson\\xADning about this eas\\xADier.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"hljs language-ini\"\n  }), \"Vertx \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"vertx\"), \" = Vertx.vertx()\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n\\nfor (int \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"i\"), \" = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-number\"\n  }), \"0\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";i < 4;i++) {\"), \"\\n  String \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-attr\"\n  }), \"msg\"), \" = \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-string\"\n  }), \"\\\"Message \\\"\"), \" + i\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n  vertx.runOnContext(v -> {\\n    System.out.println(i)\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n  })\", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"hljs-comment\"\n  }), \";\"), \"\\n}\\n\")), mdx(\"p\", null, \"Run\\xADning this with Vert.x 3 will print the 4 lines but they are likely to not be re\\xADordered, this code could\\nalso be run\\xADning in par\\xADal\\xADlel (that is two dif\\xADfer\\xADent threads run\\xADning at the same time on a dif\\xADfer\\xADent CPU core).\"), mdx(\"p\", null, \"Run\\xADning this with Vert.x 4 will print the 4 lines in the cor\\xADrect order and al\\xADways with the same thread. This\\nelim\\xADi\\xADnates some po\\xADten\\xADtial data races and also al\\xADlows to rea\\xADson about what will hap\\xADpen at run\\xADtime.\"), mdx(\"h2\", {\n    \"id\": \"vertx-json-schema-supports-draft2019-09\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#vertx-json-schema-supports-draft2019-09\"\n  })), \"Vert.x Json Schema supports Draft2019-09\"), mdx(\"p\", null, \"The new \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/eclipse-vertx/vertx-json-schema\"\n  }), \"vertx-\\u200Bjson-schema\"), \" mod\\xADule now sup\\xADports the lat\\xADest Json Schema \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://json-schema.org/specification.html\"\n  }), \"Draft2019-09 spec\"), \". You can fi\\xADnally play with the new \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"$recursiveRef\"), \" to build ex\\xADten\\xADsi\\xADble re\\xADcur\\xADsive schemas and with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unevaluatedProperties\"), \"/\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"unevaluatedItems\"), \" to de\\xADfine strict schemas. Look at the mod\\xADule \", mdx(Link, {\n    href: \"/docs/vertx-json-schema/java/\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"doc\\xADu\\xADmen\\xADta\\xADtion\")), \" to start using it.\"), mdx(\"h2\", {\n    \"id\": \"clustering-configuration-simplified\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#clustering-configuration-simplified\"\n  })), \"Clustering configuration simplified\"), mdx(\"p\", null, \"In Vert.x 3, clus\\xADter host was set to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"localhost\"), \" by de\\xADfault in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"EventBusOptions\"), \".\\nCon\\xADse\\xADquently, a lot of new users were con\\xADfused about why event bus con\\xADsumers and pro\\xADduc\\xADers were not able to com\\xADmu\\xADni\\xADcate even if the un\\xADder\\xADly\\xADing clus\\xADter man\\xADager was con\\xADfig\\xADured cor\\xADrectly.\"), mdx(\"p\", null, \"Also, when using the CLI tool or the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \" class, Vert.x tried to find a host among avail\\xADable net\\xADwork in\\xADter\\xADfaces if none was pro\\xADvided with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-cluster-host\"), \" ar\\xADgu\\xADment.\\nSome\\xADtimes, the host cho\\xADsen by the clus\\xADter man\\xADager and Vert.x were not the same.\"), mdx(\"p\", null, \"Start\\xADing with Vert.x 4 beta 1, the clus\\xADter host de\\xADfault has been re\\xADmoved and, if users don\\u2019t pro\\xADvide any, Vert.x will ask the clus\\xADter man\\xADager which one it picked be\\xADfore try\\xADing to find one it\\xADself.\\nThis ap\\xADplies whether Vert.x is em\\xADbed\\xADded in any Java pro\\xADgram or started with the CLI tool or with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Launcher\"), \" class.\"), mdx(\"p\", null, \"So far, only \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-hazelcast\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-infinispan\"), \" clus\\xADter man\\xADagers can pro\\xADvide Vert.x with a clus\\xADter host.\\nWhen other clus\\xADter man\\xADagers are used, Vert.x will choose one it\\xADself.\"), mdx(\"h2\", {\n    \"id\": \"cluster-manager-upgrades\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#cluster-manager-upgrades\"\n  })), \"Cluster manager upgrades\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-hazelcast\"), \" has been up\\xADgraded to Hazel\\xADcast 4.0.2 and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"vertx-infinispan\"), \" to In\\xADfin\\xADis\\xADpan 11.0.1.Final.\"), mdx(\"h2\", {\n    \"id\": \"finally\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"aria-hidden\": true,\n    \"tabIndex\": -1,\n    \"className\": \"heading-anchor\",\n    \"href\": \"#finally\"\n  })), \"Finally\"), mdx(\"p\", null, \"This is the Beta1 re\\xADlase of Vert.x 4, you can of course ex\\xADpect more betas as we get feed\\xADback from the com\\xADmu\\xADnity and fix is\\xADsues that we failed to catch be\\xADfore.\"), mdx(\"p\", null, \"You can also read the mile\\xADstone an\\xADnounces to know more about the over\\xADral changes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-5-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-5-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-4-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-4-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-3-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-3-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-2-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-2-\\u200Breleased\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(Link, {\n    href: \"/blog/eclipse-vert-x-4-milestone-1-released\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"\"\n  }), \"https://vertx.io/blog/eclipse-\\u200Bvert-x-4-\\u200Bmilestone-1-\\u200Breleased\")))), mdx(\"p\", null, \"The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\"\n  }), \"dep\\xADre\\xADca\\xADtions and break\\xADing changes\"), \"\\ncan be found on the wiki.\"), mdx(\"p\", null, \"For this re\\xADlease there are no Docker im\\xADages.\"), mdx(\"p\", null, \"The re\\xADlease ar\\xADti\\xADfacts have been de\\xADployed to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\"\n  }), \"Maven Cen\\xADtral\"), \" and you can get the dis\\xADtri\\xADb\\xADu\\xADtion on \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\"\n  }), \"Maven Cen\\xADtral\"), \".\"), mdx(\"p\", null, \"You can boot\\xADstrap a Vert.x 4.0.0.Beta1 project using \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://start.vertx.io\"\n  }), \"https://start.vertx.io\"), \".\"), mdx(\"p\", null, \"The doc\\xADu\\xADmen\\xADta\\xADtion has been de\\xADployed on this pre\\xADview web-\\u200Bsite \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://vertx-web-site.github.io/docs/\"\n  }), \"https://vertx-\\u200Bweb-site.github.io/docs/\")), mdx(\"p\", null, \"That\\u2019s it! Happy cod\\xADing and see you soon on our user or dev \", mdx(Link, {\n    href: \"/community\",\n    passHref: true,\n    mdxType: \"Link\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"\"\n  }), \"chan\\xADnels\")), \".\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<p>We are ex­tremely pleased to an­nounce the first 4.0 beta re­lease of Eclipse Vert.x .</p><p>Vert.x 4 is the evo­lu­tion of the Vert.x 3.x se­ries that will bring key fea­tures to Vert.x.</p><h2 id=\"sql-client-metrics\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#sql-client-metrics\"></a>SQL client metrics</h2><p>Vert.x 4 sup­ports met­rics for clients which are crit­i­cal for mon­i­tor­ing ap­pli­ca­tion per­for­mance.</p><p>While the ca­pa­bil­i­ties are generic and can apply to any client, each client needs a spe­cific in­te­gra­tion.\nOb­vi­ously the SQL client was the per­fect can­di­date in mind for this new fea­ture.</p><p>Mi­crom­e­ter met­rics will re­port these met­rics as</p><ul><li>vertx_sql_queue_pend­ing: num­ber of re­quests sched­uled but not yet ex­e­cuted</li><li>vertx_sql_queue_time: time spent in queue be­fore pro­cess­ing</li><li>vertx_sql_pro­cess­ing_pend­ing: num­ber of re­quest being processed</li><li>vertx_sql_pro­cess­ing_time: re­quests la­ten­cies</li></ul><h2 id=\"a-better-api-for-jdbc-client\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#a-better-api-for-jdbc-client\"></a>A better API for JDBC Client</h2><p>Our JDBC client will not go away in Vert.x 4, we do rec­kn­og­nize that JDBC is im­por­tant be­cause it sup­ports\nthe most im­por­tant num­ber of data­bases in the ecosys­tem.</p><p>When we de­signed the SQL client API we strived a lot to come with the sim­plest and most pow­er­ful API\nfor asyn­cho­nous SQL client.</p><p>This re­lease brings an im­ple­men­ta­tion of the SQL client API for JDBC.</p><p>The 3.x API se­ries will con­tinue to be sup­ported for the life­time of Vert.x 4.</p><h2 id=\"event-loop-affinity\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#event-loop-affinity\"></a>Event loop affinity</h2><p>Using Vert.x from a non Vert.x thread is a very com­mon use case we have been sup­port­ing since Vert.x 3.</p><p>When you use a Vert.x re­source (like a client) from a non Vert.x thread, Vert.x 3 ob­tains a new event-​loop\nevery­time it hap­pens.</p><p>In Vert.x 4 we de­cided to pin the first event loop to the non Vert.x thread. The goal is to pre­vent\nsome data races and also makes rea­son­ning about this eas­ier.</p><pre><code class=\"hljs language-ini\">Vertx <span class=\"hljs-attr\">vertx</span> = Vertx.vertx()<span class=\"hljs-comment\">;</span>\n\nfor (int <span class=\"hljs-attr\">i</span> = <span class=\"hljs-number\">0</span><span class=\"hljs-comment\">;i &lt; 4;i++) {</span>\n  String <span class=\"hljs-attr\">msg</span> = <span class=\"hljs-string\">&quot;Message &quot;</span> + i<span class=\"hljs-comment\">;</span>\n  vertx.runOnContext(v -&gt; {\n    System.out.println(i)<span class=\"hljs-comment\">;</span>\n  })<span class=\"hljs-comment\">;</span>\n}\n</code></pre><p>Run­ning this with Vert.x 3 will print the 4 lines but they are likely to not be re­ordered, this code could\nalso be run­ning in par­al­lel (that is two dif­fer­ent threads run­ning at the same time on a dif­fer­ent CPU core).</p><p>Run­ning this with Vert.x 4 will print the 4 lines in the cor­rect order and al­ways with the same thread. This\nelim­i­nates some po­ten­tial data races and also al­lows to rea­son about what will hap­pen at run­time.</p><h2 id=\"vertx-json-schema-supports-draft2019-09\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#vertx-json-schema-supports-draft2019-09\"></a>Vert.x Json Schema supports Draft2019-09</h2><p>The new <a href=\"https://github.com/eclipse-vertx/vertx-json-schema\">vertx-​json-schema</a> mod­ule now sup­ports the lat­est Json Schema <a href=\"http://json-schema.org/specification.html\">Draft2019-09 spec</a>. You can fi­nally play with the new <code>$recursiveRef</code> to build ex­ten­si­ble re­cur­sive schemas and with <code>unevaluatedProperties</code>/<code>unevaluatedItems</code> to de­fine strict schemas. Look at the mod­ule <a href=\"/docs/vertx-json-schema/java/\">doc­u­men­ta­tion</a> to start using it.</p><h2 id=\"clustering-configuration-simplified\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#clustering-configuration-simplified\"></a>Clustering configuration simplified</h2><p>In Vert.x 3, clus­ter host was set to <code>localhost</code> by de­fault in <code>EventBusOptions</code>.\nCon­se­quently, a lot of new users were con­fused about why event bus con­sumers and pro­duc­ers were not able to com­mu­ni­cate even if the un­der­ly­ing clus­ter man­ager was con­fig­ured cor­rectly.</p><p>Also, when using the CLI tool or the <code>Launcher</code> class, Vert.x tried to find a host among avail­able net­work in­ter­faces if none was pro­vided with the <code>-cluster-host</code> ar­gu­ment.\nSome­times, the host cho­sen by the clus­ter man­ager and Vert.x were not the same.</p><p>Start­ing with Vert.x 4 beta 1, the clus­ter host de­fault has been re­moved and, if users don’t pro­vide any, Vert.x will ask the clus­ter man­ager which one it picked be­fore try­ing to find one it­self.\nThis ap­plies whether Vert.x is em­bed­ded in any Java pro­gram or started with the CLI tool or with the <code>Launcher</code> class.</p><p>So far, only <code>vertx-hazelcast</code> and <code>vertx-infinispan</code> clus­ter man­agers can pro­vide Vert.x with a clus­ter host.\nWhen other clus­ter man­agers are used, Vert.x will choose one it­self.</p><h2 id=\"cluster-manager-upgrades\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#cluster-manager-upgrades\"></a>Cluster manager upgrades</h2><p><code>vertx-hazelcast</code> has been up­graded to Hazel­cast 4.0.2 and <code>vertx-infinispan</code> to In­fin­is­pan 11.0.1.Final.</p><h2 id=\"finally\"><a aria-hidden=\"true\" tabindex=\"-1\" class=\"heading-anchor\" href=\"#finally\"></a>Finally</h2><p>This is the Beta1 re­lase of Vert.x 4, you can of course ex­pect more betas as we get feed­back from the com­mu­nity and fix is­sues that we failed to catch be­fore.</p><p>You can also read the mile­stone an­nounces to know more about the over­ral changes:</p><ul><li><a href=\"/blog/eclipse-vert-x-4-milestone-5-released/\">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-5-​released</a></li><li><a href=\"/blog/eclipse-vert-x-4-milestone-4-released/\">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-4-​released</a></li><li><a href=\"/blog/eclipse-vert-x-4-milestone-3-released/\">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-3-​released</a></li><li><a href=\"/blog/eclipse-vert-x-4-milestone-2-released/\">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-2-​released</a></li><li><a href=\"/blog/eclipse-vert-x-4-milestone-1-released/\">https://vertx.io/blog/eclipse-​vert-x-4-​milestone-1-​released</a></li></ul><p>The <a href=\"https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes\">dep­re­ca­tions and break­ing changes</a>\ncan be found on the wiki.</p><p>For this re­lease there are no Docker im­ages.</p><p>The re­lease ar­ti­facts have been de­ployed to <a href=\"https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1\">Maven Cen­tral</a> and you can get the dis­tri­b­u­tion on <a href=\"https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/\">Maven Cen­tral</a>.</p><p>You can boot­strap a Vert.x 4.0.0.Beta1 project using <a href=\"https://start.vertx.io\">https://start.vertx.io</a>.</p><p>The doc­u­men­ta­tion has been de­ployed on this pre­view web-​site <a href=\"https://vertx-web-site.github.io/docs/\">https://vertx-​web-site.github.io/docs/</a></p><p>That’s it! Happy cod­ing and see you soon on our user or dev <a href=\"/community/\">chan­nels</a>.</p>","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 3.9.3 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"Eclipse Vert.x version 3.9.3 has just been released. It fixes quite a few bugs that have been reported by the community."},"date":"2020-09-17","slug":"eclipse-vert-x-3-9-3-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 3.9.2 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The new Eclipse Vert.x version 3.9.2 has just been released. It includes a few bug fixes, a new reactive DB2 client, and reactive MySQL Client domain socket support."},"date":"2020-07-21","slug":"eclipse-vert-x-3-9-2-released"},"relatedPosts":[{"meta":{"title":"Eclipse Vert.x 4 milestone 5 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"We are extremely pleased to announce the fifth 4.0 milestone release of Eclipse Vert.x. This release aims to provide a reliable distribution of the current development of Vert.x 4."},"date":"2020-06-10","slug":"eclipse-vert-x-4-milestone-5-released"},{"meta":{"title":"Eclipse Vert.x 4 CR1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first release candidate of the upcoming Vert.x 4 has just been released. We consider it feature complete and invite the community to test it."},"date":"2020-11-04","slug":"eclipse-vert-x-4-cr1-released"},{"meta":{"title":"Using the asynchronous SQL client","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Finally, back... This post is the fifth post of the introduction to vert.x blog series, after a not-that-small break. In this post we are going to see how we can use JDBC in a vert.x application."},"date":"2015-10-19","slug":"using-the-asynchronous-sql-client"}]},"__N_SSG":true}