{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"Getting started with new fabric8 Vert.x Maven Plugin","category":"guides","authors":[{"name":"Kamesh Sampath","github_id":"kameshsampath"}],"summary":"The all new fabric8 Vert.x Maven Plugin allows you to setup, package, run, start, stop and redeploy easily with a very little configuration resulting in a less verbose pom.xml."},"date":"2016-12-07","slug":"getting-started-with-new-fabric8-vert-x-maven-plugin","readingTime":{"text":"5 min read","minutes":4.455,"time":267300,"words":891},"content":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var l=(a,t,n)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=>{for(var n in t||(t={}))r.call(t,n)&&l(a,n,t[n]);if(o)for(var n of o(t))p.call(t,n)&&l(a,n,t[n]);return a},s=(a,t)=>d(a,c(t));var h=(a,t)=>{var n={};for(var i in a)r.call(a,i)&&t.indexOf(i)<0&&(n[i]=a[i]);if(a!=null&&o)for(var i of o(a))t.indexOf(i)<0&&p.call(a,i)&&(n[i]=a[i]);return n};const makeShortcode=a=>function(n){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},n))},Alert=makeShortcode(\"Alert\"),Gist=makeShortcode(\"Gist\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var i=n,{components:a}=i,t=h(i,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"The all new \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\" al\\xADlows you to setup, pack\\xADage, run, start, stop and re\\xADde\\xADploy eas\\xADily with a very lit\\xADtle con\\xADfig\\xADu\\xADra\\xADtion re\\xADsult\\xADing in a less ver\\xADbose \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\".\"),mdx(Alert,{info:!0,mdxType:\"Alert\"},mdx(\"p\",null,\"The plug\\xADin is de\\xADvel\\xADoped under the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://fabric8.io/\"}),\"fab\\xADric8\"),\" um\\xADbrella.\")),mdx(\"p\",null,\"Tra\\xADdi\\xADtion\\xADally Vert.x ap\\xADpli\\xADca\\xADtions using \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" need to have one or more of the fol\\xADlow\\xADing plu\\xADg\\xADins:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://maven.apache.org/plugins/maven-shade-plugin/\"}),\"Maven Shade Plu\\xADgin\"),\" - aids in pack\\xADag\\xADing a uber jar of Vert.x ap\\xADpli\\xADca\\xADtion with ad\\xADdi\\xADtional con\\xADfig\\xADu\\xADra\\xADtions to per\\xADform SPI com\\xADbin\\xADing, MAN\\xADI\\xADFEST.MF en\\xADtries etc.,\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"http://www.mojohaus.org/exec-maven-plugin/\"}),\"Maven Exec Plu\\xADgin\"),\" - aids in start\\xADing the Vert.x ap\\xADpli\\xADca\\xADtion\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://maven.apache.org/plugins/maven-ant-plugin/\"}),\"Maven Ant Plu\\xADgin\"),\" - aids in stop\\xADping the run\\xADning Vert.x ap\\xADpli\\xADca\\xADtion\")),mdx(\"p\",null,\"Though these are great plu\\xADg\\xADins and do what is re\\xADquired, but at the end of the day the de\\xADvel\\xADoper is left with a ver\\xADbose \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" which might be\\xADcome harder to main\\xADtain as the ap\\xADpli\\xADca\\xADtion or its con\\xADfig\\xADu\\xADra\\xADtion grows. Even if we de\\xADcide to go this way and use those plu\\xADg\\xADins, there are some things which can\\u2019t done or done eas\\xADily:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"run\"),\" an ap\\xADpli\\xADca\\xADtion on fore\\xADground - which is a typ\\xADi\\xADcal way dur\\xADing de\\xADvel\\xADop\\xADment where the ap\\xADpli\\xADca\\xADtion starts in fore\\xADground of \",mdx(\"a\",e({parentName:\"li\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" build and killed au\\xADto\\xADmat\\xADi\\xADcally once we hit \",mdx(\"inlineCode\",{parentName:\"li\"},\"Ctrl + c\"),\"(or \",mdx(\"inlineCode\",{parentName:\"li\"},\"CMD + c\"),\" on Mac)\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"redeploy\"),\" is one of the coolest fea\\xADture of Vert.x al\\xADlow\\xADing us to per\\xADform hot de\\xADploy\\xADments. Still we can man\\xADage to do this with IDE sup\\xADport but not na\\xADtively using \",mdx(\"a\",e({parentName:\"li\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" - typ\\xADi\\xADcal cases where we dis\\xADable \",mdx(\"em\",{parentName:\"li\"},\"Au\\xADto\\xADmatic Builds\"),\" via IDE\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"setup\"),\" Vert.x ap\\xADpli\\xADca\\xADtions with sen\\xADsi\\xADble de\\xADfaults and re\\xADquired Vert.x de\\xADpen\\xADden\\xADcies e.g. vertx-\\u200Bcore\")),mdx(\"p\",null,\"In this first blog of fab\\xADric8 Vert.x Maven Plu\\xADgin se\\xADries we will help you to get started with this new \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\", high\\xADlight\\xADing how this plug\\xADin helps al\\xADle\\xADvi\\xADat\\xADing the afore\\xADmen\\xADtioned pain points with a less ver\\xADbose \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\".\"),mdx(\"p\",null,\"The \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" plug\\xADin source code is avail\\xADable at \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/fabric8io/vertx-maven-plugin\"}),\"github\"),\" with \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" plug\\xADin doc\\xADu\\xADmen\\xADta\\xADtion avail\\xADable at \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\")),mdx(\"p\",null,\"The source code of the ex\\xADam\\xADples used in this blog are avail\\xADable at \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/kameshsampath/vmp-blog\"}),\"github\")),mdx(\"h2\",e({},{id:\"lets-set-it-up\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#lets-set-it-up\"})),\"Let\\u2019s set it up\"),mdx(\"p\",null,\"Its very easy to setup and get started. Let\\u2019s say you have a project called \",mdx(\"em\",{parentName:\"p\"},\"vmp-\\u200Bblog\"),\" with the fol\\xADlow\\xADing con\\xADtent as part of your \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\")),mdx(Gist,{url:\"https://gist.github.com/kameshsampath/0e0cfc90ea3cb9d69553ee9901dfd796\",mdxType:\"Gist\"}),mdx(\"p\",null,\"from the project di\\xADrec\\xADtory just run the fol\\xADlow\\xADing com\\xADmand:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-bash\"}),`mvn io.fabric8:vertx-maven-plugin:1.0.0:setup\n`)),mdx(\"p\",null,\"On suc\\xADcess\\xADful ex\\xADe\\xADcu\\xADtion of the above com\\xADmand the project\\u2019s \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" will be up\\xADdated:\"),mdx(Gist,{url:\"https://gist.github.com/kameshsampath/3c2e96d98f1e16d0f7a0501c05ce0d12\",mdxType:\"Gist\"}),mdx(\"p\",null,\"The com\\xADmand did the fol\\xADlow\\xADing for you on the project:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"added cou\\xADple of prop\\xADer\\xADties\",mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"fabric8.vertx.plugin.version\"),\" - the lat\\xADest fab\\xADric8 vert.x maven plug\\xADin ver\\xADsion\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"inlineCode\",{parentName:\"li\"},\"vertx.version\"),\" - the lat\\xADest Vert.x frame\\xADwork ver\\xADsion\"))),mdx(\"li\",{parentName:\"ul\"},\"added the Vert.x de\\xADpen\\xADdency BOM and vertx-\\u200Bcore de\\xADpen\\xADdency cor\\xADre\\xADspond\\xADing to \",mdx(\"inlineCode\",{parentName:\"li\"},\"vertx.version\")),mdx(\"li\",{parentName:\"ul\"},\"added \",mdx(\"inlineCode\",{parentName:\"li\"},\"vertx-maven-plugin\"),\" with a sin\\xADgle ex\\xADe\\xADcu\\xADtion for goals \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://vmp.fabric8.io/#vertx:initalize\"}),\"ini\\xADtial\\xADize\"),\" and \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://vmp.fabric8.io/#vertx:package\"}),\"pack\\xADage\"))),mdx(\"p\",null,\"The source code cre\\xADated by this step is avail\\xADable \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/kameshsampath/vmp-blog/tree/setup\"}),\"here\")),mdx(\"p\",null,\"Et voil\\xE0, you are now all set to go with your Vert.x ap\\xADpli\\xADca\\xADtion build\\xADing with \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\"!!\"),mdx(\"h2\",e({},{id:\"lets-package-it\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#lets-package-it\"})),\"Let\\u2019s package it\"),mdx(\"p\",null,\"Now that we have set up our project to use \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-maven-plugin\"),\", lets add a sim\\xADple ver\\xADti\\xADcle and pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion as typ\\xADi\\xADcal \",mdx(\"em\",{parentName:\"p\"},\"uber\"),\" jar (in the Vert.x world we call them \",mdx(\"em\",{parentName:\"p\"},\"fat\"),\" jars).  The source code of this sec\\xADtion is avail\\xADable \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/kameshsampath/vmp-blog/tree/package\"}),\"here\"),\".\"),mdx(\"p\",null,\"To make \",mdx(\"inlineCode\",{parentName:\"p\"},\"package\"),\" work cor\\xADrectly we need to add prop\\xADerty called \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx.verticle\"),\", which will be used by the vertx-\\u200Bmaven-plugin to set the \",mdx(\"inlineCode\",{parentName:\"p\"},\"Main-Verticle:\"),\" at\\xADtribute of the \",mdx(\"inlineCode\",{parentName:\"p\"},\"MANIFEST.MF\"),\".  Please refer to the doc\\xADu\\xADmen\\xADta\\xADtion of  \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vmp.fabric8.io/#vertx:package\"}),\"pack\\xADage\"),\" for other pos\\xADsi\\xADble con\\xADfig\\xADu\\xADra\\xADtions.  There is also a \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://vmp.fabric8.io/#vertx:examples\"}),\"ex\\xADam\\xADples\"),\" sec\\xADtion of the vertx-\\u200Bmaven-plugin which pro\\xADvides var\\xADi\\xADous sam\\xADples snip\\xADpets.\"),mdx(\"p\",null,\"The up\\xADdated \",mdx(\"inlineCode\",{parentName:\"p\"},\"pom.xml\"),\" with the added prop\\xADerty \",mdx(\"inlineCode\",{parentName:\"p\"},\"vertx-maven-plugin\"),\" is shown below:\"),mdx(Alert,{info:!0,mdxType:\"Alert\"},mdx(\"p\",null,\"Only up\\xADdated sec\\xADtion is shown below, rest of the pom.xml is same as above\")),mdx(Gist,{url:\"https://gist.github.com/kameshsampath/24a1ed6a377b118f06af2c4b4ddf0ca0\",mdxType:\"Gist\"}),mdx(\"p\",null,\"To pack\\xADage the Vert.x ap\\xADpli\\xADca\\xADtion, run the fol\\xADlow\\xADing \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" com\\xADmand from the project di\\xADrec\\xADtory:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-bash\"}),`mvn clean package\n`)),mdx(\"p\",null,\"On suc\\xADcess\\xADful run of the above com\\xADmand you should see the file with name \",mdx(\"inlineCode\",{parentName:\"p\"},\"${project.finalName}.jar\"),\" cre\\xADated in the \",mdx(\"inlineCode\",{parentName:\"p\"},\"${project.build.directory}\"),\", you could now do the fol\\xADlow\\xADing to start and run the Vert.x ap\\xADpli\\xADca\\xADtion.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-bash\"}),\"java -jar \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-variable\"}),\"${project.build.directory}\"),\"/\",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-variable\"}),\"${project.finalName}\"),`.jar\n`)),mdx(\"p\",null,\"The gen\\xADer\\xADated \",mdx(\"inlineCode\",{parentName:\"p\"},\"MANIFEST.MF\"),\" file is as shown below:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-text\"}),`Main-Class                               io.vertx.core.Launcher\nMain-Verticle                            io.fabric8.blog.MainVerticle\nManifest-Version                         1.0\n`)),mdx(\"p\",null,\"The source code up to now is avail\\xADable in \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/kameshsampath/vmp-blog/tree/package\"}),\"here\")),mdx(\"h3\",e({},{id:\"spi-combination\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#spi-combination\"})),\"SPI Combination\"),mdx(\"p\",null,\"The \",mdx(\"inlineCode\",{parentName:\"p\"},\"package\"),\" goal by de\\xADfault does a SPI com\\xADbi\\xADna\\xADtion, lets say you have a ser\\xADvice file called \",mdx(\"inlineCode\",{parentName:\"p\"},\"com.fasterxml.jackson.core.JsonFactory\"),\" in \",mdx(\"inlineCode\",{parentName:\"p\"},\"${project.basedir}/src/main/resources/META-INF/services\"),\" with con\\xADtents:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-text\"}),`foo.bar.baz.MyImpl\n\\${combine}\n`)),mdx(\"p\",null,\"Dur\\xADing pack\\xADag\\xADing, if the \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\" finds an\\xADother \",mdx(\"inlineCode\",{parentName:\"p\"},\"com.fasterxml.jackson.core.JsonFactory\"),\" ser\\xADvice de\\xADf\\xADi\\xADn\\xADi\\xADtion file within the project de\\xADpen\\xADden\\xADcies with con\\xADtent \",mdx(\"em\",{parentName:\"p\"},\"foo.bar.baz2.My\\xADImpl2\"),\", then it merges the con\\xADtent into \",mdx(\"inlineCode\",{parentName:\"p\"},\"com.fasterxml.jackson.core.JsonFactory\"),\" of \",mdx(\"inlineCode\",{parentName:\"p\"},\"${project.basedir}/src/main/resources/META-INF/services\"),\", re\\xADsult\\xADing in the fol\\xADlow\\xADing con\\xADtent:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-text\"}),`foo.bar.baz.MyImpl\nfoo.bar.baz2.MyImpl2\n`)),mdx(\"p\",null,\"The po\\xADsi\\xADtion of \",mdx(\"inlineCode\",{parentName:\"p\"},\"${combine}\"),\" con\\xADtrols the or\\xADder\\xADing of the merge, since we added \",mdx(\"inlineCode\",{parentName:\"p\"},\"${combine}\"),\" below \",mdx(\"em\",{parentName:\"p\"},\"foo.bar.baz.My\\xADImpl\"),\" all other SPI de\\xADf\\xADi\\xADn\\xADi\\xADtions will be ap\\xADpended below \",mdx(\"em\",{parentName:\"p\"},\"foo.bar.baz.My\\xADImpl\")),mdx(\"h2\",e({},{id:\"whats-next-\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#whats-next-\"})),\"What\\u2019s next ?\"),mdx(\"p\",null,\"It\\u2019s good to have the jar pack\\xADaged and run using \",mdx(\"inlineCode\",{parentName:\"p\"},\"java -jar uber-jar\"),\", but when doing typ\\xADi\\xADcal de\\xADvel\\xADop\\xADment you don\\u2019t  want to do fre\\xADquent \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" pack\\xADag\\xADing and wish to see your changes au\\xADto\\xADmat\\xADi\\xADcally re\\xADde\\xADployed.\"),mdx(\"p\",null,\"Don\\u2019t worry!!! As part of \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\" we have added the in\\xADcre\\xADmen\\xADtal builder to \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://maven.apache.org\"}),\"Apache Maven\"),\" build, which will watch for your source and re\\xADsource changes to per\\xADform au\\xADto\\xADmatic re-\\u200Bbuild and del\\xADe\\xADgate the re\\xADde\\xADploy\\xADment to Vert.x.\"),mdx(\"p\",null,\"Run, re\\xADde\\xADploy and other fea\\xADtures of the \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\" will be ex\\xADplored in de\\xADtail in the next part of this se\\xADries, until then have fun with \",mdx(\"a\",e({parentName:\"p\"},{href:\"http://vmp.fabric8.io\"}),\"fab\\xADric8 Vert.x Maven Plu\\xADgin\"),\"!!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Internet of Things - Reactive and Asynchronous with Vert.x","category":"guides","authors":[{"name":"Paolo Patierno","github_id":"ppatierno"}],"summary":"I have to admit … before joining Red Hat I didn’t know about the Eclipse Vert.x project but it took me few days to fall in love with it!"},"date":"2016-12-29","slug":"internet-of-things-reactive-and-asynchronous-with-vert-x"},"nextPost":{"meta":{"title":"OAuth2 got easy","category":"guides","authors":[{"name":"Paulo Lopes","github_id":"pmlopes"}],"summary":"Oauth2 support exists in Eclipse Vert.x since version 3.2.0. The implementation follows the principles that rule the whole vert.x ecosystem."},"date":"2016-12-02","slug":"oauth2-got-easy"},"relatedPosts":[{"meta":{"title":"My first Vert.x 3 Application","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let's say, you heard someone saying that Vert.x is awesome. Ok great, but you may want to try it by yourself. Well, the next natural question is “where do I start ?”"},"date":"2015-07-14","slug":"my-first-vert-x-3-application"},{"meta":{"title":"Unit and Integration Tests","category":"guides","authors":[{"name":"Clement Escoffier","github_id":"cescoffier"}],"summary":"Let’s refresh our mind about what we developed so far in the introduction to vert.x series. We forgot an important task. We didn’t test the API."},"date":"2015-08-03","slug":"unit-and-integration-tests"},{"meta":{"title":"Vert.x featuring Continuous Delivery with Jenkins and Ansible","category":"guides","authors":[{"name":"Ricardo Hernandez","github_id":"ricardohmon"}],"summary":"This blog entry describes an approach to adopt Continuous Delivery for Vert.x applications using Jenkins and Ansible by taking advantage of the Jenkins Job DSL and Ansible plugins."},"date":"2016-09-28","slug":"vert-x-featuring-continuous-delivery-with-jenkins-and-ansible"}]},"__N_SSG":true}