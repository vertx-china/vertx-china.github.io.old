{"pageProps":{"categories":["releases","guides","news"],"post":{"meta":{"title":"What's new in Vert.x 4.1","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"See an overview of all new and exciting features in Vert.x 4.1, including Vert.x HTTP proxy, RxJava 3, Open Telemetry, and more."},"date":"2021-05-21","slug":"whats-new-in-vert-x-4-1","readingTime":{"text":"4 min read","minutes":3.615,"time":216900,"words":723},"content":{"compiledSource":"var d=Object.defineProperty,c=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var p=(a,t,r)=>t in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,e=(a,t)=>{for(var r in t||(t={}))o.call(t,r)&&p(a,r,t[r]);if(s)for(var r of s(t))i.call(t,r)&&p(a,r,t[r]);return a},h=(a,t)=>c(a,m(t));var l=(a,t)=>{var r={};for(var n in a)o.call(a,n)&&t.indexOf(n)<0&&(r[n]=a[n]);if(a!=null&&s)for(var n of s(a))t.indexOf(n)<0&&i.call(a,n)&&(r[n]=a[n]);return r};const makeShortcode=a=>function(r){return console.warn(\"Component \"+a+\" was not imported, exported, or provided by MDXProvider as global scope\"),mdx(\"div\",e({},r))},Link=makeShortcode(\"Link\"),layoutProps={},MDXLayout=\"wrapper\";function MDXContent(r){var n=r,{components:a}=n,t=l(n,[\"components\"]);return mdx(MDXLayout,h(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Vert.x 4.1 comes with plenty of new ex\\xADcit\\xADing fea\\xADtures.\"),mdx(\"p\",null,\"Here is an overview of the most im\\xADpor\\xADtant fea\\xADtures sup\\xADported in Vert.x 4.1.\"),mdx(\"h2\",e({},{id:\"reactive-microsoft-sql-server-client\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#reactive-microsoft-sql-server-client\"})),\"Reactive Microsoft SQL Server Client\"),mdx(\"p\",null,\"The \",mdx(Link,{href:\"/docs/4.1.0/vertx-mssql-client/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Re\\xADac\\xADtive Mi\\xADcrosoft SQL Server Client\")),\" joins the \",mdx(Link,{href:\"/docs/#databases\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"data\\xADbase clients\")),\" fam\\xADily!\"),mdx(\"p\",null,\"In this first re\\xADlease, sev\\xADeral com\\xADmon data types are sup\\xADported, as well as pre\\xADpared state\\xADments and trans\\xADac\\xADtions.\"),mdx(\"h2\",e({},{id:\"vertx-http-proxy\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-http-proxy\"})),\"Vert.x HTTP Proxy\"),mdx(\"p\",null,\"It is very easy to write an HTTP proxy with Vert.x, yet there are a lot of things that \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://www.mnot.net/blog/2011/07/11/what_proxies_must_do\"}),\"prox\\xADies must do\"),\".\"),mdx(\"p\",null,mdx(Link,{href:\"/docs/4.1.0/vertx-http-proxy/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Vert.x HTTP Proxy\")),\" is a new com\\xADpo\\xADnent of the stack that aims to make it easy to write prox\\xADies.\"),mdx(\"p\",null,\"You can cre\\xADate a proxy as fol\\xADlows:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`proxyServer.requestHandler(\n       HttpProxy.reverseProxy(vertx.createHttpClient())\n       .origin(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"7070\"),\", \",mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"localhost\"'),`))\n   .listen(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-number\"}),\"8080\"),`);\n`)),mdx(\"p\",null,\"The proxy can also dy\\xADnam\\xADi\\xADcally re\\xADsolve the ori\\xADgin (i.e the prox\\xADied server):\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`HttpProxy proxy = HttpProxy.reverseProxy(proxyClient).originSelector(\n  address -> resolveOrigin(address)\n);\n`)),mdx(\"p\",null,mdx(Link,{href:\"/docs/4.1.0/vertx-web-proxy/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Vert.x Web Proxy\")),\" in\\xADte\\xADgrates the proxy with Vert.x Web.\"),mdx(\"p\",null,\"This com\\xADpo\\xADnent is in tech pre\\xADview and will re\\xADceive more fea\\xADtures over time.\"),mdx(\"h2\",e({},{id:\"rxjava-3\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#rxjava-3\"})),\"RxJava 3\"),mdx(\"p\",null,\"Vert.x has been sup\\xADport\\xADing Rx\\xADJava for many years, the \",mdx(Link,{href:\"/docs/4.1.0/vertx-rx/java3/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Rx\\xADJava 3 sup\\xADport\")),\" has landed in 4.1\"),mdx(\"p\",null,`The rx\\xADi\\xADfied API works like pre\\xADvi\\xADous ver\\xADsions, how\\xADever reg\\xADu\\xADlar meth\\xADods are ex\\xADposed with Rx\\xADJava types\nin\\xADstead of call\\xADbacks since Vert.x 4 async model is based on fu\\xADtures.`),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"hljs language-java\"}),`server.requestHandler(req -> {\n  HttpServerResponse resp = req.respone();\n  resp.setChunked(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-keyword\"}),\"true\"),`);\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// No need to subscribe to the completable\"),`\n  Completable c1 = resp.write(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"1\"'),`);\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Write result is cached, this will send\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// 1\"),`\n  c1.subscribe();\n  c1.subscribe();\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// The Rxified API however requires subscription to trigger the call\"),`\n  Completable c2 = resp.rxWrite(`,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-string\"}),'\"2\"'),`);\n\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// Write is subscription based, this will send\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// 2\"),`\n  `,mdx(\"span\",e({parentName:\"code\"},{className:\"hljs-comment\"}),\"// 2\"),`\n  c2.subscribe();\n  c2.subscribe();\n});\n`)),mdx(\"h2\",e({},{id:\"open-telemetry-support\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#open-telemetry-support\"})),\"Open Telemetry support\"),mdx(\"p\",null,mdx(Link,{href:\"/docs/4.1.0/vertx-opentelemetry/java/\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"Open Teleme\\xADtry\")),\" trac\\xADing is a new and no\\xADtice\\xADable trac\\xADing in\\xADte\\xADgra\\xADtion avail\\xADable in 4.1.\"),mdx(\"h2\",e({},{id:\"service-proxy-with-futures\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#service-proxy-with-futures\"})),\"Service proxy with futures\"),mdx(\"p\",null,\"Vert.x 4 pro\\xADvides a future-\\u200Bfirst API. How\\xADever, ser\\xADvice prox\\xADies can only be de\\xADclared with call\\xADbacks.\"),mdx(\"p\",null,`We ad\\xADdressed this issue in Vert.x 4.1 and you can now write ser\\xADvice prox\\xADies with fu\\xADtures. The only change you\nneed is to de\\xADclare the fu\\xADture usage in the Code\\xADgen mod\\xADule de\\xADc\\xADla\\xADra\\xADtion.`),mdx(\"h2\",e({},{id:\"vertx-web\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-web\"})),\"Vertx-Web\"),mdx(\"p\",null,\"In this re\\xADlease, we im\\xADproved the log\\xADging han\\xADdler to en\\xADable cus\\xADtom log\\xADging for\\xADmats.\"),mdx(\"p\",null,\"The OAuth2 han\\xADdler now fol\\xADlows the OIDC stan\\xADdard by val\\xADi\\xADdat\\xADing the re\\xADquested scopes are present in the OAuth2 re\\xADsponse. A new APIKEY han\\xADdler was added to sup\\xADport more se\\xADcu\\xADrity use cases, and it is now pos\\xADsi\\xADble to write cus\\xADtom authn han\\xADdlers with\\xADout re\\xADquir\\xADing in\\xADter\\xADnal classes.\"),mdx(\"p\",null,\"The API \",mdx(\"inlineCode\",{parentName:\"p\"},\"ctx.json()\"),\" now fol\\xADlows the IANA con\\xADtent type stan\\xADdard.\"),mdx(\"h2\",e({},{id:\"vertx-web-openapi\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-web-openapi\"})),\"Vertx-Web OpenAPI\"),mdx(\"p\",null,\"A lot of com\\xADmu\\xADnity dis\\xADcus\\xADsions and work has been done to im\\xADprove the se\\xADcu\\xADrity han\\xADdling of Ope\\xADnAPI in Vert.x. We now sup\\xADport all kinds of se\\xADcu\\xADrity de\\xADscribed in Ope\\xADnAPI 3.0, OpenId, OAuth2, API-\\u200BKey, HTTP.\"),mdx(\"p\",null,\"The new API also al\\xADlows for fetch\\xADing the se\\xADcu\\xADrity con\\xADfig\\xADu\\xADra\\xADtion from the doc\\xADu\\xADment it\\xADself, rather than hav\\xADing it double-\\u200Bconfigured in the doc\\xADu\\xADment and in the code.\"),mdx(\"h2\",e({},{id:\"vertx-auth\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#vertx-auth\"})),\"Vertx-Auth\"),mdx(\"p\",null,\"In the Vert.x auth mod\\xADule, sup\\xADport for \",mdx(\"inlineCode\",{parentName:\"p\"},\"EdDSA\"),\" was added to the JOSE/COSE code. This means that we can now use those al\\xADgo\\xADrithms in JWT/OAuth2/OIDC/FIDO2. The sup\\xADport re\\xADlies only on the pro\\xADvided JDK which means that users will need to use JDK 15 or above to be able to use those al\\xADgo\\xADrithms.\"),mdx(\"p\",null,\"In the JOSE code, im\\xADprove\\xADments were made to cor\\xADrectly fol\\xADlow the \",mdx(\"inlineCode\",{parentName:\"p\"},\"use\"),\" value of a JWK and more tests were added to ver\\xADify that we in\\xADterop prop\\xADerly with to\\xADkens gen\\xADer\\xADated by other li\\xADbraries.\"),mdx(\"p\",null,\"Fi\\xADnally, in \",mdx(\"inlineCode\",{parentName:\"p\"},\"FIDO2/Webauthn\"),\" we fol\\xADlow the rec\\xADom\\xADmen\\xADda\\xADtion of stor\\xADing the at\\xADtes\\xADta\\xADtion cer\\xADtifi\\xADcates, which al\\xADlows of\\xADfline val\\xADi\\xADda\\xADtion of de\\xADvices. This is a util\\xADity that al\\xADlows you to check if to\\xADkens have been com\\xADpro\\xADmised and dis\\xADable their fu\\xADture use at the RP.\"),mdx(\"h2\",e({},{id:\"kotlin-15-support\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#kotlin-15-support\"})),\"Kotlin 1.5 support\"),mdx(\"p\",null,\"Vert.x 4.1 sup\\xADports Kotlin 1.5\"),mdx(\"h2\",e({},{id:\"general-pool-improvements\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#general-pool-improvements\"})),\"General pool improvements\"),mdx(\"p\",null,\"Vert.x in\\xADter\\xADnal pool has been im\\xADproved to gain more flex\\xADi\\xADbil\\xADity with new fea\\xADtures such as\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"mul\\xADti\\xADple event loops per pool\"),mdx(\"li\",{parentName:\"ul\"},\"waiter can\\xADcel\\xADla\\xADtion\"),mdx(\"li\",{parentName:\"ul\"},\"lock free im\\xADple\\xADmen\\xADta\\xADtion\"),mdx(\"li\",{parentName:\"ul\"},\"con\\xADnec\\xADtion se\\xADlec\\xADtion strat\\xADegy\")),mdx(\"p\",null,\"In ad\\xADdi\\xADtion, the in\\xADter\\xADnal pool is now used by the Vert.x SQL Client and Vert.x Mail Clients.\"),mdx(\"h2\",e({},{id:\"web-session-storage-with-infinispan\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":!0,tabIndex:-1,className:\"heading-anchor\",href:\"#web-session-storage-with-infinispan\"})),\"Web Session Storage with Infinispan\"),mdx(\"p\",null,\"Vert.x Web \",mdx(Link,{href:\"/docs/4.1.0/vertx-web/java/#_session_stores\",passHref:!0,mdxType:\"Link\"},mdx(\"a\",e({parentName:\"p\"},{href:\"\"}),\"ses\\xADsion stor\\xADage\")),` is plug\\xADgable.\nIn this ver\\xADsion, a new ses\\xADsion store with `,mdx(\"a\",e({parentName:\"p\"},{href:\"https://infinispan.org/\"}),\"In\\xADfin\\xADis\\xADpan\"),\" in-\\u200Bmemory data grid is avail\\xADable.\"),mdx(\"p\",null,\"It is im\\xADple\\xADmented on top of the In\\xADfin\\xADis\\xADpan client so it can be used with ei\\xADther stand\\xADalone or clus\\xADtered Vert.x ap\\xADpli\\xADca\\xADtions.\"),mdx(\"p\",null,\"If you want to get started, don\\u2019t miss the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://how-to.vertx.io/web-session-infinispan-howto/\"}),mdx(\"em\",{parentName:\"a\"},\"Web Ses\\xADsion Stor\\xADage with In\\xADfin\\xADis\\xADpan Client\"),\" how-\\u200Bto\"),\".\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"prevPost":{"meta":{"title":"Eclipse Vert.x 4.1.0.CR1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first candidate release of the upcoming Vert.x 4.1 has just been released. We consider it feature complete and invite the community to test it."},"date":"2021-05-21","slug":"eclipse-vert-x-4-1-CR1-released"},"nextPost":{"meta":{"title":"Eclipse Vert.x 4.1.0.Beta1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first beta of the upcoming Vert.x 4.1 has just been released. We consider it feature complete and invite the community to test it."},"date":"2021-05-12","slug":"eclipse-vert-x-4-1-Beta1-released"},"relatedPosts":[{"meta":{"title":"Things to keep in mind concerning CSRF attacks","category":"guides","authors":[{"name":"Xhelal Likaj","github_id":"xhlika"}],"summary":"Eclipse Vert.x like most frameworks provides an anti-CSRF defense. However, no framework can prevent all attack vectors that exist in the web. Therefore, developers need to be aware of some dangers and common attack vectors concerning CSRF defenses."},"date":"2021-01-23","slug":"eclipse-vert-x-CSRF-concerns"},{"meta":{"title":"Eclipse Vert.x 4.1.0.Beta1 released!","category":"releases","authors":[{"name":"Julien Viet","github_id":"vietj"}],"summary":"The first beta of the upcoming Vert.x 4.1 has just been released. We consider it feature complete and invite the community to test it."},"date":"2021-05-12","slug":"eclipse-vert-x-4-1-Beta1-released"},{"meta":{"title":"Building services and APIs with AMQP 1.0","category":"guides","authors":[{"name":"Jakub Scholz","github_id":"scholzj"}],"summary":"Microservices and APIs are everywhere. Everyone talks about them, presentation slides are full of them ... some people are actually even building them."},"date":"2017-01-25","slug":"building-services-and-apis-with-amqp-1-0"}]},"__N_SSG":true}