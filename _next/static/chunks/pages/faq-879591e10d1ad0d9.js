(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{8635:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/faq",function(){return c(7545)}])},9386:function(a,b,c){"use strict";c.d(b,{Z:function(){return q}});var d=c(5893),e=c(5988),f=c.n(e),g=c(4184),h=c.n(g),i=c(7294),j=c(1163),k=c(1898),l=c(5493),m=c(4076),n=c(3023),o=new String(".page-content.jsx-b068a573b7111330{margin-top:6em;\nmargin-bottom:8rem}");o.__hash="b068a573b7111330";var p=o,q=function(a){var b=a.title,c=a.narrow,e=a.hashSmoothScroll,g=void 0!==e&&e,o=a.children,q=(0,i.useContext)(l.Z.State),r=(0,i.useRef)(),s=(0,i.useCallback)(function(a,b){var c=a.substring(a.indexOf("#")+1),d=document.getElementById(c);if(d){var e=d.offsetTop-q.height;(0,k.G)(e,b?200:500)}},[q.height]),t=(0,i.useCallback)(function(a){s(a.newURL)},[s]),u=(0,i.useCallback)(function(a){var b=a.current.querySelectorAll("a[href^='#']"),c=!0,d=!1,e=void 0;try{for(var f,g=function(a,b){var c=b.value;c.onclick=function(a){a.preventDefault();var b=window.location.href;b.substring(b.indexOf("#"))!==c.getAttribute("href")?j.default.push(window.location.pathname+c.getAttribute("href")):s(b)}},h=b[Symbol.iterator]();!(c=(f=h.next()).done);c=!0)g(h,f)}catch(i){d=!0,e=i}finally{try{c||null==h.return||h.return()}finally{if(d)throw e}}},[s]);return(0,i.useEffect)(function(){return g&&(j.default.events.on("hashChangeStart",s),window.addEventListener("hashchange",t),u(r),s(window.location.href,!0)),function(){g&&(window.removeEventListener("hashchange",t),j.default.events.off("hashChangeStart",s))}},[t,s,u,g]),(0,d.jsxs)("main",{className:"jsx-".concat(p.__hash)+" page",children:[(0,d.jsx)(m.Z,{title:b}),(0,d.jsx)("div",{className:"jsx-".concat(p.__hash)+" page-content",children:(0,d.jsx)("div",{ref:r,className:"jsx-".concat(p.__hash)+" "+(h()("container",{"container-narrow":c})||""),children:o})}),(0,d.jsx)(n.Z,{}),(0,d.jsx)(f(),{id:p.__hash,children:p})]})}},7545:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return r}});var d=c(5893),e=c(9386),f=c(5988),g=c.n(f),h=c(4184),i=c.n(h),j=c(628),k=c(7294),l={styles:(0,d.jsx)(g(),{id:"8097a9070c3485b6",children:".faq-question.jsx-8097a9070c3485b6{border-top:1px solid #dee2e6;\nmargin-top:2rem;\npadding-top:2rem}\n.faq-question.jsx-8097a9070c3485b6 h3.jsx-8097a9070c3485b6{margin:0;\nfont-size:1.5rem;\ncursor:pointer;\ncolor:#782b90}\n.faq-question-chevron.jsx-8097a9070c3485b6{width:2rem;\n-webkit-transition:-webkit-transform 150ms ease-in-out;\ntransition:transform 150ms ease-in-out}\n.faq-question-chevron.visible.jsx-8097a9070c3485b6{-webkit-transform:rotate(90deg);\n-moz-transform:rotate(90deg);\n-ms-transform:rotate(90deg);\ntransform:rotate(90deg)}\n.faq-question-answer.jsx-8097a9070c3485b6{display:none;\nmargin-left:2rem}\n.faq-question-answer.visible.jsx-8097a9070c3485b6{display:block}"}),className:"jsx-8097a9070c3485b6"},m=l,n=new String(".faq-question.jsx-8097a9070c3485b6{border-top:1px solid #dee2e6;\nmargin-top:2rem;\npadding-top:2rem}\n.faq-question.jsx-8097a9070c3485b6 h3.jsx-8097a9070c3485b6{margin:0;\nfont-size:1.5rem;\ncursor:pointer;\ncolor:#782b90}\n.faq-question-chevron.jsx-8097a9070c3485b6{width:2rem;\n-webkit-transition:-webkit-transform 150ms ease-in-out;\ntransition:transform 150ms ease-in-out}\n.faq-question-chevron.visible.jsx-8097a9070c3485b6{-webkit-transform:rotate(90deg);\n-moz-transform:rotate(90deg);\n-ms-transform:rotate(90deg);\ntransform:rotate(90deg)}\n.faq-question-answer.jsx-8097a9070c3485b6{display:none;\nmargin-left:2rem}\n.faq-question-answer.visible.jsx-8097a9070c3485b6{display:block}");n.__hash="8097a9070c3485b6";var o=n,p=function(a){var b=a.question,c=a.children,e=(0,k.useState)(),f=e[0],h=e[1];return(0,d.jsxs)("section",{className:"jsx-".concat(o.__hash)+" faq-question",children:[(0,d.jsxs)("h3",{onClick:function(){h(!f)},className:"jsx-".concat(o.__hash),children:[(0,d.jsx)(j.Z,{className:i()(m.className,"faq-question-chevron",{visible:f})}),b]}),(0,d.jsx)("div",{className:"jsx-".concat(o.__hash)+" "+(i()("faq-question-answer",{visible:f})||""),children:c}),(0,d.jsx)(g(),{id:o.__hash,children:o})]})};function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}c(1664);var r=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=function(){var b=Object.assign({code:"code",p:"p",strong:"strong",ul:"ul",li:"li",a:"a",pre:"pre",span:"span"},a.components);return(0,d.jsxs)(e.Z,{title:"常见问题",children:[(0,d.jsx)("h2",{children:"常见问题"}),(0,d.jsxs)(p,{question:(0,d.jsxs)(d.Fragment,{children:["已启用 ",(0,d.jsx)(b.code,{children:"logActivity"})," 配置，但仍未有日志输出"]}),children:[(0,d.jsxs)(b.p,{children:["大部分 Vert.x 的网络客户端支持 ",(0,d.jsx)(b.code,{children:"logActivity"})," 配置，用于激活网络活动的日志。\n如果启用了该配置，Netty 的 pipeline 将以 ",(0,d.jsx)(b.code,{children:"DEBUG"})," 级别输出日志到 Netty 的日志框架。"]}),(0,d.jsxs)(b.p,{children:["因此仅仅启用 ",(0,d.jsx)(b.code,{children:"logActivity"})," 配置是不够的。\n您还需要在日志框架的配置中，将 ",(0,d.jsx)(b.code,{children:"io.netty.handler.logging.LoggingHandler"})," 的日志级别设为 ",(0,d.jsx)(b.code,{children:"DEBUG"})," 。"]})]}),(0,d.jsxs)(p,{question:"若 Vert.x 集群的其中一个节点宕机时，事件总线（EventBus）的消息会发生什么？",children:[(0,d.jsxs)(b.p,{children:["当您在事件总线上发送消息时，该消息将发送到消费者节点，消息被处理前会存储在内存中。\n消息 ",(0,d.jsx)(b.strong,{children:"不会"})," 持久存储在磁盘或数据库中。"]}),(0,d.jsx)(b.p,{children:"因此，如果消费者节点未处理消息就崩溃，则消息会丢失。"}),(0,d.jsx)(b.p,{children:"如果无法容忍某些消息的丢失，可以有以下几种选择："}),(0,d.jsxs)(b.ul,{children:["\n",(0,d.jsx)(b.li,{children:"发送失败并出现错误时，幂等地重试"}),"\n",(0,d.jsx)(b.li,{children:"异步确认（消息被消费）"}),"\n"]}),(0,d.jsxs)(b.p,{children:["否则，请考虑使用成熟的基于Bro\xadker的消息队列系统，例如 ",(0,d.jsx)(b.a,{href:"http://activemq.apache.org/",children:"Apache Ac\xadtiveMQ"})," 和 ",(0,d.jsx)(b.a,{href:"https://www.rabbitmq.com/",children:"Rab\xadbitMQ"}),"。"]}),(0,d.jsxs)(b.p,{children:["Vert.x 已经有这些消息队列解决方案的客户端： ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-amqp-client/java/",children:"Vert.x AMQP Client"}),"， ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-rabbitmq-client/java/",children:"Rab\xadbitMQ Client for Vert.x"})," 以及 ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-stomp/java/",children:"Vert.x-​Stomp"}),"。"]})]}),(0,d.jsxs)(p,{question:"为什么事件总线的消费者不会接收到之前发送的消息？",children:[(0,d.jsxs)(b.p,{children:["当您向事件总线发布一条消息，它将发送至所有注册了相应消息地址消费者的节点。\n但消息 ",(0,d.jsx)(b.strong,{children:"不会"})," 持久存储在磁盘或数据库中。"]}),(0,d.jsxs)(b.p,{children:["因此，现有节点上新注册的消费者、或后续加入集群的节点上的消费者，将 ",(0,d.jsx)(b.strong,{children:"不会"})," 收到此前发布的消息。"]}),(0,d.jsxs)(b.p,{children:["如果需要此功能，请考虑使用成熟的基于Bro\xadker的消息队列系统，例如 ",(0,d.jsx)(b.a,{href:"http://activemq.apache.org/",children:"Apache Ac\xadtiveMQ"})," 和 ",(0,d.jsx)(b.a,{href:"https://www.rabbitmq.com/",children:"Rab\xadbitMQ"}),"。"]}),(0,d.jsxs)(b.p,{children:["Vert.x 已经有这些消息队列解决方案的客户端： ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-amqp-client/java/",children:"Vert.x AMQP Client"}),"， ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-rabbitmq-client/java/",children:"Rab\xadbitMQ Client for Vert.x"})," 以及 ",(0,d.jsx)(b.a,{href:"https://vertx.io/docs/vertx-stomp/java/",children:"Vert.x-​Stomp"}),"。"]})]}),(0,d.jsxs)(p,{question:"如何使用JVM内置的地址解析器？",children:[(0,d.jsx)(b.p,{children:"默认情况下，Vert.x使用非阻塞地址解析器，而非JVM内置的地址解析器。\n对于大多数用户而言这是透明的，但非阻塞解析器较不成熟，且在某些环境中可能无法使用。"}),(0,d.jsxs)(b.p,{children:["在这种情况下，请在 ",(0,d.jsx)(b.a,{href:"https://github.com/eclipse-vertx/vert.x/issues",children:"Vert.x core 仓库"})," 中建立 issue。"]}),(0,d.jsxs)(b.p,{children:["一种可行的解决方法是，关闭非阻塞解析器，并回退到JVM内置的地址解析器。\n这种情况下，请在启动JVM时将 ",(0,d.jsx)(b.code,{children:"vertx.disableDnsResolver"})," 系统属性设置为 ",(0,d.jsx)(b.code,{children:"true"}),"："]}),(0,d.jsx)(b.pre,{children:(0,d.jsxs)(b.code,{className:"hljs language-ini",children:[(0,d.jsx)(b.span,{className:"hljs-attr",children:"-Dvertx.disableDnsResolver"}),"=",(0,d.jsx)(b.span,{className:"hljs-literal",children:"true"}),"\n"]})})]})]})},c=(a.components||{}).wrapper;return c?(0,d.jsx)(c,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){q(a,b,c[b])})}return a}({},a,{children:(0,d.jsx)(b,{})})):b()}},628:function(a,b,c){"use strict";var d=c(7294),e=c(5697),f=c.n(e);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=(0,d.forwardRef)(function(a,b){var c=a.color,e=a.size,f=void 0===e?24:e,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["color","size"]);return d.createElement("svg",g({ref:b,xmlns:"http://www.w3.org/2000/svg",width:f,height:f,viewBox:"0 0 24 24",fill:"none",stroke:void 0===c?"currentColor":c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},h),d.createElement("polyline",{points:"9 18 15 12 9 6"}))});h.propTypes={color:f().string,size:f().oneOfType([f().string,f().number])},h.displayName="ChevronRight",b.Z=h},1898:function(a,b,c){"use strict";function d(a){document.body.scrollTop=document.documentElement.scrollTop=a}function e(a,b){requestAnimationFrame||d(a);var c=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop);if(c!==a){var e=a-c,f=void 0,g=function(a){f||(f=a);var h=Math.min(1,(a-f)/b);d(c+e*(h*(2-h))),h<1&&requestAnimationFrame(g)};requestAnimationFrame(g)}}c.d(b,{G:function(){return e}})}},function(a){a.O(0,[615,536,774,888,179],function(){return a(a.s=8635)}),_N_E=a.O()}])